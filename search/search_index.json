{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Vast.ai CLI &amp; SDK","text":"<p>Welcome to the official documentation for the Vast.ai command-line interface and Python SDK.</p>"},{"location":"#what-is-vastai","title":"What is Vast.ai?","text":"<p>Vast.ai is a GPU cloud marketplace that connects users with low-cost GPU compute. This package provides three ways to interact with the Vast.ai platform:</p> <ul> <li>CLI: Command-line interface for shell scripts and terminal usage</li> <li>SDK: Python library for programmatic access</li> <li>Serverless: Async client/server framework for distributed workloads</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"CLI (wget)CLI (pip)SDK <pre><code>wget https://raw.githubusercontent.com/vast-ai/vast-python/master/vast.py\nchmod +x vast.py\n./vast.py set api-key YOUR_API_KEY\n./vast.py search offers --limit 3\n</code></pre> <pre><code>pip install vastai\nvastai set api-key YOUR_API_KEY\nvastai search offers --limit 3\n</code></pre> <pre><code>from vastai import VastAI\n\nclient = VastAI(api_key=\"YOUR_API_KEY\")\noffers = client.search_offers()\nprint(offers)\n</code></pre>"},{"location":"#features","title":"Features","text":"<ul> <li>130+ Commands: Full coverage of the Vast.ai REST API</li> <li>Type Hints: Complete type annotations for IDE support</li> <li>Retry Logic: Automatic retry with exponential backoff for transient failures</li> <li>Raw Mode: JSON output for scripting (<code>--raw</code> flag)</li> <li>Serverless Framework: Async client/server for distributed GPU workloads</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<ol> <li>Installation - Set up the CLI, SDK, or both</li> <li>CLI Guide - Learn the command-line interface</li> <li>SDK Guide - Use the Python SDK</li> <li>Migration Guide - Upgrading from the old SDK</li> </ol>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository</li> <li>Vast.ai Console</li> <li>API Key - Get your API key</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog_1","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>SDK Integration: <code>VastAI</code> class now imports from live <code>vast.py</code> module instead of frozen copy</li> <li>Type Hints: Complete type annotations on all 130+ SDK methods in <code>vastai_base.py</code></li> <li>Type Hints: Return type annotations distinguishing <code>list[dict]</code> vs <code>dict</code> returns</li> <li>Docstrings: All public SDK methods have docstrings for IDE autocomplete</li> <li>Serverless Lazy Imports: Serverless classes load on-demand via PEP 562 <code>__getattr__</code></li> <li>Test Suite: 547 tests covering HTTP helpers, timezone, query parser, SDK wrapper, CLI commands</li> <li>Static Analysis: mypy configuration with strict mode for <code>vastai/</code> package</li> <li>Linting: Ruff configuration with pre-commit hooks</li> <li>Retry Logic: Expanded retry to handle 429, 502, 503, 504 status codes and connection errors</li> <li>Timeout Handling: All HTTP requests now have configurable timeouts (30s default, 120s for file ops)</li> <li>DRY Helpers: <code>api_call()</code>, <code>output_result()</code>, <code>error_output()</code>, <code>require_id()</code> helpers</li> <li>Backwards Compatibility: <code>autogroup_*</code> aliases for renamed <code>workergroup_*</code> methods</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Import Path: Primary import is now <code>from vastai import VastAI</code> (was <code>from vastai_sdk import VastAI</code>)</li> <li>Package Structure: SDK, CLI, and serverless unified in single <code>vastai</code> package</li> <li>UTC Handling: All timestamp functions use <code>datetime.fromtimestamp(ts, tz=timezone.utc)</code> instead of deprecated <code>utcfromtimestamp()</code></li> <li>Error Output: Error messages are JSON in <code>--raw</code> mode for machine-readable scripting</li> <li>Dict Access: Safe <code>.get()</code> patterns on all API response handling (50+ locations)</li> <li>Subprocess: All subprocess calls use argument lists instead of <code>shell=True</code></li> <li>Exception Handling: Specific exception types replace bare <code>except:</code> clauses</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Mutable Defaults: Fixed <code>json={}</code> mutable default arguments in <code>http_put</code>, <code>http_post</code>, <code>http_del</code></li> <li>Timezone Bugs: Fixed local time displayed as \"UTC\" - now uses actual UTC conversion</li> <li>Raw Mode: Fixed 31+ functions returning <code>Response</code> objects instead of parsed JSON</li> <li>Query Parser: Fixed field alias bug where <code>v</code> referenced already-popped dict key</li> <li>Instance Display: Fixed <code>show__instances()</code> loop not storing modified rows back to list</li> <li>Machine Display: Fixed <code>show__machine()</code> to handle single dict response (not just list)</li> <li>Search Functions: Fixed hardcoded <code>if True:</code> in <code>search__benchmarks</code>, <code>search__invoices</code>, <code>search__templates</code></li> <li>SDK Import: Fixed missing <code>timezone</code> import from <code>datetime</code> module</li> <li>SDK Exceptions: Fixed overly broad <code>except: pass</code> that swallowed errors silently</li> <li>SDK stdout: Fixed stdout capture to restore in <code>finally</code> block (thread-safe)</li> <li>SDK sys.exit: CLI <code>sys.exit()</code> calls now caught and converted to return values</li> <li>Variable Shadowing: Renamed <code>id</code> and <code>sum</code> local variables to avoid shadowing builtins</li> <li>API Key Handling: Removed redundant API key from JSON body in 4 serverless functions</li> <li>Cluster Display: Clusters without manager node now skipped gracefully</li> <li>Typo Fixes: Fixed <code>reuqest_idx</code> typo in serverless client, <code>debbuging</code> typo in Namespace</li> </ul>"},{"location":"changelog/#deprecated","title":"Deprecated","text":"<ul> <li><code>from vastai_sdk import VastAI</code> import path - use <code>from vastai import VastAI</code></li> <li><code>autogroup</code> command names - use <code>workergroup</code> (aliases remain for compatibility)</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>Frozen copy of <code>vast.py</code> in SDK (SDK now imports from live module)</li> <li>Unused dependencies: <code>fastapi</code>, <code>uvicorn</code>, <code>jsonschema</code>, <code>nltk</code>, <code>transformers</code>, <code>hf_transfer</code></li> <li>Dead code: unreachable <code>else</code> branches after <code>raise_for_status()</code></li> <li>Undocumented <code>--transfer_credit</code> flag from <code>create team</code> command</li> </ul>"},{"location":"changelog/#security","title":"Security","text":"<ul> <li>Removed <code>shell=True</code> from SSH/SCP subprocess calls (command injection risk)</li> <li>API requests no longer include key in JSON body when header auth is used</li> </ul>"},{"location":"changelog/#0xx-previous-releases","title":"[0.x.x] - Previous Releases","text":"<p>See GitHub Releases for prior version history.</p>"},{"location":"installation/","title":"Installation","text":"<p>Vast.ai offers multiple installation methods depending on your use case.</p>"},{"location":"installation/#standalone-script-wget","title":"Standalone Script (wget)","text":"<p>For users who want a single-file solution with minimal dependencies:</p> <pre><code>mkdir vastai &amp;&amp; cd vastai\nwget https://raw.githubusercontent.com/vast-ai/vast-python/master/vast.py\nchmod +x vast.py\n</code></pre> <p>Requirements: Python 3.10+, <code>requests</code>, <code>python-dateutil</code></p> <pre><code>pip install requests python-dateutil\n./vast.py --help\n</code></pre> <p>This method is ideal for:</p> <ul> <li>Servers without pip access</li> <li>Docker containers</li> <li>Quick one-off usage</li> </ul>"},{"location":"installation/#package-installation-pip","title":"Package Installation (pip)","text":"<p>For full CLI and SDK access:</p> <pre><code>pip install vastai\n</code></pre> <p>This installs:</p> <ul> <li><code>vastai</code> CLI command</li> <li><code>VastAI</code> SDK class</li> <li>All core dependencies</li> </ul>"},{"location":"installation/#with-serverless-support","title":"With Serverless Support","text":"<p>For the async serverless client/server framework:</p> <pre><code>pip install \"vastai[serverless]\"\n</code></pre>"},{"location":"installation/#full-installation","title":"Full Installation","text":"<p>Install everything including serverless:</p> <pre><code>pip install \"vastai[all]\"\n</code></pre>"},{"location":"installation/#development-installation","title":"Development Installation","text":"<p>For contributors:</p> <pre><code>git clone https://github.com/vast-ai/vast-python.git\ncd vast-python\npip install -e \".[dev]\"\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"StandalonepipSDK <pre><code>./vast.py --help\n</code></pre> <pre><code>vastai --help\n</code></pre> <pre><code>from vastai import VastAI\nclient = VastAI(api_key=\"test\")\nprint(client)  # Should show VastAI instance\n</code></pre>"},{"location":"installation/#api-key-setup","title":"API Key Setup","text":"<p>After installation, set your API key:</p> <pre><code>vastai set api-key YOUR_API_KEY\n</code></pre> <p>Get your API key from https://cloud.vast.ai/manage-keys/.</p> <p>The key is stored in <code>~/.config/vastai/vast_api_key</code> (XDG spec) or <code>~/.vast_api_key</code> (legacy).</p> <p>Keep your API key secure</p> <p>Never commit your API key to version control or share it publicly.</p>"},{"location":"installation/#optional-dependencies","title":"Optional Dependencies","text":"Package Purpose Install argcomplete Tab completion <code>pip install argcomplete</code> borb PDF invoice generation <code>pip install borb</code>"},{"location":"installation/#system-requirements","title":"System Requirements","text":"<ul> <li>Python 3.10 or higher</li> <li>Works on Linux, macOS, and Windows</li> <li>Internet connection to reach Vast.ai API</li> </ul>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#importerror-for-serverless-classes","title":"ImportError for serverless classes","text":"<p>Install serverless extras: <pre><code>pip install \"vastai[serverless]\"\n</code></pre></p>"},{"location":"installation/#ssl-certificate-errors","title":"SSL certificate errors","text":"<p>Update certifi: <pre><code>pip install --upgrade certifi\n</code></pre></p>"},{"location":"installation/#tab-completion-not-working","title":"Tab completion not working","text":"<p>Ensure argcomplete is installed and activated: <pre><code>pip install argcomplete\nactivate-global-python-argcomplete\n</code></pre></p>"},{"location":"cli/","title":"CLI Overview","text":"<p>The Vast.ai CLI provides command-line access to all Vast.ai platform features using a simple \"verb-object\" pattern.</p>"},{"location":"cli/#installation","title":"Installation","text":"Standalone (wget)Package (pip) <pre><code>wget https://raw.githubusercontent.com/vast-ai/vast-python/master/vast.py\nchmod +x vast.py\n./vast.py --help\n</code></pre> <pre><code>pip install vastai\nvastai --help\n</code></pre>"},{"location":"cli/#command-pattern","title":"Command Pattern","text":"<p>Commands follow a verb-object pattern:</p> <pre><code>vastai &lt;verb&gt; &lt;object&gt; [arguments] [options]\n</code></pre> <p>Examples:</p> Command Description <code>vastai search offers</code> Search for available GPU offers <code>vastai show instances</code> List your running instances <code>vastai create instance</code> Create a new instance <code>vastai destroy instance</code> Destroy an instance <code>vastai set api-key</code> Set your API key"},{"location":"cli/#authentication","title":"Authentication","text":"<p>Get your API key from https://cloud.vast.ai/manage-keys/.</p> <pre><code>vastai set api-key YOUR_API_KEY\n</code></pre>"},{"location":"cli/#api-key-storage","title":"API Key Storage","text":"<p>Keys are searched in this order:</p> <ol> <li><code>--api-key</code> command-line argument</li> <li><code>VAST_API_KEY</code> environment variable</li> <li><code>~/.config/vastai/vast_api_key</code> (XDG standard, preferred)</li> <li><code>~/.vast_api_key</code> (legacy location, still supported)</li> </ol> <p>The CLI stores keys in the XDG-compliant location by default.</p>"},{"location":"cli/#global-options","title":"Global Options","text":"<p>All commands support these options:</p> Option Description <code>--api-key KEY</code> Override stored API key <code>--url URL</code> Override server URL <code>--raw</code> Output machine-readable JSON <code>--explain</code> Show API endpoint being called <code>--curl</code> Show equivalent curl command <code>--retry N</code> Set retry limit (default: 3)"},{"location":"cli/#reading-command-help","title":"Reading Command Help","text":"<p>Understanding the help output format:</p>"},{"location":"cli/#required-vs-optional-arguments","title":"Required vs Optional Arguments","text":"<ul> <li>Positional arguments (shown without <code>--</code>) are required</li> <li>Options (shown with <code>--</code>) are optional unless noted</li> </ul>"},{"location":"cli/#argument-types","title":"Argument Types","text":"<ul> <li>Flags like <code>--ssh</code> or <code>--raw</code> are boolean toggles (no value needed)</li> <li>Value options show a metavar: <code>--disk DISK</code> means <code>--disk 50</code></li> <li>UPPERCASE metavars indicate the expected value type:<ul> <li><code>ID</code> - typically an integer identifier</li> <li><code>PRICE</code> - a decimal number</li> <li><code>IMAGE</code> - a string (docker image name)</li> <li><code>PATH</code> - a file/directory path</li> </ul> </li> </ul>"},{"location":"cli/#example","title":"Example","text":"<pre><code>usage: vastai create instance ID [OPTIONS]\n\npositional arguments:\n  id                    id of instance type to launch  \u2190 REQUIRED (integer)\n\noptions:\n  --disk DISK           size of local disk in GB       \u2190 OPTIONAL (takes number)\n  --image IMAGE         docker image to launch         \u2190 OPTIONAL (takes string)\n  --ssh                 Launch as SSH instance         \u2190 OPTIONAL (flag, no value)\n</code></pre>"},{"location":"cli/#output-formats","title":"Output Formats","text":""},{"location":"cli/#human-readable-default","title":"Human-Readable (default)","text":"<pre><code>vastai show instances\n</code></pre> <p>Output is formatted as tables for easy reading.</p>"},{"location":"cli/#json-raw","title":"JSON (--raw)","text":"<pre><code>vastai show instances --raw\n</code></pre> <p>Output is valid JSON for scripting:</p> <pre><code>vastai show instances --raw | jq '.[0].id'\n</code></pre>"},{"location":"cli/#tab-completion","title":"Tab Completion","text":"<p>Enable tab completion with argcomplete:</p> <pre><code>pip install argcomplete\nactivate-global-python-argcomplete\n</code></pre> <p>Or for a single session:</p> <pre><code>eval \"$(register-python-argcomplete vastai)\"\n</code></pre>"},{"location":"cli/#query-syntax","title":"Query Syntax","text":"<p>Many commands accept a <code>--query</code> parameter for filtering results. The query language supports flexible operators and field comparisons.</p>"},{"location":"cli/#operators","title":"Operators","text":"Operator Aliases Description Example <code>=</code> <code>==</code>, <code>eq</code> Equals <code>gpu_name = RTX_4090</code> <code>!=</code> <code>neq</code>, <code>not eq</code>, <code>noteq</code> Not equals <code>gpu_name != GTX_1080</code> <code>&gt;</code> <code>gt</code> Greater than <code>gpu_ram &gt; 16</code> <code>&gt;=</code> <code>gte</code> Greater or equal <code>num_gpus &gt;= 2</code> <code>&lt;</code> <code>lt</code> Less than <code>dph_total &lt; 1.0</code> <code>&lt;=</code> <code>lte</code> Less or equal <code>reliability &lt;= 0.99</code> <code>in</code> Value in list <code>geolocation in [US,CA,UK]</code> <code>notin</code> <code>not in</code>, <code>nin</code> Value not in list <code>geolocation notin [CN,RU]</code>"},{"location":"cli/#wildcards","title":"Wildcards","text":"<p>Special values for flexible matching:</p> Wildcard Description Example <code>any</code> Match any value <code>cuda_vers = any</code> <code>?</code> Nullable (any or null) <code>inet_up = ?</code> <code>*</code> Wildcard in strings <code>gpu_name = RTX_*</code>"},{"location":"cli/#string-values-with-spaces","title":"String Values with Spaces","text":"<p>When searching for values that contain spaces (like GPU names), you have two options:</p> <ol> <li> <p>Underscores (recommended) - most portable across shells:    <pre><code>vastai search offers \"gpu_name=RTX_4090\"\n</code></pre>    Underscores in values are converted to spaces when sent to the API.</p> </li> <li> <p>Escaped double quotes - wrap query in single quotes, escape inner double quotes:    <pre><code>vastai search offers 'gpu_name=\\\"RTX 4090\\\"'\n</code></pre></p> </li> </ol> <p>Warning</p> <p>Single quotes around values do NOT work: <code>gpu_name='RTX 4090'</code> will fail.</p>"},{"location":"cli/#quoting-rules","title":"Quoting Rules","text":"<ul> <li>Simple values don't need quotes: <code>gpu_ram &gt;= 24</code></li> <li>Values with spaces: use underscores (<code>RTX_4090</code>) or escaped quotes (<code>\\\"RTX 4090\\\"</code>)</li> <li>List values use brackets: <code>geolocation in [US,CA,UK]</code></li> <li>Multiple conditions are space-separated (implicit AND)</li> </ul>"},{"location":"cli/#common-query-fields","title":"Common Query Fields","text":"Field Description Type <code>num_gpus</code> Number of GPUs int <code>gpu_name</code> GPU model name string <code>gpu_ram</code> GPU memory (GB) float <code>gpu_frac</code> GPU fraction (for partial GPU) float <code>cpu_cores</code> Number of CPU cores int <code>cpu_ram</code> System memory (GB) float <code>disk_space</code> Available disk (GB) float <code>dph_total</code> Total price per hour ($) float <code>reliability</code> Host reliability score (0-1) float <code>geolocation</code> Country code string <code>inet_up</code> Upload bandwidth (Mbps) float <code>inet_down</code> Download bandwidth (Mbps) float <code>cuda_vers</code> CUDA version float <code>dlperf</code> Deep learning performance score float"},{"location":"cli/#examples","title":"Examples","text":"<pre><code># High-end GPUs with good reliability\nvastai search offers \"num_gpus&gt;=4 gpu_ram&gt;=24 reliability&gt;0.99\"\n\n# Budget option under $1/hour\nvastai search offers \"dph_total&lt;1.0\" --order \"dph_total\"\n\n# Specific GPU model in North America\nvastai search offers \"gpu_name=RTX_4090 geolocation in [US,CA]\"\n\n# Exclude certain regions\nvastai search offers \"geolocation notin [CN,RU,IR]\"\n</code></pre>"},{"location":"cli/#next-steps","title":"Next Steps","text":"<ul> <li>Command Reference - Full list of all commands</li> <li>Examples - Common usage patterns</li> </ul>"},{"location":"cli/commands/","title":"CLI Command Reference","text":"<p>This reference is auto-generated from <code>vastai --help</code> output.</p> <p>Regenerate this page</p> <p>Run <code>python scripts/generate_cli_docs.py</code> to update this documentation.</p>"},{"location":"cli/commands/#overview","title":"Overview","text":"<pre><code>usage: vast.py [-h] [--url URL] [--retry RETRY] [--explain] [--raw] [--full] [--curl] [--api-key API_KEY] [--version]\n               [--no-color]\n               command ...\n\npositional arguments:\n command                      command to run. one of:\n  help                        print this help message\n  attach ssh                  Attach an SSH key to an instance for remote access\n  cancel copy                 Cancel an in-progress file copy operation\n  cancel sync                 Cancel an in-progress file sync operation\n  change bid                  Change the bid price for a spot/interruptible instance\n  clone volume                Create a copy of an existing volume\n  copy                        Copy files/directories between instances or between local and instance\n  cloud copy                  Copy files between instances and cloud storage (S3, GCS, Azure)\n  take snapshot               Create a snapshot of a running container and push to registry\n  create api-key              Create a new API key with custom permissions\n  create cluster              [Beta] Create a new machine cluster\n  create env-var              Create a new account-level environment variable\n  create ssh-key              Add an SSH public key to your account\n  create workergroup          Create an autoscaling worker group for serverless inference\n  create endpoint             Create a serverless inference endpoint\n  create instance             Create a new GPU instance from an offer\n  create subaccount           Create a subaccount for delegated access\n  create team                 Create a new team\n  create team-role            Create a custom role with specific permissions\n  create template             Create a reusable instance configuration template\n  create volume               Create a new persistent storage volume\n  create network-volume       [Host] [Beta] Create a new network-attached storage volume\n  create overlay              [Beta] Create a virtual overlay network on a cluster\n  delete api-key              Delete an API key\n  delete ssh-key              Remove an SSH key from your account\n  delete scheduled-job        Delete a scheduled job\n  delete cluster              [Beta] Delete a machine cluster\n  delete workergroup          Delete an autoscaling worker group\n  delete endpoint             Delete a serverless inference endpoint\n  delete env-var              Delete a user environment variable\n  delete overlay              [Beta] Delete an overlay network and its instances\n  delete template             Delete a template\n  delete volume               Delete a persistent storage volume\n  destroy instance            Destroy an instance (irreversible, deletes data)\n  destroy instances           Destroy a list of instances (irreversible, deletes data)\n  destroy team                Delete your team and remove all members\n  detach ssh                  Remove an SSH key from an instance\n  execute                     Execute a command on a running instance\n  get endpt-logs              Get logs for a serverless endpoint\n  get wrkgrp-logs             Get logs for an autoscaling worker group\n  invite member               Invite a user to join your team\n  join cluster                [Beta] Add a machine to an existing cluster\n  join overlay                [Beta] Connect an instance to an overlay network\n  label instance              Assign a string label to an instance\n  launch instance             Launch a new instance using search parameters to auto-select the best offer\n  logs                        Get the logs for an instance\n  prepay instance             Prepay credits for a reserved instance to prevent interruption\n  reboot instance             Reboot (stop/start) an instance\n  recycle instance            Destroy and recreate an instance with the same configuration\n  remove member               Remove a team member\n  remove team-role            Delete a custom role from your team\n  reports                     [Host] Get usage and performance reports for a machine\n  reset api-key               Invalidate current API key and generate a new one\n  start instance              Start a stopped instance\n  start instances             Start multiple stopped instances\n  stop instance               Stop a running instance\n  stop instances              Stop multiple running instances\n  tfa activate                Activate a new 2FA method by verifying the code\n  tfa delete                  Remove a 2FA method from your account\n  tfa login                   Complete 2FA login by verifying code\n  tfa regen-codes             Regenerate backup codes for 2FA\n  tfa resend-sms              Resend SMS 2FA code\n  tfa send-sms                Request a 2FA SMS verification code\n  tfa status                  Shows the current 2FA status and configured methods\n  tfa totp-setup              Generate TOTP secret and QR code for Authenticator app setup\n  tfa update                  Update a 2FA method's settings\n  search benchmarks           Search machine benchmark results with filters\n  search invoices             Search billing invoices with filters\n  search offers               Search available GPU offers with filters\n  search templates            Search available templates with filters\n  search volumes              Search available volume offers with filters\n  search network-volumes      [Host] [Beta] Search available network volume offers with filters\n  set api-key                 Set the API key for CLI and SDK authentication\n  set user                    Update account settings from a JSON file\n  ssh-url                     Generate SSH connection URL for an instance\n  scp-url                     Generate SCP file transfer URL for an instance\n  show api-key                Show details for a specific API key\n  show api-keys               List all API keys for your account\n  show audit-logs             Show account activity and audit logs\n  show scheduled-jobs         List all scheduled automation jobs\n  show ssh-keys               List all SSH keys registered to your account\n  show workergroups           List all your autoscaling worker groups\n  show endpoints              List all your serverless endpoints\n  show connections            [Beta] Show network connections between instances\n  show deposit                Show prepaid deposit balance for a reserved instance\n  show earnings               [Host] Show rental income history for your machines\n  show env-vars               List environment variables set for your account\n  show invoices               [Deprecated] Get billing history - use show invoices-v1 instead\n  show invoices-v1            Get billing history with invoices and charges\n  show instance               Show details for a specific instance\n  show instances              List all your running and stopped instances\n  show ipaddrs                Show history of IP addresses used by your instances\n  show clusters               [Beta] List all your machine clusters\n  show overlays               [Beta] List all your overlay networks\n  show subaccounts            List all subaccounts under your account\n  show members                List all members in your team\n  show team-role              Show details for a specific team role\n  show team-roles             List all roles defined for your team\n  show user                   Show your account information and balance\n  show volumes                List all your storage volumes and their status\n  remove-machine-from-cluster\n                              [Host] [Beta] Remove a machine from a cluster\n  transfer credit             Transfer credits to another account\n  update workergroup          Update an existing autoscale group\n  update endpoint             Update an existing endpoint group\n  update env-var              Update an existing user environment variable\n  update instance             Update an instance configuration or recreate from a template\n  update team-role            Update an existing team role\n  update template             Update an existing template\n  update ssh-key              Update an SSH key's label or properties\n  add network-disk            [Host] [Beta] Attach a network disk to a machine cluster\n  cancel maint                [Host] Cancel a scheduled maintenance window\n  cleanup machine             [Host] Clean up expired storage to free disk space\n  defrag machines             [Host] Rebuild larger GPU offers from orphaned single GPUs when possible\n  delete machine              [Host] Remove a machine from your host account\n  list machine                [Host] List a single machine for rent on the marketplace\n  list machines               [Host] List multiple machines for rent on the marketplace\n  list network-volume         [Host] [Beta] List disk space as a rentable network volume\n  list volume                 [Host] List disk space as a rentable volume\n  list volumes                [Host] List disk space on multiple machines as rentable volumes\n  remove defjob               [Host] Remove default background jobs from a machine\n  self-test machine           [Host] Run diagnostics on a hosted machine\n  set defjob                  [Host] Configure default background jobs for a machine\n  set min-bid                 [Host] Set minimum price for interruptible/spot instance rentals\n  schedule maint              [Host] Schedule a maintenance window for a machine\n  show machine                [Host] Show details for a specific hosted machine\n  show machines               [Host] List all your hosted machines\n  show maints                 [Host] List scheduled maintenance windows\n  show network-disks          [Host] [Beta] List network disks attached to your machines\n  unlist machine              [Host] Remove a machine from the rental marketplace\n  unlist network-volume       [Host] [Beta] Remove a network volume offer from the marketplace\n  unlist volume               [Host] Remove a volume offer from the marketplace\n\noptions:\n -h, --help                   show this help message and exit\n --url URL                    Server REST API URL\n --retry RETRY                Retry limit\n --explain                    Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                        Output machine-readable json\n --full                       Print full results instead of paging with `less` for commands that support it\n --curl                       Show a curl equivalency to the call\n --api-key API_KEY            API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                    Show CLI version\n --no-color                   Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nUse 'vast COMMAND --help' for more info about a command\n</code></pre>"},{"location":"cli/commands/#client-commands","title":"Client Commands","text":"<p>Commands for renting and managing GPU instances.</p>"},{"location":"cli/commands/#host-remove-a-machine-from-a-cluster","title":"[Host][Beta] Remove a machine from a cluster","text":"<p>No description</p>"},{"location":"cli/commands/#attach-ssh","title":"attach ssh","text":"<p>Attach an SSH key to an instance for remote access</p> <pre><code>usage: vastai attach ssh instance_id ssh_key\n\nAttach an SSH key to an instance for remote access\n\npositional arguments:\n instance_id        id of instance to attach to\n ssh_key            ssh key to attach to instance\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nAttach an ssh key to an instance. This will allow you to connect to the instance with the ssh key.\n\nExamples:\n vastai attach ssh 12371 ssh-rsa AAAAB3NzaC1yc2EAAA...\n vastai attach ssh 12371 ssh-rsa $(cat ~/.ssh/id_rsa)\n</code></pre>"},{"location":"cli/commands/#cancel-copy","title":"cancel copy","text":"<p>Cancel an in-progress file copy operation</p> <pre><code>usage: vastai cancel copy DST\n\nCancel an in-progress file copy operation\n\npositional arguments:\n dst                instance_id:/path to target of copy operation\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nUse this command to cancel any/all current remote copy operations copying to a specific named instance, given by DST.\n\nExamples:\n vast cancel copy 12371\n\nThe first example cancels all copy operations currently copying data into instance 12371\n</code></pre>"},{"location":"cli/commands/#cancel-sync","title":"cancel sync","text":"<p>Cancel an in-progress file sync operation</p> <pre><code>usage: vastai cancel sync DST\n\nCancel an in-progress file sync operation\n\npositional arguments:\n dst                instance_id:/path to target of sync operation\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nUse this command to cancel any/all current remote cloud sync operations copying to a specific named instance, given by DST.\n\nExamples:\n vast cancel sync 12371\n\nThe first example cancels all copy operations currently copying data into instance 12371\n</code></pre>"},{"location":"cli/commands/#change-bid","title":"change bid","text":"<p>Change the bid price for a spot/interruptible instance</p> <pre><code>usage: vastai change bid id [--price PRICE]\n\nChange the bid price for a spot/interruptible instance\n\npositional arguments:\n id                                id of instance type to change bid\n\noptions:\n -h, --help                        show this help message and exit\n --price PRICE                     per machine bid price in $/hour\n --schedule {HOURLY,DAILY,WEEKLY}  try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY\n --start_date START_DATE           Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional)\n --end_date END_DATE               End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is 7 days from now. (optional)\n --day DAY                         Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0\n --hour HOUR                       Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16\n\nGlobal options (available for all commands):\n --url URL                         Server REST API URL\n --retry RETRY                     Retry limit\n --explain                         Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                             Output machine-readable json\n --full                            Print full results instead of paging with `less` for commands that support it\n --curl                            Show a curl equivalency to the call\n --api-key API_KEY                 API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                         Show CLI version\n --no-color                        Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nChange the current bid price of instance id to PRICE.\nIf PRICE is not specified, then a winning bid price is used as the default.\n</code></pre>"},{"location":"cli/commands/#clone-volume","title":"clone volume","text":"<p>Create a copy of an existing volume</p> <pre><code>usage: vastai copy volume &lt;source_id&gt; &lt;dest_id&gt; [options]\n\nCreate a copy of an existing volume\n\npositional arguments:\n source                     id of volume contract being cloned\n dest                       id of volume offer volume is being copied to\n\noptions:\n -h, --help                 show this help message and exit\n -s SIZE, --size SIZE       Size of new volume contract, in GB. Must be greater than or equal to the source volume, and less than or equal to the destination offer.\n -d, --disable_compression  Do not compress volume data before copying.\n\nGlobal options (available for all commands):\n --url URL                  Server REST API URL\n --retry RETRY              Retry limit\n --explain                  Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                      Output machine-readable json\n --full                     Print full results instead of paging with `less` for commands that support it\n --curl                     Show a curl equivalency to the call\n --api-key API_KEY          API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                  Show CLI version\n --no-color                 Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreate a new volume with the given offer, by copying the existing volume.\nSize defaults to the size of the existing volume, but can be increased if there is available space.\n</code></pre>"},{"location":"cli/commands/#cloud-copy","title":"cloud copy","text":"<p>Copy files between instances and cloud storage (S3, GCS, Azure)</p> <pre><code>usage: vastai cloud copy --src SRC --dst DST --instance INSTANCE_ID -connection CONNECTION_ID --transfer TRANSFER_TYPE\n\nCopy files between instances and cloud storage (S3, GCS, Azure)\n\noptions:\n -h, --help                        show this help message and exit\n --src SRC                         path to source of object to copy\n --dst DST                         path to target of copy operation\n --instance INSTANCE               id of the instance\n --connection CONNECTION           id of cloud connection on your account (get from calling 'vastai show connections')\n --transfer TRANSFER               type of transfer, possible options include Instance To Cloud and Cloud To Instance\n --dry-run                         show what would have been transferred\n --size-only                       skip based on size only, not mod-time or checksum\n --ignore-existing                 skip all files that exist on destination\n --update                          skip files that are newer on the destination\n --delete-excluded                 delete files on dest excluded from transfer\n --schedule {HOURLY,DAILY,WEEKLY}  try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY\n --start_date START_DATE           Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional)\n --end_date END_DATE               End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is contract's end. (optional)\n --day DAY                         Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0\n --hour HOUR                       Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16\n\nGlobal options (available for all commands):\n --url URL                         Server REST API URL\n --retry RETRY                     Retry limit\n --explain                         Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                             Output machine-readable json\n --full                            Print full results instead of paging with `less` for commands that support it\n --curl                            Show a curl equivalency to the call\n --api-key API_KEY                 API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                         Show CLI version\n --no-color                        Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCopies a directory from a source location to a target location. Each of source and destination\ndirectories can be either local or remote, subject to appropriate read and write\npermissions required to carry out the action. The format for both src and dst is [instance_id:]path.\nYou can find more information about the cloud copy operation here: https://vast.ai/docs/gpu-instances/cloud-sync\n\nExamples:\n vastai show connections\n ID    NAME      Cloud Type\n 1001  test_dir  drive\n 1003  data_dir  drive\n\n vastai cloud copy --src /folder --dst /workspace --instance 6003036 --connection 1001 --transfer \"Instance To Cloud\"\n\nThe example copies all contents of /folder into /workspace on instance 6003036 from gdrive connection 'test_dir'.\n</code></pre>"},{"location":"cli/commands/#copy","title":"copy","text":"<p>Copy files/directories between instances or between local and instance</p> <pre><code>usage: vastai copy SRC DST\n\nCopy files/directories between instances or between local and instance\n\npositional arguments:\n src                               Source location for copy operation (supports multiple formats)\n dst                               Target location for copy operation (supports multiple formats)\n\noptions:\n -h, --help                        show this help message and exit\n -i IDENTITY, --identity IDENTITY  Location of ssh private key\n\nGlobal options (available for all commands):\n --url URL                         Server REST API URL\n --retry RETRY                     Retry limit\n --explain                         Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                             Output machine-readable json\n --full                            Print full results instead of paging with `less` for commands that support it\n --curl                            Show a curl equivalency to the call\n --api-key API_KEY                 API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                         Show CLI version\n --no-color                        Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCopies a directory from a source location to a target location. Each of source and destination\ndirectories can be either local or remote, subject to appropriate read and write\npermissions required to carry out the action.\n\nSupported location formats:\n- [instance_id:]path               (legacy format, still supported)\n- C.instance_id:path              (container copy format)\n- cloud_service:path              (cloud service format)\n- cloud_service.cloud_service_id:path  (cloud service with ID)\n- local:path                      (explicit local path)\n- V.volume_id:path                (volume copy, see restrictions)\n\nYou should not copy to /root or / as a destination directory, as this can mess up the permissions on your instance ssh folder, breaking future copy operations (as they use ssh authentication)\nYou can see more information about constraints here: https://vast.ai/docs/gpu-instances/data-movement#constraints\nVolume copy is currently only supported for copying to other volumes or instances, not cloud services or local.\n\nExamples:\n vast copy 6003036:/workspace/ 6003038:/workspace/\n vast copy C.11824:/data/test local:data/test\n vast copy local:data/test C.11824:/data/test\n vast copy drive:/folder/file.txt C.6003036:/workspace/\n vast copy s3.101:/data/ C.6003036:/workspace/\n vast copy V.1234:/file C.5678:/workspace/\n\nThe first example copy syncs all files from the absolute directory '/workspace' on instance 6003036 to the directory '/workspace' on instance 6003038.\nThe second example copy syncs files from container 11824 to the local machine using structured syntax.\nThe third example copy syncs files from local to container 11824 using structured syntax.\nThe fourth example copy syncs files from Google Drive to an instance.\nThe fifth example copy syncs files from S3 bucket with id 101 to an instance.\n</code></pre>"},{"location":"cli/commands/#create-api-key","title":"create api-key","text":"<p>Create a new API key with custom permissions</p> <pre><code>usage: vastai create api-key --name NAME --permission_file PERMISSIONS\n\nCreate a new API key with custom permissions\n\noptions:\n -h, --help                         show this help message and exit\n --name NAME                        name of the api-key\n --permission_file PERMISSION_FILE  file path for json encoded permissions, see https://vast.ai/docs/cli/roles-and-permissions for more information\n --key_params KEY_PARAMS            optional wildcard key params for advanced keys\n\nGlobal options (available for all commands):\n --url URL                          Server REST API URL\n --retry RETRY                      Retry limit\n --explain                          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                              Output machine-readable json\n --full                             Print full results instead of paging with `less` for commands that support it\n --curl                             Show a curl equivalency to the call\n --api-key API_KEY                  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                          Show CLI version\n --no-color                         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nIn order to create api keys you must understand how permissions must be sent via json format.\nYou can find more information about permissions here: https://vast.ai/docs/cli/roles-and-permissions\n</code></pre>"},{"location":"cli/commands/#create-cluster","title":"create cluster","text":"<p>[Beta] Create a new machine cluster</p> <pre><code>usage: vastai create cluster SUBNET MANAGER_ID\n\n[Beta] Create a new machine cluster\n\npositional arguments:\n subnet             local subnet for cluster, ex: '0.0.0.0/24'\n manager_id         Machine ID of manager node in cluster. Must exist already.\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreate Vast Cluster by defining a local subnet and manager id.\n</code></pre>"},{"location":"cli/commands/#create-endpoint","title":"create endpoint","text":"<p>Create a serverless inference endpoint</p> <pre><code>usage: vastai create endpoint [OPTIONS]\n\nCreate a serverless inference endpoint\n\noptions:\n -h, --help                     show this help message and exit\n --min_load MIN_LOAD            minimum floor load in perf units/s  (token/s for LLms)\n --min_cold_load MIN_COLD_LOAD  minimum floor load in perf units/s (token/s for LLms), but allow handling with cold workers\n --target_util TARGET_UTIL      target capacity utilization (fraction, max 1.0, default 0.9)\n --cold_mult COLD_MULT          cold/stopped instance capacity target as multiple of hot capacity target (default 2.5)\n --cold_workers COLD_WORKERS    min number of workers to keep 'cold' when you have no load (default 5)\n --max_workers MAX_WORKERS      max number of workers your endpoint group can have (default 20)\n --endpoint_name ENDPOINT_NAME  deployment endpoint name (allows multiple autoscale groups to share same deployment endpoint)\n\nGlobal options (available for all commands):\n --url URL                      Server REST API URL\n --retry RETRY                  Retry limit\n --explain                      Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                          Output machine-readable json\n --full                         Print full results instead of paging with `less` for commands that support it\n --curl                         Show a curl equivalency to the call\n --api-key API_KEY              API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                      Show CLI version\n --no-color                     Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreate a new endpoint group to manage many autoscaling groups\n\nExample: vastai create endpoint --target_util 0.9 --cold_mult 2.0 --endpoint_name \"LLama\"\n</code></pre>"},{"location":"cli/commands/#create-env-var","title":"create env-var","text":"<p>Create a new account-level environment variable</p> <pre><code>usage: vastai create env-var &lt;name&gt; &lt;value&gt;\n\nCreate a new account-level environment variable\n\npositional arguments:\n name               Environment variable name\n value              Environment variable value\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#create-instance","title":"create instance","text":"<p>Create a new GPU instance from an offer</p> <pre><code>usage: vastai create instance ID [OPTIONS] [--args ...]\n\nCreate a new GPU instance from an offer\n\npositional arguments:\n id                                id of instance type to launch (returned from search offers)\n\noptions:\n -h, --help                        show this help message and exit\n --template_hash TEMPLATE_HASH     Create instance from template info\n --user USER                       User to use with docker create. This breaks some images, so only use this if you are certain you need it.\n --disk DISK                       size of local disk partition in GB\n --image IMAGE                     docker container image to launch\n --login LOGIN                     docker login arguments for private repo authentication, surround with '' \n --label LABEL                     label to set on the instance\n --onstart ONSTART                 filename to use as onstart script\n --onstart-cmd ONSTART_CMD         contents of onstart script as single argument\n --entrypoint ENTRYPOINT           override entrypoint for args launch instance\n --ssh                             Launch as an ssh instance type\n --jupyter                         Launch as a jupyter instance instead of an ssh instance\n --direct                          Use (faster) direct connections for jupyter &amp; ssh\n --jupyter-dir JUPYTER_DIR         For runtype 'jupyter', directory in instance to use to launch jupyter. Defaults to image's working directory\n --jupyter-lab                     For runtype 'jupyter', Launch instance with jupyter lab\n --lang-utf8                       Workaround for images with locale problems: install and generate locales before instance launch, and set locale to C.UTF-8\n --python-utf8                     Workaround for images with locale problems: set python's locale to C.UTF-8\n --env ENV                         env variables and port mapping options, surround with '' \n --args ...                        list of arguments passed to container ENTRYPOINT. Onstart is recommended for this purpose. (must be last argument)\n --force                           Skip sanity checks when creating from an existing instance\n --cancel-unavail                  Return error if scheduling fails (rather than creating a stopped instance)\n --bid_price BID_PRICE             (OPTIONAL) create an INTERRUPTIBLE instance with per machine bid price in $/hour\n --create-volume VOLUME_ASK_ID     Create a new local volume using an ID returned from the \"search volumes\" command and link it to the new instance\n --link-volume EXISTING_VOLUME_ID  ID of an existing rented volume to link to the instance during creation. (returned from \"show volumes\" cmd)\n --volume-size VOLUME_SIZE         Size of the volume to create in GB. Only usable with --create-volume (default 15GB)\n --mount-path MOUNT_PATH           The path to the volume from within the new instance container. e.g. /root/volume\n --volume-label VOLUME_LABEL       (optional) A name to give the new volume. Only usable with --create-volume\n\nGlobal options (available for all commands):\n --url URL                         Server REST API URL\n --retry RETRY                     Retry limit\n --explain                         Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                             Output machine-readable json\n --full                            Print full results instead of paging with `less` for commands that support it\n --curl                            Show a curl equivalency to the call\n --api-key API_KEY                 API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                         Show CLI version\n --no-color                        Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nPerforms the same action as pressing the \"RENT\" button on the website at https://console.vast.ai/create/\nCreates an instance from an offer ID (which is returned from \"search offers\"). Each offer ID can only be used to create one instance.\nBesides the offer ID, you must pass in an '--image' argument as a minimum.\n\nIf you use args/entrypoint launch mode, we create a container from your image as is, without attempting to inject ssh and or jupyter.\nIf you use the args launch mode, you can override the entrypoint with --entrypoint, and pass arguments to the entrypoint with --args.\nIf you use --args, that must be the last argument, as any following tokens are consumed into the args string.\nFor ssh/jupyter launch types, use --onstart-cmd to pass in startup script, instead of --entrypoint and --args.\n\nExamples:\n\n# create an on-demand instance with the PyTorch (cuDNN Devel) template and 64GB of disk\nvastai create instance 384826 --template_hash 661d064bbda1f2a133816b6d55da07c3 --disk 64\n\n# create an on-demand instance with the pytorch/pytorch image, 40GB of disk, open 8081 udp, direct ssh, set hostname to billybob, and a small onstart script\nvastai create instance 6995713 --image pytorch/pytorch --disk 40 --env '-p 8081:8081/udp -h billybob' --ssh --direct --onstart-cmd \"env | grep _ &gt;&gt; /etc/environment; echo 'starting up'\";\n\n# create an on-demand instance with the bobsrepo/pytorch:latest image, 20GB of disk, open 22, 8080, jupyter ssh, and set some env variables\nvastai create instance 384827  --image bobsrepo/pytorch:latest --login '-u bob -p 9d8df!fd89ufZ docker.io' --jupyter --direct --env '-e TZ=PDT -e XNAME=XX4 -p 22:22 -p 8080:8080' --disk 20\n\n# create an on-demand instance with the pytorch/pytorch image, 40GB of disk, override the entrypoint to bash and pass bash a simple command to keep the instance running. (args launch without ssh/jupyter)\nvastai create instance 5801802 --image pytorch/pytorch --disk 40 --onstart-cmd 'bash' --args -c 'echo hello; sleep infinity;'\n\n# create an interruptible (spot) instance with the PyTorch (cuDNN Devel) template, 64GB of disk, and a bid price of $0.10/hr\nvastai create instance 384826 --template_hash 661d064bbda1f2a133816b6d55da07c3 --disk 64 --bid_price 0.1\n\nReturn value:\nReturns a json reporting the instance ID of the newly created instance:\n{'success': True, 'new_contract': 7835610}\n</code></pre>"},{"location":"cli/commands/#create-overlay","title":"create overlay","text":"<p>[Beta] Create a virtual overlay network on a cluster</p> <pre><code>usage: vastai create overlay CLUSTER_ID OVERLAY_NAME\n\n[Beta] Create a virtual overlay network on a cluster\n\npositional arguments:\n cluster_id         ID of cluster to create overlay on top of\n name               overlay network name\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreates an overlay network to allow local networking between instances on a physical cluster\n</code></pre>"},{"location":"cli/commands/#create-ssh-key","title":"create ssh-key","text":"<p>Add an SSH public key to your account</p> <pre><code>usage: vastai create ssh-key [ssh_public_key] [-y]\n\nAdd an SSH public key to your account\n\npositional arguments:\n ssh_key            add your existing ssh public key to your account (from the .pub file). If no public key is provided, a new key pair will be generated.\n\noptions:\n -h, --help         show this help message and exit\n -y, --yes          automatically answer yes to prompts\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nYou may use this command to add an existing public key, or create a new ssh key pair and add that public key, to your Vast account.\n\nIf you provide an ssh_public_key.pub argument, that public key will be added to your Vast account. All ssh public keys should be in OpenSSH format.\n\n        Example: $vastai create ssh-key 'ssh_public_key.pub'\n\nIf you don't provide an ssh_public_key.pub argument, a new Ed25519 key pair will be generated.\n\n        Example: $vastai create ssh-key\n\nThe generated keys are saved as ~/.ssh/id_ed25519 (private) and ~/.ssh/id_ed25519.pub (public). Any existing id_ed25519 keys are backed up as .backup_&lt;timestamp&gt;.\nThe public key will be added to your Vast account.\n\nAll ssh public keys are stored in your Vast account and can be used to connect to instances they've been added to.\n</code></pre>"},{"location":"cli/commands/#create-subaccount","title":"create subaccount","text":"<p>Create a subaccount for delegated access</p> <pre><code>usage: vastai create subaccount --email EMAIL --username USERNAME --password PASSWORD --type TYPE\n\nCreate a subaccount for delegated access\n\noptions:\n -h, --help           show this help message and exit\n --email EMAIL        email address to use for login\n --username USERNAME  username to use for login\n --password PASSWORD  password to use for login\n --type TYPE          host/client\n\nGlobal options (available for all commands):\n --url URL            Server REST API URL\n --retry RETRY        Retry limit\n --explain            Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                Output machine-readable json\n --full               Print full results instead of paging with `less` for commands that support it\n --curl               Show a curl equivalency to the call\n --api-key API_KEY    API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version            Show CLI version\n --no-color           Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreates a new account that is considered a child of your current account as defined via the API key.\n\nvastai create subaccount --email bob@gmail.com --username bob --password password --type host\n\nvastai create subaccount --email vast@gmail.com --username vast --password password --type host\n</code></pre>"},{"location":"cli/commands/#create-team","title":"create team","text":"<p>Create a new team</p> <pre><code>usage: vastai create-team --team_name TEAM_NAME\n\nCreate a new team\n\noptions:\n -h, --help             show this help message and exit\n --team_name TEAM_NAME  name of the team\n\nGlobal options (available for all commands):\n --url URL              Server REST API URL\n --retry RETRY          Retry limit\n --explain              Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                  Output machine-readable json\n --full                 Print full results instead of paging with `less` for commands that support it\n --curl                 Show a curl equivalency to the call\n --api-key API_KEY      API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version              Show CLI version\n --no-color             Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreates a new team under your account.\n\nUnlike legacy teams, this command does NOT convert your personal account into a team.\nEach team is created as a separate account, and you can be a member of multiple teams.\n\nWhen you create a team:\n  - You become the team owner.\n  - The team starts as an independent account with its own billing, credits, and resources.\n  - Default roles (owner, manager, member) are automatically created.\n  - You can invite others, assign roles, and manage resources within the team.\n\nNotes:\n  - You cannot create a team from within another team account.\n  - To transfer credits to a team, use `vastai transfer credit &lt;team_email&gt; &lt;amount&gt;` after team creation.\n\nFor more details, see:\nhttps://vast.ai/docs/teams-quickstart\n</code></pre>"},{"location":"cli/commands/#create-team-role","title":"create team-role","text":"<p>Create a custom role with specific permissions</p> <pre><code>usage: vastai create team-role --name NAME --permissions PERMISSIONS\n\nCreate a custom role with specific permissions\n\noptions:\n -h, --help                 show this help message and exit\n --name NAME                name of the role\n --permissions PERMISSIONS  file path for json encoded permissions, look in the docs for more information\n\nGlobal options (available for all commands):\n --url URL                  Server REST API URL\n --retry RETRY              Retry limit\n --explain                  Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                      Output machine-readable json\n --full                     Print full results instead of paging with `less` for commands that support it\n --curl                     Show a curl equivalency to the call\n --api-key API_KEY          API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                  Show CLI version\n --no-color                 Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreating a new team role involves understanding how permissions must be sent via json format.\nYou can find more information about permissions here: https://vast.ai/docs/cli/roles-and-permissions\n</code></pre>"},{"location":"cli/commands/#create-template","title":"create template","text":"<p>Create a reusable instance configuration template</p> <pre><code>usage: vastai create template\n\nCreate a reusable instance configuration template\n\noptions:\n -h, --help                     show this help message and exit\n --name NAME                    name of the template\n --image IMAGE                  docker container image to launch\n --image_tag IMAGE_TAG          docker image tag (can also be appended to end of image_path)\n --href HREF                    link you want to provide\n --repo REPO                    link to repository\n --login LOGIN                  docker login arguments for private repo authentication, surround with ''\n --env ENV                      Contents of the 'Docker options' field\n --ssh                          Launch as an ssh instance type\n --jupyter                      Launch as a jupyter instance instead of an ssh instance\n --direct                       Use (faster) direct connections for jupyter &amp; ssh\n --jupyter-dir JUPYTER_DIR      For runtype 'jupyter', directory in instance to use to launch jupyter. Defaults to image's working directory\n --jupyter-lab                  For runtype 'jupyter', Launch instance with jupyter lab\n --onstart-cmd ONSTART_CMD      contents of onstart script as single argument\n --search_params SEARCH_PARAMS  search offers filters\n -n, --no-default               Disable default search param query args\n --disk_space DISK_SPACE        disk storage space, in GB\n --readme README                readme string\n --hide-readme                  hide the readme from users\n --desc DESC                    description string\n --public                       make template available to public\n\nGlobal options (available for all commands):\n --url URL                      Server REST API URL\n --retry RETRY                  Retry limit\n --explain                      Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                          Output machine-readable json\n --full                         Print full results instead of paging with `less` for commands that support it\n --curl                         Show a curl equivalency to the call\n --api-key API_KEY              API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                      Show CLI version\n --no-color                     Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreate a template that can be used to create instances with\n\nExample:\n    vastai create template --name \"tgi-llama2-7B-quantized\" --image \"ghcr.io/huggingface/text-generation-inference:1.0.3\"\n                            --env \"-p 3000:3000 -e MODEL_ARGS='--model-id TheBloke/Llama-2-7B-chat-GPTQ --quantize gptq'\"\n                            --onstart-cmd 'wget -O - https://raw.githubusercontent.com/vast-ai/vast-pyworker/main/scripts/launch_tgi.sh | bash'\n                            --search_params \"gpu_ram&gt;=23 num_gpus=1 gpu_name=RTX_3090 inet_down&gt;128 direct_port_count&gt;3 disk_space&gt;=192 driver_version&gt;=535086005 rented=False\"\n                            --disk_space 8.0 --ssh --direct\n</code></pre>"},{"location":"cli/commands/#create-volume","title":"create volume","text":"<p>Create a new persistent storage volume</p> <pre><code>usage: vastai create volume ID [options]\n\nCreate a new persistent storage volume\n\npositional arguments:\n id                    id of volume offer\n\noptions:\n -h, --help            show this help message and exit\n -s SIZE, --size SIZE  size in GB of volume. Default 15 GB.\n -n NAME, --name NAME  Optional name of volume.\n\nGlobal options (available for all commands):\n --url URL             Server REST API URL\n --retry RETRY         Retry limit\n --explain             Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                 Output machine-readable json\n --full                Print full results instead of paging with `less` for commands that support it\n --curl                Show a curl equivalency to the call\n --api-key API_KEY     API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version             Show CLI version\n --no-color            Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreates a volume from an offer ID (which is returned from \"search volumes\"). Each offer ID can be used to create multiple volumes,\nprovided the size of all volumes does not exceed the size of the offer.\n</code></pre>"},{"location":"cli/commands/#create-workergroup","title":"create workergroup","text":"<p>Create an autoscaling worker group for serverless inference</p> <pre><code>usage: vastai workergroup create [OPTIONS]\n\nCreate an autoscaling worker group for serverless inference\n\noptions:\n -h, --help                     show this help message and exit\n --template_hash TEMPLATE_HASH  template hash (required, but **Note**: if you use this field, you can skip search_params, as they are automatically inferred from the template)\n --template_id TEMPLATE_ID      template id (optional)\n -n, --no-default               Disable default search param query args\n --launch_args LAUNCH_ARGS      launch args  string for create instance  ex: \"--onstart onstart_wget.sh  --env '-e ONSTART_PATH=https://s3.amazonaws.com/vast.ai/onstart_OOBA.sh' --image atinoda/text-generation-webui:default-nightly --disk 64\"\n --endpoint_name ENDPOINT_NAME  deployment endpoint name (allows multiple workergroups to share same deployment endpoint)\n --endpoint_id ENDPOINT_ID      deployment endpoint id (allows multiple workergroups to share same deployment endpoint)\n --test_workers TEST_WORKERS    number of workers to create to get an performance estimate for while initializing workergroup (default 3)\n --gpu_ram GPU_RAM              estimated GPU RAM req  (independent of search string)\n --search_params SEARCH_PARAMS  search param string for search offers    ex: \"gpu_ram&gt;=23 num_gpus=2 gpu_name=RTX_4090 inet_down&gt;200 direct_port_count&gt;2 disk_space&gt;=64\"\n --min_load MIN_LOAD            [NOTE: this field isn't currently used at the workergroup level] minimum floor load in perf units/s  (token/s for LLms)\n --target_util TARGET_UTIL      [NOTE: this field isn't currently used at the workergroup level] target capacity utilization (fraction, max 1.0, default 0.9)\n --cold_mult COLD_MULT          [NOTE: this field isn't currently used at the workergroup level]cold/stopped instance capacity target as multiple of hot capacity target (default 2.0)\n --cold_workers COLD_WORKERS    min number of workers to keep 'cold' for this workergroup\n\nGlobal options (available for all commands):\n --url URL                      Server REST API URL\n --retry RETRY                  Retry limit\n --explain                      Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                          Output machine-readable json\n --full                         Print full results instead of paging with `less` for commands that support it\n --curl                         Show a curl equivalency to the call\n --api-key API_KEY              API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                      Show CLI version\n --no-color                     Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreate a new autoscaling group to manage a pool of worker instances.\n\nExample: vastai create workergroup --template_hash HASH  --endpoint_name \"LLama\" --test_workers 5\n</code></pre>"},{"location":"cli/commands/#delete-api-key","title":"delete api-key","text":"<p>Delete an API key</p> <pre><code>usage: vastai delete api-key ID\n\nDelete an API key\n\npositional arguments:\n id                 id of apikey to remove\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#delete-cluster","title":"delete cluster","text":"<p>[Beta] Delete a machine cluster</p> <pre><code>usage: vastai delete cluster CLUSTER_ID\n\n[Beta] Delete a machine cluster\n\npositional arguments:\n cluster_id         ID of cluster to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nDelete Vast Cluster\n</code></pre>"},{"location":"cli/commands/#delete-endpoint","title":"delete endpoint","text":"<p>Delete a serverless inference endpoint</p> <pre><code>usage: vastai delete endpoint ID \n\nDelete a serverless inference endpoint\n\npositional arguments:\n id                 id of endpoint group to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai delete endpoint 4242\n</code></pre>"},{"location":"cli/commands/#delete-env-var","title":"delete env-var","text":"<p>Delete a user environment variable</p> <pre><code>usage: vastai delete env-var &lt;name&gt;\n\nDelete a user environment variable\n\npositional arguments:\n name               Environment variable name to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#delete-overlay","title":"delete overlay","text":"<p>[Beta] Delete an overlay network and its instances</p> <pre><code>usage: vastai delete overlay OVERLAY_IDENTIFIER\n\n[Beta] Delete an overlay network and its instances\n\npositional arguments:\n overlay_identifier  ID (int) or name (str) of overlay to delete\n\noptions:\n -h, --help          show this help message and exit\n\nGlobal options (available for all commands):\n --url URL           Server REST API URL\n --retry RETRY       Retry limit\n --explain           Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw               Output machine-readable json\n --full              Print full results instead of paging with `less` for commands that support it\n --curl              Show a curl equivalency to the call\n --api-key API_KEY   API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version           Show CLI version\n --no-color          Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#delete-scheduled-job","title":"delete scheduled-job","text":"<p>Delete a scheduled job</p> <pre><code>usage: vastai delete scheduled-job ID\n\nDelete a scheduled job\n\npositional arguments:\n id                 id of scheduled job to remove\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#delete-ssh-key","title":"delete ssh-key","text":"<p>Remove an SSH key from your account</p> <pre><code>usage: vastai delete ssh-key ID\n\nRemove an SSH key from your account\n\npositional arguments:\n id                 id ssh key to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#delete-template","title":"delete template","text":"<p>Delete a template</p> <pre><code>usage: vastai delete template [--template-id &lt;id&gt; | --hash-id &lt;hash_id&gt;]\n\nDelete a template\n\noptions:\n -h, --help                 show this help message and exit\n --template-id TEMPLATE_ID  Template ID of Template to Delete\n --hash-id HASH_ID          Hash ID of Template to Delete\n\nGlobal options (available for all commands):\n --url URL                  Server REST API URL\n --retry RETRY              Retry limit\n --explain                  Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                      Output machine-readable json\n --full                     Print full results instead of paging with `less` for commands that support it\n --curl                     Show a curl equivalency to the call\n --api-key API_KEY          API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                  Show CLI version\n --no-color                 Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nNote: Deleting a template only removes the user's replationship to a template. It does not get destroyed\nExample: vastai delete template --template-id 12345\nExample: vastai delete template --hash-id 49c538d097ad6437413b83711c9f61e8\n</code></pre>"},{"location":"cli/commands/#delete-volume","title":"delete volume","text":"<p>Delete a persistent storage volume</p> <pre><code>usage: vastai delete volume ID\n\nDelete a persistent storage volume\n\npositional arguments:\n id                 id of volume contract\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nDeletes volume with the given ID. All instances using the volume must be destroyed before the volume can be deleted.\n</code></pre>"},{"location":"cli/commands/#delete-workergroup","title":"delete workergroup","text":"<p>Delete an autoscaling worker group</p> <pre><code>usage: vastai delete workergroup ID \n\nDelete an autoscaling worker group\n\npositional arguments:\n id                 id of group to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nNote that deleting a workergroup doesn't automatically destroy all the instances that are associated with your workergroup.\nExample: vastai delete workergroup 4242\n</code></pre>"},{"location":"cli/commands/#destroy-instance","title":"destroy instance","text":"<p>Destroy an instance (irreversible, deletes data)</p> <pre><code>usage: vastai destroy instance id [-h] [--api-key API_KEY] [--raw]\n\nDestroy an instance (irreversible, deletes data)\n\npositional arguments:\n id                 id of instance to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nPerforms the same action as pressing the \"DESTROY\" button on the website at https://console.vast.ai/instances/\n\nWARNING: This action is IMMEDIATE and IRREVERSIBLE. All data on the instance will be permanently\ndeleted unless you have saved it to a persistent volume or external storage.\n\nExamples:\n    vastai destroy instance 12345              # Destroy instance with ID 12345\n\nBefore destroying:\n  - Save any important data using 'vastai copy' or by mounting a persistent volume\n  - Check instance ID carefully with 'vastai show instances'\n  - Consider using 'vastai stop instance' if you want to pause without data loss\n</code></pre>"},{"location":"cli/commands/#destroy-instances","title":"destroy instances","text":"<p>Destroy a list of instances (irreversible, deletes data)</p> <pre><code>usage: vastai destroy instances IDS [OPTIONS]\n\nDestroy a list of instances (irreversible, deletes data)\n\npositional arguments:\n ids                ids of instances to destroy\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#destroy-team","title":"destroy team","text":"<p>Delete your team and remove all members</p> <pre><code>usage: vastai destroy team\n\nDelete your team and remove all members\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#detach-ssh","title":"detach ssh","text":"<p>Remove an SSH key from an instance</p> <pre><code>usage: vastai detach instance_id ssh_key_id\n\nRemove an SSH key from an instance\n\npositional arguments:\n instance_id        id of the instance\n ssh_key_id         id of the key to detach to the instance\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai detach 99999 12345\n</code></pre>"},{"location":"cli/commands/#execute","title":"execute","text":"<p>Execute a command on a running instance</p> <pre><code>usage: vastai execute id COMMAND\n\nExecute a command on a running instance\n\npositional arguments:\n id                                id of instance to execute on\n COMMAND                           bash command surrounded by single quotes\n\noptions:\n -h, --help                        show this help message and exit\n --schedule {HOURLY,DAILY,WEEKLY}  try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY\n --start_date START_DATE           Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional)\n --end_date END_DATE               End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is 7 days from now. (optional)\n --day DAY                         Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0\n --hour HOUR                       Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16\n\nGlobal options (available for all commands):\n --url URL                         Server REST API URL\n --retry RETRY                     Retry limit\n --explain                         Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                             Output machine-readable json\n --full                            Print full results instead of paging with `less` for commands that support it\n --curl                            Show a curl equivalency to the call\n --api-key API_KEY                 API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                         Show CLI version\n --no-color                        Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExamples:\n  vastai execute 99999 'ls -l -o -r'\n  vastai execute 99999 'rm -r home/delete_this.txt'\n  vastai execute 99999 'du -d2 -h'\n\navailable commands:\n  ls                 List directory contents\n  rm                 Remote files or directories\n  du                 Summarize device usage for a set of files\n\nReturn value:\nReturns the output of the command which was executed on the instance, if successful. May take a few seconds to retrieve the results.\n</code></pre>"},{"location":"cli/commands/#get-endpt-logs","title":"get endpt-logs","text":"<p>Get logs for a serverless endpoint</p> <pre><code>usage: vastai get endpt-logs ID [--api-key API_KEY]\n\nGet logs for a serverless endpoint\n\npositional arguments:\n id                 id of endpoint group to fetch logs from\n\noptions:\n -h, --help         show this help message and exit\n --level LEVEL      log detail level (0 to 3)\n --tail TAIL\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai get endpt-logs 382\n</code></pre>"},{"location":"cli/commands/#get-wrkgrp-logs","title":"get wrkgrp-logs","text":"<p>Get logs for an autoscaling worker group</p> <pre><code>usage: vastai get wrkgrp-logs ID [--api-key API_KEY]\n\nGet logs for an autoscaling worker group\n\npositional arguments:\n id                 id of endpoint group to fetch logs from\n\noptions:\n -h, --help         show this help message and exit\n --level LEVEL      log detail level (0 to 3)\n --tail TAIL\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai get endpt-logs 382\n</code></pre>"},{"location":"cli/commands/#help","title":"help","text":"<p>print this help message</p> <pre><code>usage: vast.py help [-h] [--url URL] [--retry RETRY] [--explain] [--raw] [--full] [--curl] [--api-key API_KEY] [--version]\n                    [--no-color]\n                    [subcommand]\n\npositional arguments:\n subcommand\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#invite-member","title":"invite member","text":"<p>Invite a user to join your team</p> <pre><code>usage: vastai invite member --email EMAIL --role ROLE\n\nInvite a user to join your team\n\noptions:\n -h, --help         show this help message and exit\n --email EMAIL      email of user to be invited\n --role ROLE        role of user to be invited\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#join-cluster","title":"join cluster","text":"<p>[Beta] Add a machine to an existing cluster</p> <pre><code>usage: vastai join cluster CLUSTER_ID MACHINE_IDS\n\n[Beta] Add a machine to an existing cluster\n\npositional arguments:\n cluster_id         ID of cluster to add machine to\n machine_ids        machine id(s) to join cluster\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nJoin's Machine to Vast Cluster\n</code></pre>"},{"location":"cli/commands/#join-overlay","title":"join overlay","text":"<p>[Beta] Connect an instance to an overlay network</p> <pre><code>usage: vastai join overlay OVERLAY_NAME INSTANCE_ID\n\n[Beta] Connect an instance to an overlay network\n\npositional arguments:\n name               Overlay network name to join instance to.\n instance_id        Instance ID to add to overlay.\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nAdds an instance to a compatible overlay network.\n</code></pre>"},{"location":"cli/commands/#label-instance","title":"label instance","text":"<p>Assign a string label to an instance</p> <pre><code>usage: vastai label instance &lt;id&gt; &lt;label&gt;\n\nAssign a string label to an instance\n\npositional arguments:\n id                 id of instance to label\n label              label to set\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#launch-instance","title":"launch instance","text":"<p>Launch a new instance using search parameters to auto-select the best offer</p> <pre><code>usage: vastai launch instance [--help] [--api-key API_KEY] &lt;gpu_name&gt; &lt;num_gpus&gt; &lt;image&gt; [geolocation] [disk_space]\n\nLaunch a new instance using search parameters to auto-select the best offer\n\noptions:\n -h, --help                                       show this help message and exit\n -g {A10,A100_PCIE,A100_SXM4,A100X,A40,A800_PCIE,B200,GTX_1050,GTX_1050_Ti,GTX_1060,GTX_1070,GTX_1070_Ti,GTX_1080,GTX_1080_Ti,GTX_1650,GTX_1660,GTX_1660_S,GTX_1660_Ti,GTX_TITAN_X,H100_NVL,H100_PCIE,H100_SXM,H200,H200_NVL,L4,L40,L40S,Q_RTX_4000,Q_RTX_6000,Q_RTX_8000,Quadro_P4000,Radeon_VII,RTX_2000Ada,RTX_2060,RTX_2060S,RTX_2070,RTX_2070S,RTX_2080,RTX_2080_Ti,RTX_3050,RTX_3060,RTX_3060_laptop,RTX_3060_Ti,RTX_3070,RTX_3070_laptop,RTX_3070_Ti,RTX_3080,RTX_3080_Ti,RTX_3090,RTX_3090_Ti,RTX_4000Ada,RTX_4060,RTX_4060_Ti,RTX_4070,RTX_4070S,RTX_4070S_Ti,RTX_4070_Ti,RTX_4080,RTX_4080_laptop,RTX_4080S,RTX_4090,RTX_4090D,RTX_4500Ada,RTX_5000Ada,RTX_5060,RTX_5060_Ti,RTX_5070,RTX_5070_Ti,RTX_5080,RTX_5090,RTX_5880Ada,RTX_6000Ada,RTX_A2000,RTX_A4000,RTX_A4500,RTX_A5000,RTX_A6000,RTX_PRO_4000,RTX_PRO_4500,RTX_PRO_6000_S,RTX_PRO_6000_WS,RX_6950_XT,Tesla_P100,Tesla_P4,Tesla_P40,Tesla_T4,Tesla_V100,Titan_RTX,Titan_V,Titan_Xp}, --gpu-name {A10,A100_PCIE,A100_SXM4,A100X,A40,A800_PCIE,B200,GTX_1050,GTX_1050_Ti,GTX_1060,GTX_1070,GTX_1070_Ti,GTX_1080,GTX_1080_Ti,GTX_1650,GTX_1660,GTX_1660_S,GTX_1660_Ti,GTX_TITAN_X,H100_NVL,H100_PCIE,H100_SXM,H200,H200_NVL,L4,L40,L40S,Q_RTX_4000,Q_RTX_6000,Q_RTX_8000,Quadro_P4000,Radeon_VII,RTX_2000Ada,RTX_2060,RTX_2060S,RTX_2070,RTX_2070S,RTX_2080,RTX_2080_Ti,RTX_3050,RTX_3060,RTX_3060_laptop,RTX_3060_Ti,RTX_3070,RTX_3070_laptop,RTX_3070_Ti,RTX_3080,RTX_3080_Ti,RTX_3090,RTX_3090_Ti,RTX_4000Ada,RTX_4060,RTX_4060_Ti,RTX_4070,RTX_4070S,RTX_4070S_Ti,RTX_4070_Ti,RTX_4080,RTX_4080_laptop,RTX_4080S,RTX_4090,RTX_4090D,RTX_4500Ada,RTX_5000Ada,RTX_5060,RTX_5060_Ti,RTX_5070,RTX_5070_Ti,RTX_5080,RTX_5090,RTX_5880Ada,RTX_6000Ada,RTX_A2000,RTX_A4000,RTX_A4500,RTX_A5000,RTX_A6000,RTX_PRO_4000,RTX_PRO_4500,RTX_PRO_6000_S,RTX_PRO_6000_WS,RX_6950_XT,Tesla_P100,Tesla_P4,Tesla_P40,Tesla_T4,Tesla_V100,Titan_RTX,Titan_V,Titan_Xp}\n                                                  Name of the GPU model, replace spaces with underscores\n -n {1,2,4,8,12,14}, --num-gpus {1,2,4,8,12,14}   Number of GPUs required\n -r REGION, --region REGION                       Geographical location of the instance\n -i IMAGE, --image IMAGE                          Name of the image to use for instance\n -d DISK, --disk DISK                             Disk space required in GB\n --limit LIMIT\n -o ORDER, --order ORDER                          Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'num_gpus,total_flops-'.  default='score-'\n --login LOGIN                                    docker login arguments for private repo authentication, surround with '' \n --label LABEL                                    label to set on the instance\n --onstart ONSTART                                filename to use as onstart script\n --onstart-cmd ONSTART_CMD                        contents of onstart script as single argument\n --entrypoint ENTRYPOINT                          override entrypoint for args launch instance\n --ssh                                            Launch as an ssh instance type\n --jupyter                                        Launch as a jupyter instance instead of an ssh instance\n --direct                                         Use (faster) direct connections for jupyter &amp; ssh\n --jupyter-dir JUPYTER_DIR                        For runtype 'jupyter', directory in instance to use to launch jupyter. Defaults to image's working directory\n --jupyter-lab                                    For runtype 'jupyter', Launch instance with jupyter lab\n --lang-utf8                                      Workaround for images with locale problems: install and generate locales before instance launch, and set locale to C.UTF-8\n --python-utf8                                    Workaround for images with locale problems: set python's locale to C.UTF-8\n --env ENV                                        env variables and port mapping options, surround with '' \n --args ...                                       list of arguments passed to container ENTRYPOINT. Onstart is recommended for this purpose. (must be last argument)\n --force                                          Skip sanity checks when creating from an existing instance\n --cancel-unavail                                 Return error if scheduling fails (rather than creating a stopped instance)\n --template_hash TEMPLATE_HASH                    template hash which contains all relevant information about an instance. This can be used as a replacement for other parameters describing the instance configuration\n\nGlobal options (available for all commands):\n --url URL                                        Server REST API URL\n --retry RETRY                                    Retry limit\n --explain                                        Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                            Output machine-readable json\n --full                                           Print full results instead of paging with `less` for commands that support it\n --curl                                           Show a curl equivalency to the call\n --api-key API_KEY                                API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                        Show CLI version\n --no-color                                       Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nLaunches an instance based on the given parameters. The instance will be created with the top offer from the search results.\nBesides the gpu_name and num_gpus, you must pass in an '--image' argument as a minimum.\n\nIf you use args/entrypoint launch mode, we create a container from your image as is, without attempting to inject ssh and or jupyter.\nIf you use the args launch mode, you can override the entrypoint with --entrypoint, and pass arguments to the entrypoint with --args.\nIf you use --args, that must be the last argument, as any following tokens are consumed into the args string.\nFor ssh/jupyter launch types, use --onstart-cmd to pass in startup script, instead of --entrypoint and --args.\n\nExamples:\n\n    # launch a single RTX 3090 instance with the pytorch image and 16 GB of disk space located anywhere\n    python vast.py launch instance -g RTX_3090 -n 1 -i pytorch/pytorch\n\n    # launch a 4x RTX 3090 instance with the pytorch image and 32 GB of disk space located in North America\n    python vast.py launch instance -g RTX_3090 -n 4 -i pytorch/pytorch -d 32.0 -r North_America\n\nAvailable fields:\n\n    Name                    Type      Description\n\n    num_gpus:               int       # of GPUs\n    gpu_name:               string    GPU model name\n    region:                 string    Region of the instance\n    image:                  string    Docker image name\n    disk_space:             float     Disk space in GB\n    ssh, jupyter, direct:   bool      Flags to specify the instance type and connection method.\n    env:                    str       Environment variables and port mappings, encapsulated in single quotes.\n    args:                   list      Arguments passed to the container's ENTRYPOINT, used only if '--args' is specified.\n</code></pre>"},{"location":"cli/commands/#logs","title":"logs","text":"<p>Get the logs for an instance</p> <pre><code>usage: vastai logs INSTANCE_ID [OPTIONS] \n\nGet the logs for an instance\n\npositional arguments:\n INSTANCE_ID        id of instance\n\noptions:\n -h, --help         show this help message and exit\n --tail TAIL        Number of lines to show from the end of the logs (default '1000')\n --filter FILTER    Grep filter for log entries\n --daemon-logs      Fetch daemon system logs instead of container logs\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#prepay-instance","title":"prepay instance","text":"<p>Prepay credits for a reserved instance to prevent interruption</p> <pre><code>usage: vastai prepay instance ID AMOUNT\n\nPrepay credits for a reserved instance to prevent interruption\n\npositional arguments:\n id                 id of instance to prepay for\n amount             amount of instance credit prepayment (default discount func of 0.2 for 1 month, 0.3 for 3 months)\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#reboot-instance","title":"reboot instance","text":"<p>Reboot (stop/start) an instance</p> <pre><code>usage: vastai reboot instance ID [OPTIONS]\n\nReboot (stop/start) an instance\n\npositional arguments:\n id                                id of instance to reboot\n\noptions:\n -h, --help                        show this help message and exit\n --schedule {HOURLY,DAILY,WEEKLY}  try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY\n --start_date START_DATE           Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional)\n --end_date END_DATE               End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is 7 days from now. (optional)\n --day DAY                         Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0\n --hour HOUR                       Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16\n\nGlobal options (available for all commands):\n --url URL                         Server REST API URL\n --retry RETRY                     Retry limit\n --explain                         Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                             Output machine-readable json\n --full                            Print full results instead of paging with `less` for commands that support it\n --curl                            Show a curl equivalency to the call\n --api-key API_KEY                 API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                         Show CLI version\n --no-color                        Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nStops and starts container without any risk of losing GPU priority.\n</code></pre>"},{"location":"cli/commands/#recycle-instance","title":"recycle instance","text":"<p>Destroy and recreate an instance with the same configuration</p> <pre><code>usage: vastai recycle instance ID [OPTIONS]\n\nDestroy and recreate an instance with the same configuration\n\npositional arguments:\n id                 id of instance to recycle\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nDestroys and recreates container in place (from newly pulled image) without any risk of losing GPU priority.\n</code></pre>"},{"location":"cli/commands/#remove-member","title":"remove member","text":"<p>Remove a team member</p> <pre><code>usage: vastai remove member ID\n\nRemove a team member\n\npositional arguments:\n id                 id of user to remove\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#remove-team-role","title":"remove team-role","text":"<p>Delete a custom role from your team</p> <pre><code>usage: vastai remove team-role NAME\n\nDelete a custom role from your team\n\npositional arguments:\n NAME               name of the role\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#remove-machine-from-cluster","title":"remove-machine-from-cluster","text":"<p>No description</p> <pre><code>usage: vastai remove-machine-from-cluster CLUSTER_ID MACHINE_ID NEW_MANAGER_ID\n\n[Host] [Beta] Remove a machine from a cluster\n\npositional arguments:\n cluster_id         ID of cluster you want to remove machine from.\n machine_id         ID of machine to remove from cluster.\n new_manager_id     ID of machine to promote to manager. Must already be in cluster\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nRemoves machine from cluster and also reassigns manager ID,\nif we're removing the manager node\n</code></pre>"},{"location":"cli/commands/#reset-api-key","title":"reset api-key","text":"<p>Invalidate current API key and generate a new one</p> <pre><code>usage: vastai reset api-key\n\nInvalidate current API key and generate a new one\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#scp-url","title":"scp-url","text":"<p>Generate SCP file transfer URL for an instance</p> <pre><code>usage: vastai scp-url ID\n\nGenerate SCP file transfer URL for an instance\n\npositional arguments:\n id                 id\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nRetrieves the SCP connection URL for an instance. Use this to get the host and port\ninformation needed to transfer files via SCP.\n\nExamples:\n    vastai scp-url 12345                       # Get SCP URL for instance 12345\n\nOutput format:\n    scp://root@&lt;ip_address&gt;:&lt;port&gt;\n\nUse with scp command:\n    scp -P &lt;port&gt; local_file root@&lt;ip_address&gt;:/remote/path\n    scp -P &lt;port&gt; root@&lt;ip_address&gt;:/remote/file ./local_path\n\nSee also: 'vastai ssh-url' for SSH connection URLs, 'vastai copy' for simplified file transfers\n</code></pre>"},{"location":"cli/commands/#search-benchmarks","title":"search benchmarks","text":"<p>Search machine benchmark results with filters</p> <pre><code>usage: vastai search benchmarks [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n\nSearch machine benchmark results with filters\n\npositional arguments:\n query              Search query in simple query syntax (see below)\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nQuery syntax:\n\n    query = comparison comparison...\n    comparison = field op value\n    field = &lt;name of a field&gt;\n    op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin\n    value = &lt;bool, int, float, string&gt; | 'any' | [value0, value1, ...]\n    bool: True, False\n\nnote: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes\nnote: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_'\n\nExamples:\n\n    # search for benchmarks with score &gt; 100 for llama2_70B model on 2 specific machines\n    vastai search benchmarks 'score &gt; 100.0  model=llama2_70B  machine_id in [302,402]'\n\nAvailable fields:\n\n      Name                  Type       Description\n\n    contract_id             int        ID of instance/contract reporting benchmark\n    id                      int        benchmark unique ID\n    image                   string     image used for benchmark\n    last_update             float      date of benchmark\n    machine_id              int        id of machine benchmarked\n    model                   string     name of model used in benchmark\n    name                    string     name of benchmark\n    num_gpus                int        number of gpus used in benchmark\n    score                   float      benchmark score result\n</code></pre>"},{"location":"cli/commands/#search-invoices","title":"search invoices","text":"<p>Search billing invoices with filters</p> <pre><code>usage: vastai search invoices [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n\nSearch billing invoices with filters\n\npositional arguments:\n query              Search query in simple query syntax (see below)\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nQuery syntax:\n\n        query = comparison comparison...\n        comparison = field op value\n        field = &lt;name of a field&gt;\n        op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin\n        value = &lt;bool, int, float, string&gt; | 'any' | [value0, value1, ...]\n        bool: True, False\n\n    note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes\n    note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_'\n\n    Examples:\n\n        # search for somewhat reliable single RTX 3090 instances, filter out any duplicates or offers that conflict with our existing stopped instances\n        vastai search invoices 'amount_cents&gt;3000  '\n\n    Available fields:\n\n  Name                  Type       Description\n\nid                  int,\nuser_id             int,\nwhen                float,          utc epoch timestamp of initial invoice creation\npaid_on             float,          actual payment date (utc epoch timestamp )\npayment_expected    float,          expected payment date (utc epoch timestamp )\namount_cents        int,            amount of payment in cents\nis_credit           bool,           is a credit purchase\nis_delayed          bool,           is not yet paid\nbalance_before      float,          balance before\nbalance_after       float,          balance after\noriginal_amount     int,            original amount of payment\nevent_id            string,\ncut_amount          int,\ncut_percent         float,\nextra               json,\nservice             string,         type of payment\nstripe_charge       json,\nstripe_refund       json,\nstripe_payout       json,\nerror               json,\npaypal_email        string,         email for paypal/wise payments\ntransfer_group      string,\nfailed              bool,\nrefunded            bool,\nis_check            bool,\n</code></pre>"},{"location":"cli/commands/#search-offers","title":"search offers","text":"<p>Search available GPU offers with filters</p> <pre><code>usage: vastai search offers [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n\nSearch available GPU offers with filters\n\npositional arguments:\n query                    Query to search for. default: 'external=false rentable=true verified=true', pass -n to ignore default\n\noptions:\n -h, --help               show this help message and exit\n -t TYPE, --type TYPE     Show 'on-demand', 'reserved', or 'bid'(interruptible) pricing. default: on-demand\n -i, --interruptible      Alias for --type=bid\n -b, --bid                Alias for --type=bid\n -r, --reserved           Alias for --type=reserved\n -d, --on-demand          Alias for --type=on-demand\n -n, --no-default         Disable default query\n --new                    New search exp\n --limit LIMIT\n --disable-bundling       Deprecated\n --storage STORAGE        Amount of storage to use for pricing, in GiB. default=5.0GiB\n -o ORDER, --order ORDER  Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'num_gpus,total_flops-'.  default='score-'\n\nGlobal options (available for all commands):\n --url URL                Server REST API URL\n --retry RETRY            Retry limit\n --explain                Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                    Output machine-readable json\n --full                   Print full results instead of paging with `less` for commands that support it\n --curl                   Show a curl equivalency to the call\n --api-key API_KEY        API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                Show CLI version\n --no-color               Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nQuery syntax:\n\n    query = comparison comparison...\n    comparison = field op value\n    field = &lt;name of a field&gt;\n    op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin\n    value = &lt;bool, int, float, string&gt; | 'any' | [value0, value1, ...]\n    bool: True, False\n\nnote: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes\nnote: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_'\n\nExamples:\n\n    # search for somewhat reliable single RTX 3090 instances, filter out any duplicates or offers that conflict with our existing stopped instances\n    vastai search offers 'reliability &gt; 0.98 num_gpus=1 gpu_name=RTX_3090 rented=False'\n\n    # search for datacenter gpus with minimal compute_cap and total_flops\n    vastai search offers 'compute_cap &gt; 610 total_flops &gt; 5 datacenter=True'\n\n    # search for reliable 4 gpu offers in Taiwan or Sweden\n    vastai search offers 'reliability&gt;0.99 num_gpus=4 geolocation in [TW,SE]'\n\n    # search for reliable RTX 3090 or 4090 gpus NOT in China or Vietnam\n    vastai search offers 'reliability&gt;0.99 gpu_name in [\"RTX 4090\", \"RTX 3090\"] geolocation notin [CN,VN]'\n\n    # search for machines with nvidia drivers 535.86.05 or greater (and various other options)\n    vastai search offers 'disk_space&gt;146 duration&gt;24 gpu_ram&gt;10 cuda_vers&gt;=12.1 direct_port_count&gt;=2 driver_version &gt;= 535.86.05'\n\n    # search for reliable machines with at least 4 gpus, unverified, order by num_gpus, allow conflicts\n    vastai search offers 'reliability &gt; 0.99  num_gpus&gt;=4 verified=False rented=any' -o 'num_gpus-'\n\n    # search for arm64 cpu architecture\n    vastai search offers 'cpu_arch=arm64'\n\nAvailable fields:\n\n      Name                  Type       Description\n\n    bw_nvlink               float     bandwidth NVLink\n    compute_cap:            int       cuda compute capability*100  (ie:  650 for 6.5, 700 for 7.0)\n    cpu_arch                string    host machine cpu architecture (e.g. amd64, arm64)\n    cpu_cores:              int       # virtual cpus\n    cpu_ghz:                Float     # cpu clock speed GHZ\n    cpu_cores_effective:    float     # virtual cpus you get\n    cpu_ram:                float     system RAM in gigabytes\n    cuda_vers:              float     machine max supported cuda version (based on driver version)\n    datacenter:             bool      show only datacenter offers\n    direct_port_count       int       open ports on host's router\n    disk_bw:                float     disk read bandwidth, in MB/s\n    disk_space:             float     disk storage space, in GB\n    dlperf:                 float     DL-perf score  (see FAQ for explanation)\n    dlperf_usd:             float     DL-perf/$\n    dph:                    float     $/hour rental cost\n    driver_version:         string    machine's nvidia/amd driver version as 3 digit string ex. \"535.86.05,\"\n    duration:               float     max rental duration in days\n    external:               bool      show external offers in addition to datacenter offers\n    flops_usd:              float     TFLOPs/$\n    geolocation:            string    Two letter country code. Works with operators =, !=, in, notin (e.g. geolocation not in ['XV','XZ'])\n    gpu_arch                string    host machine gpu architecture (e.g. nvidia, amd)\n    gpu_max_power           float     GPU power limit (watts)\n    gpu_max_temp            float     GPU temp limit (C)\n    gpu_mem_bw:             float     GPU memory bandwidth in GB/s\n    gpu_name:               string    GPU model name (no quotes, replace spaces with underscores, ie: RTX_3090 rather than 'RTX 3090')\n    gpu_ram:                float     per GPU RAM in GB\n    gpu_total_ram:          float     total GPU RAM in GB\n    gpu_frac:               float     Ratio of GPUs in the offer to gpus in the system\n    gpu_display_active:     bool      True if the GPU has a display attached\n    has_avx:                bool      CPU supports AVX instruction set.\n    id:                     int       instance unique ID\n    inet_down:              float     internet download speed in Mb/s\n    inet_down_cost:         float     internet download bandwidth cost in $/GB\n    inet_up:                float     internet upload speed in Mb/s\n    inet_up_cost:           float     internet upload bandwidth cost in $/GB\n    machine_id              int       machine id of instance\n    min_bid:                float     current minimum bid price in $/hr for interruptible\n    num_gpus:               int       # of GPUs\n    pci_gen:                float     PCIE generation\n    pcie_bw:                float     PCIE bandwidth (CPU to GPU)\n    reliability:            float     machine reliability score (see FAQ for explanation)\n    rentable:               bool      is the instance currently rentable\n    rented:                 bool      allow/disallow duplicates and potential conflicts with existing stopped instances\n    storage_cost:           float     storage cost in $/GB/month\n    static_ip:              bool      is the IP addr static/stable\n    total_flops:            float     total TFLOPs from all GPUs\n    ubuntu_version          string    host machine ubuntu OS version\n    verified:               bool      is the machine verified\n    vms_enabled:            bool      is the machine a VM instance\n</code></pre>"},{"location":"cli/commands/#search-templates","title":"search templates","text":"<p>Search available templates with filters</p> <pre><code>usage: vastai search templates [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n\nSearch available templates with filters\n\npositional arguments:\n query              Search query in simple query syntax (see below)\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nQuery syntax:\n\n        query = comparison comparison...\n        comparison = field op value\n        field = &lt;name of a field&gt;\n        op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin\n        value = &lt;bool, int, float, string&gt; | 'any' | [value0, value1, ...]\n        bool: True, False\n\n    note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes\n    note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_'\n\n    Examples:\n\n        # search for somewhat reliable single RTX 3090 instances, filter out any duplicates or offers that conflict with our existing stopped instances\n        vastai search templates 'count_created &gt; 100  creator_id in [38382,48982]'\n\n    Available fields:\n\n  Name                  Type       Description\n\ncreator_id              int        ID of creator\ncreated_at              float      time of initial template creation (UTC epoch timestamp)\ncount_created           int        #instances created (popularity)\ndefault_tag             string     image default tag\ndocker_login_repo       string     image docker repository\nid                      int        template unique ID\nimage                   string     image used for template\njup_direct              bool       supports jupyter direct\nhash_id                 string     unique hash ID of template\nname                    string     displayable name\nrecent_create_date      float      last time of instance creation (UTC epoch timestamp)\nrecommended_disk_space  float      min disk space required\nrecommended             bool       is templated on our recommended list\nssh_direct              bool       supports ssh direct\ntag                     string     image tag\nuse_ssh                 bool       supports ssh (direct or proxy)\n</code></pre>"},{"location":"cli/commands/#search-volumes","title":"search volumes","text":"<p>Search available volume offers with filters</p> <pre><code>usage: vastai search volumes [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n\nSearch available volume offers with filters\n\npositional arguments:\n query                    Query to search for. default: 'external=false verified=true disk_space&gt;=1', pass -n to ignore default\n\noptions:\n -h, --help               show this help message and exit\n -n, --no-default         Disable default query\n --limit LIMIT\n --storage STORAGE        Amount of storage to use for pricing, in GiB. default=1.0GiB\n -o ORDER, --order ORDER  Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'disk_space,inet_up-'.  default='score-'\n\nGlobal options (available for all commands):\n --url URL                Server REST API URL\n --retry RETRY            Retry limit\n --explain                Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                    Output machine-readable json\n --full                   Print full results instead of paging with `less` for commands that support it\n --curl                   Show a curl equivalency to the call\n --api-key API_KEY        API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                Show CLI version\n --no-color               Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nQuery syntax:\n\n    query = comparison comparison...\n    comparison = field op value\n    field = &lt;name of a field&gt;\n    op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin\n    value = &lt;bool, int, float, string&gt; | 'any' | [value0, value1, ...]\n    bool: True, False\n\nnote: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes\nnote: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_'\n\nExamples:\n\n    # search for volumes with greater than 50GB of available storage and greater than 500 Mb/s upload and download speed\n    vastai search volumes \"disk_space&gt;50 inet_up&gt;500 inet_down&gt;500\"\n\nAvailable fields:\n\n      Name                  Type       Description\n\n    cpu_arch:               string    host machine cpu architecture (e.g. amd64, arm64)\n    cuda_vers:              float     machine max supported cuda version (based on driver version)\n    datacenter:             bool      show only datacenter offers\n    disk_bw:                float     disk read bandwidth, in MB/s\n    disk_space:             float     disk storage space, in GB\n    driver_version:         string    machine's nvidia/amd driver version as 3 digit string ex. \"535.86.05\"\n    duration:               float     max rental duration in days\n    geolocation:            string    Two letter country code. Works with operators =, !=, in, notin (e.g. geolocation not in ['XV','XZ'])\n    gpu_arch:               string    host machine gpu architecture (e.g. nvidia, amd)\n    gpu_name:               string    GPU model name (no quotes, replace spaces with underscores, ie: RTX_3090 rather than 'RTX 3090')\n    has_avx:                bool      CPU supports AVX instruction set.\n    id:                     int       volume offer unique ID\n    inet_down:              float     internet download speed in Mb/s\n    inet_up:                float     internet upload speed in Mb/s\n    machine_id:             int       machine id of volume offer\n    pci_gen:                float     PCIE generation\n    pcie_bw:                float     PCIE bandwidth (CPU to GPU)\n    reliability:            float     machine reliability score (see FAQ for explanation)\n    storage_cost:           float     storage cost in $/GB/month\n    static_ip:              bool      is the IP addr static/stable\n    total_flops:            float     total TFLOPs from all GPUs\n    ubuntu_version:         string    host machine ubuntu OS version\n    verified:               bool      is the machine verified\n</code></pre>"},{"location":"cli/commands/#set-api-key","title":"set api-key","text":"<p>Set the API key for CLI and SDK authentication</p> <pre><code>usage: vastai set api-key API_KEY\n\nSet the API key for CLI and SDK authentication\n\npositional arguments:\n api_key            API key to set as currently logged in user\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nStores your Vast.ai API key locally for authentication with all CLI commands.\nGet your API key from the Vast.ai console: https://console.vast.ai/account/\n\nExamples:\n    vastai set api-key abc123def456...         # Set your API key\n\nSecurity notes:\n  - API key is stored in ~/.config/vastai/vast_api_key\n  - Permissions are set to user-read-only (600)\n  - Do NOT share your API key or commit it to version control\n  - Regenerate your key at https://console.vast.ai/account/ if compromised\n  - You can also use the VAST_API_KEY environment variable instead\n\nThe legacy location ~/.vast_api_key is automatically removed when you set a new key.\n</code></pre>"},{"location":"cli/commands/#set-user","title":"set user","text":"<p>Update account settings from a JSON file</p> <pre><code>usage: vastai set user --file FILE\n\nUpdate account settings from a JSON file\n\noptions:\n -h, --help         show this help message and exit\n --file FILE        file path for params in json format\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nAvailable fields:\n\nName                            Type       Description\n\nssh_key                         string\npaypal_email                    string\nwise_email                      string\nemail                           string\nnormalized_email                string\nusername                        string\nfullname                        string\nbilladdress_line1               string\nbilladdress_line2               string\nbilladdress_city                string\nbilladdress_zip                 string\nbilladdress_country             string\nbilladdress_taxinfo             string\nbalance_threshold_enabled       string\nbalance_threshold               string\nautobill_threshold              string\nphone_number                    string\ntfa_enabled                     bool\n</code></pre>"},{"location":"cli/commands/#show-api-key","title":"show api-key","text":"<p>Show details for a specific API key</p> <pre><code>usage: vastai show api-key ID\n\nShow details for a specific API key\n\npositional arguments:\n id                 id of API key to show\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-api-keys","title":"show api-keys","text":"<p>List all API keys for your account</p> <pre><code>usage: vastai show api-keys\n\nList all API keys for your account\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-audit-logs","title":"show audit-logs","text":"<p>Show account activity and audit logs</p> <pre><code>usage: vastai show audit-logs [--api-key API_KEY] [--raw]\n\nShow account activity and audit logs\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-clusters","title":"show clusters","text":"<p>[Beta] List all your machine clusters</p> <pre><code>usage: vastai show clusters\n\n[Beta] List all your machine clusters\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nShow clusters associated with your account.\n</code></pre>"},{"location":"cli/commands/#show-connections","title":"show connections","text":"<p>[Beta] Show network connections between instances</p> <pre><code>usage: vastai show connections [--api-key API_KEY] [--raw]\n\n[Beta] Show network connections between instances\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-deposit","title":"show deposit","text":"<p>Show prepaid deposit balance for a reserved instance</p> <pre><code>usage: vastai show deposit ID [options]\n\nShow prepaid deposit balance for a reserved instance\n\npositional arguments:\n id                 id of instance to get info for\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-endpoints","title":"show endpoints","text":"<p>List all your serverless endpoints</p> <pre><code>usage: vastai show endpoints [--api-key API_KEY]\n\nList all your serverless endpoints\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai show endpoints\n</code></pre>"},{"location":"cli/commands/#show-env-vars","title":"show env-vars","text":"<p>List environment variables set for your account</p> <pre><code>usage: vastai show env-vars [-s]\n\nList environment variables set for your account\n\noptions:\n -h, --help         show this help message and exit\n -s, --show-values  Show the values of environment variables\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-instance","title":"show instance","text":"<p>Show details for a specific instance</p> <pre><code>usage: vastai show instance ID [OPTIONS]\n\nShow details for a specific instance\n\npositional arguments:\n id                 id of instance to show\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-instances","title":"show instances","text":"<p>List all your running and stopped instances</p> <pre><code>usage: vastai show instances [OPTIONS] [--api-key API_KEY] [--raw]\n\nList all your running and stopped instances\n\noptions:\n -h, --help         show this help message and exit\n -q, --quiet        only display numeric ids\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nLists all instances owned by the authenticated user, including running, pending, and stopped instances.\n\nExamples:\n    vastai show instances                      # List all instances in table format\n    vastai show instances --raw                # Output as JSON for scripting\n    vastai show instances --raw | jq '.[0]'   # Get first instance details\n    vastai show instances -q                   # List only instance IDs\n\nOutput includes: instance ID, machine ID, status, GPU info, rental cost, duration, and connection details.\n</code></pre>"},{"location":"cli/commands/#show-invoices","title":"show invoices","text":"<p>[Deprecated] Get billing history - use show invoices-v1 instead</p> <pre><code>usage: (DEPRECATED) vastai show invoices [OPTIONS]\n\n[Deprecated] Get billing history - use show invoices-v1 instead\n\noptions:\n -h, --help                              show this help message and exit\n -q, --quiet                             only display numeric ids\n -s START_DATE, --start_date START_DATE  start date and time for report. Many formats accepted (optional)\n -e END_DATE, --end_date END_DATE        end date and time for report. Many formats accepted (optional)\n -c, --only_charges                      Show only charge items\n -p, --only_credits                      Show only credit items\n --instance_label INSTANCE_LABEL         Filter charges on a particular instance label (useful for autoscaler groups)\n\nGlobal options (available for all commands):\n --url URL                               Server REST API URL\n --retry RETRY                           Retry limit\n --explain                               Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                   Output machine-readable json\n --full                                  Print full results instead of paging with `less` for commands that support it\n --curl                                  Show a curl equivalency to the call\n --api-key API_KEY                       API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                               Show CLI version\n --no-color                              Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-invoices-v1","title":"show invoices-v1","text":"<p>Get billing history with invoices and charges</p> <pre><code>usage: vastai show invoices-v1 [OPTIONS]\n\nGet billing history with invoices and charges\n\noptions:\n -h, --help                                       show this help message and exit\n -i, --invoices                                   Show invoices instead of charges\n -it type [type ...], --invoice-type type [type ...]\n                                                  Filter which types of invoices to show: {transfers, stripe, bitpay, coinbase, crypto.com, reserved, payout_paypal, payout_wise}\n -c, --charges                                    Show charges instead of invoices\n -ct type [type ...], --charge-type type [type ...]\n                                                  Filter which types of charges to show: {i|instance, v|volume, s|serverless}\n -s START_DATE, --start-date START_DATE           Start date (YYYY-MM-DD or timestamp)\n -e END_DATE, --end-date END_DATE                 End date (YYYY-MM-DD or timestamp)\n -l LIMIT, --limit LIMIT                          Number of results per page (default: 20, max: 100)\n -t NEXT_TOKEN, --next-token NEXT_TOKEN           Pagination token for next page\n -f {table,tree}, --format {table,tree}           Output format for charges (default: table)\n -v, --verbose                                    Include full Instance Charge details and Invoice Metadata (tree view only)\n --latest-first                                   Sort by latest first\n\nGlobal options (available for all commands):\n --url URL                                        Server REST API URL\n --retry RETRY                                    Retry limit\n --explain                                        Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                            Output machine-readable json\n --full                                           Print full results instead of paging with `less` for commands that support it\n --curl                                           Show a curl equivalency to the call\n --api-key API_KEY                                API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                        Show CLI version\n --no-color                                       Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThis command supports colored output and rich formatting if the 'rich' python module is installed!\n\nExamples:\n    # Show the first 20 invoices in the last week  (note: default window is a 7 day period ending today)\n    vastai show invoices-v1 --invoices\n\n    # Show the first 50 charges over a 7 day period starting from 2025-11-30 in tree format\n    vastai show invoices-v1 --charges -s 2025-11-30 -f tree -l 50\n\n    # Show the first 20 invoices of specific types for the month of November 2025\n    vastai show invoices-v1 -i -it stripe bitpay transfers --start-date 2025-11-01 --end-date 2025-11-30\n\n    # Show the first 20 charges for only volumes and serverless instances between two dates, including all details and metadata\n    vastai show invoices-v1 -c --charge-type v s -s 2025-11-01 -e 2025-11-05 --format tree --verbose\n\n    # Get the next page of paginated invoices, limit to 50 per page  (note: type/date filters MUST match previous request for pagination to work)\n    vastai show invoices-v1 --invoices --limit 50 --next-token eyJ2YWx1ZXMiOiB7ImlkIjogMjUwNzgyMzR9LCAib3NfcGFnZSI6IDB9\n\n    # Show the last 10 instance (only) charges over a 7 day period ending in 2025-12-25, sorted by latest charges first\n    vastai show invoices-v1 --charges -ct instance --end-date 2025-12-25 -l 10 --latest-first\n</code></pre>"},{"location":"cli/commands/#show-ipaddrs","title":"show ipaddrs","text":"<p>Show history of IP addresses used by your instances</p> <pre><code>usage: vastai show ipaddrs [--api-key API_KEY] [--raw]\n\nShow history of IP addresses used by your instances\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-members","title":"show members","text":"<p>List all members in your team</p> <pre><code>usage: vastai show members\n\nList all members in your team\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-overlays","title":"show overlays","text":"<p>[Beta] List all your overlay networks</p> <pre><code>usage: vastai show overlays\n\n[Beta] List all your overlay networks\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nShow overlays associated with your account.\n</code></pre>"},{"location":"cli/commands/#show-scheduled-jobs","title":"show scheduled-jobs","text":"<p>List all scheduled automation jobs</p> <pre><code>usage: vastai show scheduled-jobs [--api-key API_KEY] [--raw]\n\nList all scheduled automation jobs\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-ssh-keys","title":"show ssh-keys","text":"<p>List all SSH keys registered to your account</p> <pre><code>usage: vastai show ssh-keys\n\nList all SSH keys registered to your account\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-subaccounts","title":"show subaccounts","text":"<p>List all subaccounts under your account</p> <pre><code>usage: vastai show subaccounts [OPTIONS]\n\nList all subaccounts under your account\n\noptions:\n -h, --help         show this help message and exit\n -q, --quiet        display subaccounts from current user\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-team-role","title":"show team-role","text":"<p>Show details for a specific team role</p> <pre><code>usage: vastai show team-role NAME\n\nShow details for a specific team role\n\npositional arguments:\n NAME               name of the role\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-team-roles","title":"show team-roles","text":"<p>List all roles defined for your team</p> <pre><code>usage: vastai show team-roles\n\nList all roles defined for your team\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-user","title":"show user","text":"<p>Show your account information and balance</p> <pre><code>usage: vastai show user [OPTIONS]\n\nShow your account information and balance\n\noptions:\n -h, --help         show this help message and exit\n -q, --quiet        display information about user\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nDisplays account information for the authenticated user.\n\nExamples:\n    vastai show user                           # Show user info in table format\n    vastai show user --raw                     # Output as JSON for scripting\n\nInformation displayed:\n  - Account balance and credit\n  - Email address\n  - Username\n  - SSH public key (if configured)\n  - Account settings\n\nNote: API key is NOT displayed for security reasons.\nUse 'vastai set api-key' to update your stored API key.\n</code></pre>"},{"location":"cli/commands/#show-volumes","title":"show volumes","text":"<p>List all your storage volumes and their status</p> <pre><code>usage: vastai show volumes [OPTIONS]\n\nList all your storage volumes and their status\n\noptions:\n -h, --help            show this help message and exit\n -t TYPE, --type TYPE  volume type to display. Default to all. Possible values are \"local\", \"all\", \"network\"\n\nGlobal options (available for all commands):\n --url URL             Server REST API URL\n --retry RETRY         Retry limit\n --explain             Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                 Output machine-readable json\n --full                Print full results instead of paging with `less` for commands that support it\n --curl                Show a curl equivalency to the call\n --api-key API_KEY     API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version             Show CLI version\n --no-color            Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nShow stats on owned volumes\n</code></pre>"},{"location":"cli/commands/#show-workergroups","title":"show workergroups","text":"<p>List all your autoscaling worker groups</p> <pre><code>usage: vastai show workergroups [--api-key API_KEY]\n\nList all your autoscaling worker groups\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai show workergroups\n</code></pre>"},{"location":"cli/commands/#ssh-url","title":"ssh-url","text":"<p>Generate SSH connection URL for an instance</p> <pre><code>usage: vastai ssh-url ID\n\nGenerate SSH connection URL for an instance\n\npositional arguments:\n id                 id of instance\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nRetrieves the SSH connection URL for an instance. Use this to get the host and port\ninformation needed to connect via SSH.\n\nExamples:\n    vastai ssh-url 12345                       # Get SSH URL for instance 12345\n\nOutput format:\n    ssh://root@&lt;ip_address&gt;:&lt;port&gt;\n\nUse with ssh command:\n    ssh -p &lt;port&gt; root@&lt;ip_address&gt;\n\nSee also: 'vastai scp-url' for SCP file transfer URLs\n</code></pre>"},{"location":"cli/commands/#start-instance","title":"start instance","text":"<p>Start a stopped instance</p> <pre><code>usage: vastai start instance ID [OPTIONS]\n\nStart a stopped instance\n\npositional arguments:\n id                 ID of instance to start/restart\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThis command attempts to bring an instance from the \"stopped\" state into the \"running\" state. This is subject to resource availability on the machine that the instance is located on.\nIf your instance is stuck in the \"scheduling\" state for more than 30 seconds after running this, it likely means that the required resources on the machine to run your instance are currently unavailable.\nExamples:\n    vastai start instances $(vastai show instances -q)\n    vastai start instance 329838\n</code></pre>"},{"location":"cli/commands/#start-instances","title":"start instances","text":"<p>Start multiple stopped instances</p> <pre><code>usage: vastai start instances IDS [OPTIONS]\n\nStart multiple stopped instances\n\npositional arguments:\n ids                ids of instances to start\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#stop-instance","title":"stop instance","text":"<p>Stop a running instance</p> <pre><code>usage: vastai stop instance ID [OPTIONS]\n\nStop a running instance\n\npositional arguments:\n id                 id of instance to stop\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThis command brings an instance from the \"running\" state into the \"stopped\" state. When an instance is \"stopped\" all of your data on the instance is preserved,\nand you can resume use of your instance by starting it again. Once stopped, starting an instance is subject to resource availability on the machine that the instance is located on.\nThere are ways to move data off of a stopped instance, which are described here: https://vast.ai/docs/gpu-instances/data-movement\n</code></pre>"},{"location":"cli/commands/#stop-instances","title":"stop instances","text":"<p>Stop multiple running instances</p> <pre><code>usage: vastai stop instances IDS [OPTIONS]\n\nStop multiple running instances\n\npositional arguments:\n ids                ids of instances to stop\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExamples:\n    vastai stop instances $(vastai show instances -q)\n    vastai stop instances 329838 984849\n</code></pre>"},{"location":"cli/commands/#take-snapshot","title":"take snapshot","text":"<p>Create a snapshot of a running container and push to registry</p> <pre><code>usage: vastai take snapshot INSTANCE_ID --repo REPO --docker_login_user USER --docker_login_pass PASS[--container_registry REGISTRY] [--pause true|false]\n\nCreate a snapshot of a running container and push to registry\n\npositional arguments:\n instance_id                              instance_id of the container instance to snapshot\n\noptions:\n -h, --help                               show this help message and exit\n --container_registry CONTAINER_REGISTRY  Container registry to push the snapshot to. Default will be docker.io\n --repo REPO                              repo to push the snapshot to\n --docker_login_user DOCKER_LOGIN_USER    Username for container registry with repo\n --docker_login_pass DOCKER_LOGIN_PASS    Password or token for container registry with repo\n --pause PAUSE                            Pause container's processes being executed by the CPU to take snapshot (true/false). Default will be true\n\nGlobal options (available for all commands):\n --url URL                                Server REST API URL\n --retry RETRY                            Retry limit\n --explain                                Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                    Output machine-readable json\n --full                                   Print full results instead of paging with `less` for commands that support it\n --curl                                   Show a curl equivalency to the call\n --api-key API_KEY                        API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                Show CLI version\n --no-color                               Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nTakes a snapshot of a running container instance and pushes snapshot to the specified repository in container registry.\n\nUse pause=true to pause the container during commit (safer but slower),\nor pause=false to leave it running (faster but may produce a filesystem-\n// safer snapshot).\n</code></pre>"},{"location":"cli/commands/#tfa-activate","title":"tfa activate","text":"<p>Activate a new 2FA method by verifying the code</p> <pre><code>usage: vastai tfa activate CODE --secret SECRET [--sms] [--phone-number PHONE_NUMBER] [--label LABEL]\n\nActivate a new 2FA method by verifying the setup code\n\npositional arguments:\n code                         6-digit verification code from SMS or Authenticator app\n\noptions:\n -h, --help                   show this help message and exit\n --sms                        Use SMS 2FA method instead of TOTP\n --secret SECRET              Secret token from setup process (required)\n --phone-number PHONE_NUMBER  Phone number for SMS method (E.164 format)\n -l LABEL, --label LABEL      Label for the new 2FA method\n\nGlobal options (available for all commands):\n --url URL                    Server REST API URL\n --retry RETRY                Retry limit\n --explain                    Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                        Output machine-readable json\n --full                       Print full results instead of paging with `less` for commands that support it\n --curl                       Show a curl equivalency to the call\n --api-key API_KEY            API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                    Show CLI version\n --no-color                   Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nComplete the 2FA setup process by verifying your code.\n\nFor TOTP (Authenticator app):\n 1. Run 'vastai tfa totp-setup' to get the manual key/QR code and secret\n 2. Enter the manual key or scan the QR code with your Authenticator app\n 3. Run this command with the 6-digit code from your app and the secret token from step 1\n\nFor SMS:\n 1. Run 'vastai tfa send-sms --phone-number &lt;PHONE_NUMBER&gt;' to receive SMS and get secret token\n 2. Run this command with the code you received via SMS and the phone number it was sent to\n\nIf this is your first 2FA method, backup codes will be generated and displayed.\nSave these backup codes in a secure location!\n\nExamples:\n vastai tfa activate --secret abc123def456 123456\n vastai tfa activate --secret abc123def456 --sms --phone-number +12345678901 123456\n vastai tfa activate --secret abc123def456 --sms --phone-number +12345678901 --label \"Work Phone\" 123456\n</code></pre>"},{"location":"cli/commands/#tfa-delete","title":"tfa delete","text":"<p>Remove a 2FA method from your account</p> <pre><code>usage: vastai tfa delete [--id-to-delete ID] [--code CODE] [--sms] [--secret SECRET] [--backup-code BACKUP_CODE] [--method-id ID]\n\nRemove a 2FA method from your account\n\noptions:\n -h, --help                                     show this help message and exit\n -id ID_TO_DELETE, --id-to-delete ID_TO_DELETE  ID of the 2FA method to delete (see `vastai tfa status`)\n -c CODE, --code CODE                           2FA code from your Authenticator app or SMS to authorize deletion\n --sms                                          Use SMS 2FA method instead of TOTP\n -s SECRET, --secret SECRET                     Secret token (required for SMS authorization)\n -bc BACKUP_CODE, --backup-code BACKUP_CODE     One-time backup code (alternative to regular 2FA code)\n --method-id METHOD_ID                          2FA Method ID if you have more than one of the same type ('id' from `tfa status`)\n\nGlobal options (available for all commands):\n --url URL                                      Server REST API URL\n --retry RETRY                                  Retry limit\n --explain                                      Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                          Output machine-readable json\n --full                                         Print full results instead of paging with `less` for commands that support it\n --curl                                         Show a curl equivalency to the call\n --api-key API_KEY                              API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                      Show CLI version\n --no-color                                     Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nRemove a 2FA method from your account.\n\nThis action requires 2FA verification to prevent unauthorized removals.\n\nNOTE: If you do not specify --id-to-delete, the system will attempt to delete the method\nyou are using to authenticate. However, it is much safer to specify the ID to avoid\nconfusion if you have multiple methods.\n\nUse `vastai tfa status` to see your active methods and their IDs.\n\nExamples:\n # Delete method #123, authorize with TOTP/Authenticator code\n vastai tfa delete --id-to-delete 123 --code 456789\n\n # Delete method #123, authorize with SMS and secret from `tfa send-sms`\n vastai tfa delete -id 123 --sms --secret abc123def456 -c 456789\n\n # Delete method #123, authorize with backup code\n vastai tfa delete --id-to-delete 123 --backup-code ABCD-EFGH-IJKL\n\n # Delete method #123, specify which TOTP method to use if you have multiple\n vastai tfa delete -id 123 --method-id 456 -c 456789\n\n # Delete the TOTP method you are using to authenticate (use with caution)\n vastai tfa delete -c 456789\n</code></pre>"},{"location":"cli/commands/#tfa-login","title":"tfa login","text":"<p>Complete 2FA login by verifying code</p> <pre><code>usage: vastai tfa login [--code CODE] [--sms] [--secret SECRET] [--backup-code BACKUP_CODE]\n\nComplete 2FA login by verifying code and obtaining session key\n\noptions:\n -h, --help                                  show this help message and exit\n -c CODE, --code CODE                        2FA code from Authenticator app (default) or SMS\n --sms                                       Use SMS 2FA method instead of TOTP\n -s SECRET, --secret SECRET                  Secret token from previous login step (required for SMS)\n -bc BACKUP_CODE, --backup-code BACKUP_CODE  One-time backup code (alternative to regular 2FA code)\n -id METHOD_ID, --method-id METHOD_ID        2FA Method ID if you have more than one of the same type ('id' from `tfa status`)\n\nGlobal options (available for all commands):\n --url URL                                   Server REST API URL\n --retry RETRY                               Retry limit\n --explain                                   Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                       Output machine-readable json\n --full                                      Print full results instead of paging with `less` for commands that support it\n --curl                                      Show a curl equivalency to the call\n --api-key API_KEY                           API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                   Show CLI version\n --no-color                                  Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nComplete Two-Factor Authentication login by providing the 2FA code.\n\nFor TOTP (default): Provide the 6-digit code from your Authenticator app\nFor SMS: Include the --sms flag and provide -s/--secret from the `tfa send-sms` command response\nFor backup code: Use --backup-code instead of code (codes may only be used once)\n\nExamples:\n vastai tfa login -c 123456\n vastai tfa login --code 123456 --sms --secret abc123def456\n vastai tfa login --backup-code ABCD-EFGH-IJKL\n</code></pre>"},{"location":"cli/commands/#tfa-regen-codes","title":"tfa regen-codes","text":"<p>Regenerate backup codes for 2FA</p> <pre><code>usage: vastai tfa regen-codes [--code CODE] [--sms] [--secret SECRET] [--backup-code BACKUP_CODE] [--method-id ID]\n\nRegenerate backup codes for 2FA recovery\n\noptions:\n -h, --help                                  show this help message and exit\n -c CODE, --code CODE                        2FA code from Authenticator app (default) or SMS\n --sms                                       Use SMS 2FA method instead of TOTP\n -s SECRET, --secret SECRET                  Secret token from previous login step (required for SMS)\n -bc BACKUP_CODE, --backup-code BACKUP_CODE  One-time backup code (alternative to regular 2FA code)\n -id METHOD_ID, --method-id METHOD_ID        2FA Method ID if you have more than one of the same type ('id' from `tfa status`)\n\nGlobal options (available for all commands):\n --url URL                                   Server REST API URL\n --retry RETRY                               Retry limit\n --explain                                   Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                       Output machine-readable json\n --full                                      Print full results instead of paging with `less` for commands that support it\n --curl                                      Show a curl equivalency to the call\n --api-key API_KEY                           API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                   Show CLI version\n --no-color                                  Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nGenerate a new set of backup codes for your account.\n\nThis action requires 2FA verification to prevent unauthorized regeneration.\n\nWARNING: This will invalidate all existing backup codes!\nAny previously generated codes will no longer work.\n\nBackup codes are one-time use codes that allow you to log in\nif you lose access to your primary 2FA method (lost phone, etc).\n\nYou should regenerate your backup codes if:\n- You've used several codes and are running low\n- You think your codes may have been compromised\n- You lost your saved codes and need new ones\n\nImportant: Save the new codes in a secure location immediately!\nThey will not be shown again.\n\nExamples:\n vastai tfa regen-codes --code 123456\n vastai tfa regen-codes -c 123456 --sms --secret abc123def456\n vastai tfa regen-codes --backup-code ABCD-EFGH-IJKL\n</code></pre>"},{"location":"cli/commands/#tfa-resend-sms","title":"tfa resend-sms","text":"<p>Resend SMS 2FA code</p> <pre><code>usage: vastai tfa resend-sms --secret SECRET [--phone-number PHONE_NUMBER]\n\nResend SMS 2FA verification code\n\noptions:\n -h, --help                                    show this help message and exit\n -p PHONE_NUMBER, --phone-number PHONE_NUMBER  Phone number to receive SMS code (E.164 format, e.g., +1234567890)\n -s SECRET, --secret SECRET                    Secret token from the original 2FA login attempt\n\nGlobal options (available for all commands):\n --url URL                                     Server REST API URL\n --retry RETRY                                 Retry limit\n --explain                                     Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                         Output machine-readable json\n --full                                        Print full results instead of paging with `less` for commands that support it\n --curl                                        Show a curl equivalency to the call\n --api-key API_KEY                             API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                     Show CLI version\n --no-color                                    Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nResend the SMS verification code to your phone.\n\nThis is useful if:\n- You didn't receive the original SMS\n- The code expired before you could use it\n- You accidentally deleted the message\n\nYou must provide the same secret token from the original request.\n\nExample:\n vastai tfa resend-sms --secret abc123def456\n</code></pre>"},{"location":"cli/commands/#tfa-send-sms","title":"tfa send-sms","text":"<p>Request a 2FA SMS verification code</p> <pre><code>usage: vastai tfa send-sms [--phone-number PHONE_NUMBER]\n\nRequest a 2FA SMS verification code to be sent\n\noptions:\n -h, --help                                    show this help message and exit\n -p PHONE_NUMBER, --phone-number PHONE_NUMBER  Phone number to receive SMS code (E.164 format, e.g., +1234567890)\n\nGlobal options (available for all commands):\n --url URL                                     Server REST API URL\n --retry RETRY                                 Retry limit\n --explain                                     Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                         Output machine-readable json\n --full                                        Print full results instead of paging with `less` for commands that support it\n --curl                                        Show a curl equivalency to the call\n --api-key API_KEY                             API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                     Show CLI version\n --no-color                                    Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nRequest a two-factor authentication code to be sent via SMS.\n\nIf --phone-number is not provided, uses the phone number on your account.\nThe secret token will be returned and must be used with 'vastai tfa activate'.\n\nExamples:\n vastai tfa send-sms\n vastai tfa send-sms --phone-number +12345678901\n</code></pre>"},{"location":"cli/commands/#tfa-status","title":"tfa status","text":"<p>Shows the current 2FA status and configured methods</p> <pre><code>usage: vast.py tfa status [-h] [--url URL] [--retry RETRY] [--explain] [--raw] [--full] [--curl] [--api-key API_KEY] [--version]\n                          [--no-color]\n\nShow the current 2FA status and configured methods for your account\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nShow the current 2FA status for your account, including:\n - Whether or not 2FA is enabled\n - A list of active 2FA methods\n - The number of backup codes remaining (if 2FA is enabled)\n</code></pre>"},{"location":"cli/commands/#tfa-totp-setup","title":"tfa totp-setup","text":"<p>Generate TOTP secret and QR code for Authenticator app setup</p> <pre><code>usage: vastai tfa totp-setup\n\nGenerate TOTP secret and QR code for Authenticator app setup\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nSet up TOTP (Time-based One-Time Password) 2FA using an Authenticator app.\n\nThis command generates a new TOTP secret and displays:\n- A QR code (for scanning with your app)\n- A manual entry key (for typing into your app)\n- A secret token (needed for the next step)\n\nWorkflow:\n 1. Run this command to generate the TOTP secret\n 2. Add the account to your Authenticator app by either:\n    - Scanning the displayed QR code, OR\n    - Manually entering the key shown\n 3. Once added, your app will display a 6-digit code\n 4. Complete setup by running:\n    vastai tfa activate --secret &lt;SECRET&gt; &lt;CODE&gt;\n\nSupported Authenticator Apps:\n - Google Authenticator\n - Microsoft Authenticator\n - Authy\n - 1Password\n - Any TOTP-compatible app\n\nExample:\n vastai tfa totp-setup\n</code></pre>"},{"location":"cli/commands/#tfa-update","title":"tfa update","text":"<p>Update a 2FA method's settings</p> <pre><code>usage: vastai tfa update METHOD_ID [--label LABEL] [--set-primary]\n\nUpdate a 2FA method's settings (label or primary status)\n\npositional arguments:\n METHOD_ID                                  ID of the 2FA method to update (see `vastai tfa status`)\n\noptions:\n -h, --help                                 show this help message and exit\n -l LABEL, --label LABEL                    New label/name for this 2FA method\n -p SET_PRIMARY, --set-primary SET_PRIMARY  Set this method as the primary/default 2FA method\n\nGlobal options (available for all commands):\n --url URL                                  Server REST API URL\n --retry RETRY                              Retry limit\n --explain                                  Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                      Output machine-readable json\n --full                                     Print full results instead of paging with `less` for commands that support it\n --curl                                     Show a curl equivalency to the call\n --api-key API_KEY                          API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                  Show CLI version\n --no-color                                 Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nUpdate the label or primary status of a 2FA method.\n\nThe label is a friendly name to help you identify different methods\n(e.g. \"Work Phone\", \"Personal Authenticator\").\n\nThe primary method is your preferred/default 2FA method.\n\nExamples:\n vastai tfa update 123 --label \"Work Phone\"\n vastai tfa update 456 --set-primary\n vastai tfa update 789 --label \"Backup Authenticator\" --set-primary\n</code></pre>"},{"location":"cli/commands/#transfer-credit","title":"transfer credit","text":"<p>Transfer credits to another account</p> <pre><code>usage: vastai transfer credit [--recipient EMAIL] [--amount DOLLARS] [RECIPIENT AMOUNT]\n\nTransfer credits to another account\n\noptions:\n -h, --help                           show this help message and exit\n --recipient RECIPIENT, -r RECIPIENT  email (or id) of recipient account\n --amount AMOUNT, -a AMOUNT           dollars of credit to transfer\n --skip                               skip confirmation\n\nGlobal options (available for all commands):\n --url URL                            Server REST API URL\n --retry RETRY                        Retry limit\n --explain                            Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                Output machine-readable json\n --full                               Print full results instead of paging with `less` for commands that support it\n --curl                               Show a curl equivalency to the call\n --api-key API_KEY                    API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                            Show CLI version\n --no-color                           Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nTransfer credits to another account. This action is irreversible.\n\nSupports two syntax styles (named flags recommended):\n  vastai transfer credit --recipient user@example.com --amount 10.00\n  vastai transfer credit user@example.com 10.00  (legacy positional)\n\nExamples:\n  vastai transfer credit --recipient user@example.com --amount 25.50\n  vastai transfer credit -r user@example.com -a 25.50\n  vastai transfer credit user@example.com 25.50\n</code></pre>"},{"location":"cli/commands/#update-endpoint","title":"update endpoint","text":"<p>Update an existing endpoint group</p> <pre><code>usage: vastai update endpoint ID [OPTIONS]\n\nUpdate an existing endpoint group\n\npositional arguments:\n id                               id of endpoint group to update\n\noptions:\n -h, --help                       show this help message and exit\n --min_load MIN_LOAD              minimum floor load in perf units/s  (token/s for LLms)\n --min_cold_load MIN_COLD_LOAD    minimum floor load in perf units/s  (token/s for LLms), but allow handling with cold workers\n --endpoint_state ENDPOINT_STATE  active, suspended, or stopped\n --target_util TARGET_UTIL        target capacity utilization (fraction, max 1.0, default 0.9)\n --cold_mult COLD_MULT            cold/stopped instance capacity target as multiple of hot capacity target (default 2.5)\n --cold_workers COLD_WORKERS      min number of workers to keep 'cold' when you have no load (default 5)\n --max_workers MAX_WORKERS        max number of workers your endpoint group can have (default 20)\n --endpoint_name ENDPOINT_NAME    deployment endpoint name (allows multiple workergroups to share same deployment endpoint)\n\nGlobal options (available for all commands):\n --url URL                        Server REST API URL\n --retry RETRY                    Retry limit\n --explain                        Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                            Output machine-readable json\n --full                           Print full results instead of paging with `less` for commands that support it\n --curl                           Show a curl equivalency to the call\n --api-key API_KEY                API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                        Show CLI version\n --no-color                       Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai update endpoint 4242 --min_load 100 --target_util 0.9 --cold_mult 2.0 --endpoint_name \"LLama\"\n</code></pre>"},{"location":"cli/commands/#update-env-var","title":"update env-var","text":"<p>Update an existing user environment variable</p> <pre><code>usage: vastai update env-var &lt;name&gt; &lt;value&gt;\n\nUpdate an existing user environment variable\n\npositional arguments:\n name               Environment variable name to update\n value              New environment variable value\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#update-instance","title":"update instance","text":"<p>Update an instance configuration or recreate from a template</p> <pre><code>usage: vastai update instance ID [OPTIONS]\n\nUpdate an instance configuration or recreate from a template\n\npositional arguments:\n id                                   id of instance to update\n\noptions:\n -h, --help                           show this help message and exit\n --template_id TEMPLATE_ID            new template ID to associate with the instance\n --template_hash_id TEMPLATE_HASH_ID  new template hash ID to associate with the instance\n --image IMAGE                        new image UUID for the instance\n --args ARGS                          new arguments for the instance\n --env ENV                            new environment variables for the instance\n --onstart ONSTART                    new onstart script for the instance\n\nGlobal options (available for all commands):\n --url URL                            Server REST API URL\n --retry RETRY                        Retry limit\n --explain                            Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                Output machine-readable json\n --full                               Print full results instead of paging with `less` for commands that support it\n --curl                               Show a curl equivalency to the call\n --api-key API_KEY                    API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                            Show CLI version\n --no-color                           Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai update instance 1234 --template_hash_id 661d064bbda1f2a133816b6d55da07c3\n</code></pre>"},{"location":"cli/commands/#update-ssh-key","title":"update ssh-key","text":"<p>Update an SSH key's label or properties</p> <pre><code>usage: vastai update ssh-key ID SSH_KEY\n\nUpdate an SSH key's label or properties\n\npositional arguments:\n id                 id of the ssh key to update\n ssh_key            new public key value\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#update-team-role","title":"update team-role","text":"<p>Update an existing team role</p> <pre><code>usage: vastai update team-role ID --name NAME --permissions PERMISSIONS\n\nUpdate an existing team role\n\npositional arguments:\n id                         id of the role\n\noptions:\n -h, --help                 show this help message and exit\n --name NAME                name of the template\n --permissions PERMISSIONS  file path for json encoded permissions, look in the docs for more information\n\nGlobal options (available for all commands):\n --url URL                  Server REST API URL\n --retry RETRY              Retry limit\n --explain                  Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                      Output machine-readable json\n --full                     Print full results instead of paging with `less` for commands that support it\n --curl                     Show a curl equivalency to the call\n --api-key API_KEY          API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                  Show CLI version\n --no-color                 Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#update-template","title":"update template","text":"<p>Update an existing template</p> <pre><code>usage: vastai update template HASH_ID\n\nUpdate an existing template\n\npositional arguments:\n HASH_ID                        hash id of the template\n\noptions:\n -h, --help                     show this help message and exit\n --name NAME                    name of the template\n --image IMAGE                  docker container image to launch\n --image_tag IMAGE_TAG          docker image tag (can also be appended to end of image_path)\n --href HREF                    link you want to provide\n --repo REPO                    link to repository\n --login LOGIN                  docker login arguments for private repo authentication, surround with ''\n --env ENV                      Contents of the 'Docker options' field\n --ssh                          Launch as an ssh instance type\n --jupyter                      Launch as a jupyter instance instead of an ssh instance\n --direct                       Use (faster) direct connections for jupyter &amp; ssh\n --jupyter-dir JUPYTER_DIR      For runtype 'jupyter', directory in instance to use to launch jupyter. Defaults to image's working directory\n --jupyter-lab                  For runtype 'jupyter', Launch instance with jupyter lab\n --onstart-cmd ONSTART_CMD      contents of onstart script as single argument\n --search_params SEARCH_PARAMS  search offers filters\n -n, --no-default               Disable default search param query args\n --disk_space DISK_SPACE        disk storage space, in GB\n --readme README                readme string\n --hide-readme                  hide the readme from users\n --desc DESC                    description string\n --public                       make template available to public\n\nGlobal options (available for all commands):\n --url URL                      Server REST API URL\n --retry RETRY                  Retry limit\n --explain                      Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                          Output machine-readable json\n --full                         Print full results instead of paging with `less` for commands that support it\n --curl                         Show a curl equivalency to the call\n --api-key API_KEY              API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                      Show CLI version\n --no-color                     Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nUpdate a template\n\nExample:\n    vastai update template c81e7ab0e928a508510d1979346de10d --name \"tgi-llama2-7B-quantized\" --image \"ghcr.io/huggingface/text-generation-inference:1.0.3\"\n                            --env \"-p 3000:3000 -e MODEL_ARGS='--model-id TheBloke/Llama-2-7B-chat-GPTQ --quantize gptq'\"\n                            --onstart-cmd 'wget -O - https://raw.githubusercontent.com/vast-ai/vast-pyworker/main/scripts/launch_tgi.sh | bash'\n                            --search_params \"gpu_ram&gt;=23 num_gpus=1 gpu_name=RTX_3090 inet_down&gt;128 direct_port_count&gt;3 disk_space&gt;=192 driver_version&gt;=535086005 rented=False\"\n                            --disk 8.0 --ssh --direct\n</code></pre>"},{"location":"cli/commands/#update-workergroup","title":"update workergroup","text":"<p>Update an existing autoscale group</p> <pre><code>usage: vastai update workergroup WORKERGROUP_ID --endpoint_id ENDPOINT_ID [options]\n\nUpdate an existing autoscale group\n\npositional arguments:\n id                             id of autoscale group to update\n\noptions:\n -h, --help                     show this help message and exit\n --min_load MIN_LOAD            minimum floor load in perf units/s  (token/s for LLms)\n --target_util TARGET_UTIL      target capacity utilization (fraction, max 1.0, default 0.9)\n --cold_mult COLD_MULT          cold/stopped instance capacity target as multiple of hot capacity target (default 2.5)\n --cold_workers COLD_WORKERS    min number of workers to keep 'cold' for this workergroup\n --test_workers TEST_WORKERS    number of workers to create to get an performance estimate for while initializing workergroup (default 3)\n --gpu_ram GPU_RAM              estimated GPU RAM req  (independent of search string)\n --template_hash TEMPLATE_HASH  template hash (**Note**: if you use this field, you can skip search_params, as they are automatically inferred from the template)\n --template_id TEMPLATE_ID      template id\n --search_params SEARCH_PARAMS  search param string for search offers    ex: \"gpu_ram&gt;=23 num_gpus=2 gpu_name=RTX_4090 inet_down&gt;200 direct_port_count&gt;2 disk_space&gt;=64\"\n -n, --no-default               Disable default search param query args\n --launch_args LAUNCH_ARGS      launch args  string for create instance  ex: \"--onstart onstart_wget.sh  --env '-e ONSTART_PATH=https://s3.amazonaws.com/public.vast.ai/onstart_OOBA.sh' --image atinoda/text-generation-webui:default-nightly --disk 64\"\n --endpoint_name ENDPOINT_NAME  deployment endpoint name (allows multiple workergroups to share same deployment endpoint)\n --endpoint_id ENDPOINT_ID      deployment endpoint id (allows multiple workergroups to share same deployment endpoint)\n\nGlobal options (available for all commands):\n --url URL                      Server REST API URL\n --retry RETRY                  Retry limit\n --explain                      Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                          Output machine-readable json\n --full                         Print full results instead of paging with `less` for commands that support it\n --curl                         Show a curl equivalency to the call\n --api-key API_KEY              API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                      Show CLI version\n --no-color                     Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nExample: vastai update workergroup 4242 --min_load 100 --target_util 0.9 --cold_mult 2.0 --search_params \"gpu_ram&gt;=23 num_gpus=2 gpu_name=RTX_4090 inet_down&gt;200 direct_port_count&gt;2 disk_space&gt;=64\" --launch_args \"--onstart onstart_wget.sh  --env '-e ONSTART_PATH=https://s3.amazonaws.com/public.vast.ai/onstart_OOBA.sh' --image atinoda/text-generation-webui:default-nightly --disk 64\" --gpu_ram 32.0 --endpoint_name \"LLama\" --endpoint_id 2\n</code></pre>"},{"location":"cli/commands/#host-commands","title":"Host Commands","text":"<p>Commands for GPU providers hosting machines on Vast.ai.</p>"},{"location":"cli/commands/#add-network-disk","title":"add network-disk","text":"<p>[Beta] Attach a network disk to a machine cluster</p> <pre><code>usage: vastai add network-disk MACHINES MOUNT_PATH [options]\n\n[Host] [Beta] Attach a network disk to a machine cluster\n\npositional arguments:\n machines                           ids of machines to add disk to, that is networked to be on the same LAN as machine\n mount_point                        mount path of disk to add\n\noptions:\n -h, --help                         show this help message and exit\n -d [DISK_ID], --disk_id [DISK_ID]  id of network disk to attach to machines in the cluster\n\nGlobal options (available for all commands):\n --url URL                          Server REST API URL\n --retry RETRY                      Retry limit\n --explain                          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                              Output machine-readable json\n --full                             Print full results instead of paging with `less` for commands that support it\n --curl                             Show a curl equivalency to the call\n --api-key API_KEY                  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                          Show CLI version\n --no-color                         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThis variant can be used to add a network disk to a physical cluster.\nWhen you add a network disk for the first time, you just need to specify the machine(s) and mount_path.\nWhen you add a network disk for the second time, you need to specify the disk_id.\nExample:\nvastai add network-disk 1 /mnt/disk1\nvastai add network-disk 1 /mnt/disk1 -d 12345\n</code></pre>"},{"location":"cli/commands/#cancel-maint","title":"cancel maint","text":"<p>Cancel a scheduled maintenance window</p> <pre><code>usage: vastai cancel maint id\n\n[Host] Cancel a scheduled maintenance window\n\npositional arguments:\n id                 id of machine to cancel maintenance(s) for\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nFor deleting a machine's scheduled maintenance window(s), use this cancel maint command.\nExample: vastai cancel maint 8207\n</code></pre>"},{"location":"cli/commands/#cleanup-machine","title":"cleanup machine","text":"<p>Clean up expired storage to free disk space</p> <pre><code>usage: vastai cleanup machine ID [options]\n\n[Host] Clean up expired storage to free disk space\n\npositional arguments:\n id                 id of machine to cleanup\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nInstances expire on their end date. Expired instances still pay storage fees, but can not start.\nSince hosts are still paid storage fees for expired instances, we do not auto delete them.\nInstead you can use this CLI/API function to delete all expired storage instances for a machine.\nThis is useful if you are running low on storage, want to do maintenance, or are subsidizing storage, etc.\n</code></pre>"},{"location":"cli/commands/#create-network-volume","title":"create network-volume","text":"<p>[Beta] Create a new network-attached storage volume</p> <pre><code>usage: vastai create network volume ID [options]\n\n[Host] [Beta] Create a new network-attached storage volume\n\npositional arguments:\n id                    id of network volume offer\n\noptions:\n -h, --help            show this help message and exit\n -s SIZE, --size SIZE  size in GB of network volume. Default 15 GB.\n -n NAME, --name NAME  Optional name of network volume.\n\nGlobal options (available for all commands):\n --url URL             Server REST API URL\n --retry RETRY         Retry limit\n --explain             Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                 Output machine-readable json\n --full                Print full results instead of paging with `less` for commands that support it\n --curl                Show a curl equivalency to the call\n --api-key API_KEY     API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version             Show CLI version\n --no-color            Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nCreates a network volume from an offer ID (which is returned from \"search network volumes\"). Each offer ID can be used to create multiple volumes,\nprovided the size of all volumes does not exceed the size of the offer.\n</code></pre>"},{"location":"cli/commands/#defrag-machines","title":"defrag machines","text":"<p>Rebuild larger GPU offers from orphaned single GPUs when possible</p> <pre><code>usage: vastai defragment machines IDs \n\n[Host] Rebuild larger GPU offers from orphaned single GPUs when possible\n\npositional arguments:\n IDs                ids of machines\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nDefragment some of your machines. This will rearrange GPU assignments to try and make more multi-gpu offers available.\n</code></pre>"},{"location":"cli/commands/#delete-machine","title":"delete machine","text":"<p>Remove a machine from your host account</p> <pre><code>usage: vastai delete machine &lt;id&gt;\n\n[Host] Remove a machine from your host account\n\npositional arguments:\n id                 id of machine to delete\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#list-machine","title":"list machine","text":"<p>List a single machine for rent on the marketplace</p> <pre><code>usage: vastai list machine ID [options]\n\n[Host] List a single machine for rent on the marketplace\n\npositional arguments:\n id                                               id of machine to list\n\noptions:\n -h, --help                                       show this help message and exit\n -g PRICE_GPU, --price_gpu PRICE_GPU              per gpu rental price in $/hour  (price for active instances)\n -s PRICE_DISK, --price_disk PRICE_DISK           storage price in $/GB/month (price for inactive instances), default: $0.10/GB/month\n -u PRICE_INETU, --price_inetu PRICE_INETU        price for internet upload bandwidth in $/GB\n -d PRICE_INETD, --price_inetd PRICE_INETD        price for internet download bandwidth in $/GB\n -b PRICE_MIN_BID, --price_min_bid PRICE_MIN_BID  per gpu minimum bid price floor in $/hour\n -r DISCOUNT_RATE, --discount_rate DISCOUNT_RATE  Max long term prepay discount rate fraction, default: 0.4 \n -m MIN_CHUNK, --min_chunk MIN_CHUNK              minimum amount of gpus\n -e END_DATE, --end_date END_DATE                 contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format)\n -l DURATION, --duration DURATION                 Updates end_date daily to be duration from current date. Cannot be combined with end_date. Format is: `n days`, `n weeks`, `n months`, `n years`, or total intended duration in seconds.\n -v VOL_SIZE, --vol_size VOL_SIZE                 Size for volume contract offer. Defaults to half of available disk. Set 0 to not create a volume contract offer.\n -z VOL_PRICE, --vol_price VOL_PRICE              Price for disk on volume contract offer. Defaults to price_disk. Invalid if vol_size is 0.\n\nGlobal options (available for all commands):\n --url URL                                        Server REST API URL\n --retry RETRY                                    Retry limit\n --explain                                        Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                            Output machine-readable json\n --full                                           Print full results instead of paging with `less` for commands that support it\n --curl                                           Show a curl equivalency to the call\n --api-key API_KEY                                API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                        Show CLI version\n --no-color                                       Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nPerforms the same action as pressing the \"LIST\" button on the site https://cloud.vast.ai/host/machines.\nOn the end date the listing will expire and your machine will unlist. However any existing client jobs will still remain until ended by their owners.\nOnce you list your machine and it is rented, it is extremely important that you don't interfere with the machine in any way.\nIf your machine has an active client job and then goes offline, crashes, or has performance problems, this could permanently lower your reliability rating.\nWe strongly recommend you test the machine first and only list when ready.\n</code></pre>"},{"location":"cli/commands/#list-machines","title":"list machines","text":"<p>List multiple machines for rent on the marketplace</p> <pre><code>usage: vastai list machines IDS [OPTIONS]\n\n[Host] List multiple machines for rent on the marketplace\n\npositional arguments:\n ids                                              ids of machines to list\n\noptions:\n -h, --help                                       show this help message and exit\n -g PRICE_GPU, --price_gpu PRICE_GPU              per gpu on-demand rental price in $/hour (base price for active instances)\n -s PRICE_DISK, --price_disk PRICE_DISK           storage price in $/GB/month (price for inactive instances), default: $0.10/GB/month\n -u PRICE_INETU, --price_inetu PRICE_INETU        price for internet upload bandwidth in $/GB\n -d PRICE_INETD, --price_inetd PRICE_INETD        price for internet download bandwidth in $/GB\n -b PRICE_MIN_BID, --price_min_bid PRICE_MIN_BID  per gpu minimum bid price floor in $/hour\n -r DISCOUNT_RATE, --discount_rate DISCOUNT_RATE  Max long term prepay discount rate fraction, default: 0.4 \n -m MIN_CHUNK, --min_chunk MIN_CHUNK              minimum amount of gpus\n -e END_DATE, --end_date END_DATE                 contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format)\n -l DURATION, --duration DURATION                 Updates end_date daily to be duration from current date. Cannot be combined with end_date. Format is: `n days`, `n weeks`, `n months`, `n years`, or total intended duration in seconds.\n -v VOL_SIZE, --vol_size VOL_SIZE                 Size for volume contract offer. Defaults to half of available disk. Set 0 to not create a volume contract offer.\n -z VOL_PRICE, --vol_price VOL_PRICE              Price for disk on volume contract offer. Defaults to price_disk. Invalid if vol_size is 0.\n\nGlobal options (available for all commands):\n --url URL                                        Server REST API URL\n --retry RETRY                                    Retry limit\n --explain                                        Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                            Output machine-readable json\n --full                                           Print full results instead of paging with `less` for commands that support it\n --curl                                           Show a curl equivalency to the call\n --api-key API_KEY                                API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                        Show CLI version\n --no-color                                       Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThis variant can be used to list or update the listings for multiple machines at once with the same args.\nYou could extend the end dates of all your machines using a command combo like this:\n./vast.py list machines $(./vast.py show machines -q) -e 12/31/2024 --retry 6\n</code></pre>"},{"location":"cli/commands/#list-network-volume","title":"list network-volume","text":"<p>[Beta] List disk space as a rentable network volume</p> <pre><code>usage: vastai list network volume DISK_ID [options]\n\n[Host] [Beta] List disk space as a rentable network volume\n\npositional arguments:\n disk_id                                 id of network disk to list\n\noptions:\n -h, --help                              show this help message and exit\n -p PRICE_DISK, --price_disk PRICE_DISK  storage price in $/GB/month, default: $0.15/GB/month\n -e END_DATE, --end_date END_DATE        contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format), default 1 month\n -s SIZE, --size SIZE                    size of disk space allocated to offer in GB, default 15 GB\n\nGlobal options (available for all commands):\n --url URL                               Server REST API URL\n --retry RETRY                           Retry limit\n --explain                               Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                   Output machine-readable json\n --full                                  Print full results instead of paging with `less` for commands that support it\n --curl                                  Show a curl equivalency to the call\n --api-key API_KEY                       API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                               Show CLI version\n --no-color                              Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#list-volume","title":"list volume","text":"<p>List disk space as a rentable volume</p> <pre><code>usage: vastai list volume ID [options]\n\n[Host] List disk space as a rentable volume\n\npositional arguments:\n id                                      id of machine to list\n\noptions:\n -h, --help                              show this help message and exit\n -p PRICE_DISK, --price_disk PRICE_DISK  storage price in $/GB/month, default: $0.10/GB/month\n -e END_DATE, --end_date END_DATE        contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format), default 3 months\n -s SIZE, --size SIZE                    size of disk space allocated to offer in GB, default 15 GB\n\nGlobal options (available for all commands):\n --url URL                               Server REST API URL\n --retry RETRY                           Retry limit\n --explain                               Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                   Output machine-readable json\n --full                                  Print full results instead of paging with `less` for commands that support it\n --curl                                  Show a curl equivalency to the call\n --api-key API_KEY                       API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                               Show CLI version\n --no-color                              Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nAllocates a section of disk on a machine to be used for volumes.\n</code></pre>"},{"location":"cli/commands/#list-volumes","title":"list volumes","text":"<p>List disk space on multiple machines as rentable volumes</p> <pre><code>usage: vastai list volumes IDS [OPTIONS]\n\n[Host] List disk space on multiple machines as rentable volumes\n\npositional arguments:\n ids                                     ids of machines to list volumes on\n\noptions:\n -h, --help                              show this help message and exit\n -p PRICE_DISK, --price_disk PRICE_DISK  storage price in $/GB/month, default: $0.10/GB/month\n -e END_DATE, --end_date END_DATE        contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format), default 3 months\n -s SIZE, --size SIZE                    size of disk space allocated to offer in GB, default 15 GB\n\nGlobal options (available for all commands):\n --url URL                               Server REST API URL\n --retry RETRY                           Retry limit\n --explain                               Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                   Output machine-readable json\n --full                                  Print full results instead of paging with `less` for commands that support it\n --curl                                  Show a curl equivalency to the call\n --api-key API_KEY                       API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                               Show CLI version\n --no-color                              Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nAllocates a section of disk on machines to be used for volumes.\n</code></pre>"},{"location":"cli/commands/#remove-defjob","title":"remove defjob","text":"<p>Remove default background jobs from a machine</p> <pre><code>usage: vastai remove defjob id\n\n[Host] Remove default background jobs from a machine\n\npositional arguments:\n id                 id of machine to remove default instance from\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#reports","title":"reports","text":"<p>Get usage and performance reports for a machine</p> <pre><code>usage: vastai reports ID\n\n[Host] Get usage and performance reports for a machine\n\npositional arguments:\n id                 machine id\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#schedule-maint","title":"schedule maint","text":"<p>Schedule a maintenance window for a machine</p> <pre><code>usage: vastai schedule maintenance id [--sdate START_DATE --duration DURATION --maintenance_category MAINTENANCE_CATEGORY]\n\n[Host] Schedule a maintenance window for a machine\n\npositional arguments:\n id                                           id of machine to schedule maintenance for\n\noptions:\n -h, --help                                   show this help message and exit\n --sdate SDATE                                maintenance start date in unix epoch time (UTC seconds)\n --duration DURATION                          maintenance duration in hours\n --maintenance_category MAINTENANCE_CATEGORY  (optional) can be one of [power, internet, disk, gpu, software, other]\n\nGlobal options (available for all commands):\n --url URL                                    Server REST API URL\n --retry RETRY                                Retry limit\n --explain                                    Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                        Output machine-readable json\n --full                                       Print full results instead of paging with `less` for commands that support it\n --curl                                       Show a curl equivalency to the call\n --api-key API_KEY                            API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                                    Show CLI version\n --no-color                                   Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThe proper way to perform maintenance on your machine is to wait until all active contracts have expired or the machine is vacant.\nFor unplanned or unscheduled maintenance, use this schedule maint command. That will notify the client that you have to take the machine down and that they should save their work.\nYou can specify a date, duration, reason and category for the maintenance.\n\nExample: vastai schedule maint 8207 --sdate 1677562671 --duration 0.5 --maintenance_category \"power\"\n</code></pre>"},{"location":"cli/commands/#search-network-volumes","title":"search network-volumes","text":"<p>[Beta] Search available network volume offers with filters</p> <pre><code>usage: vastai search network volumes [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n\n[Host] [Beta] Search available network volume offers with filters\n\npositional arguments:\n query                    Query to search for. default: 'external=false verified=true disk_space&gt;=1', pass -n to ignore default\n\noptions:\n -h, --help               show this help message and exit\n -n, --no-default         Disable default query\n --limit LIMIT\n --storage STORAGE        Amount of storage to use for pricing, in GiB. default=1.0GiB\n -o ORDER, --order ORDER  Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'disk_space,inet_up-'.  default='score-'\n\nGlobal options (available for all commands):\n --url URL                Server REST API URL\n --retry RETRY            Retry limit\n --explain                Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                    Output machine-readable json\n --full                   Print full results instead of paging with `less` for commands that support it\n --curl                   Show a curl equivalency to the call\n --api-key API_KEY        API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                Show CLI version\n --no-color               Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nQuery syntax:\n\n    query = comparison comparison...\n    comparison = field op value\n    field = &lt;name of a field&gt;\n    op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin\n    value = &lt;bool, int, float, string&gt; | 'any' | [value0, value1, ...]\n    bool: True, False\n\nnote: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes\nnote: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_'\n\nExamples:\n\n    # search for volumes with greater than 50GB of available storage and greater than 500 Mb/s upload and download speed\n    vastai search volumes \"disk_space&gt;50 inet_up&gt;500 inet_down&gt;500\"\n\nAvailable fields:\n\n      Name                  Type       Description\n    duration:               float     max rental duration in days\n    geolocation:            string    Two letter country code. Works with operators =, !=, in, notin (e.g. geolocation not in ['XV','XZ'])\n    id:                     int       volume offer unique ID\n    inet_down:              float     internet download speed in Mb/s\n    inet_up:                float     internet upload speed in Mb/s\n    reliability:            float     machine reliability score (see FAQ for explanation)\n    storage_cost:           float     storage cost in $/GB/month\n    verified:               bool      is the machine verified\n</code></pre>"},{"location":"cli/commands/#self-test-machine","title":"self-test machine","text":"<p>Run diagnostics on a hosted machine</p> <pre><code>usage: vastai self-test machine &lt;machine_id&gt; [--debugging] [--explain] [--api_key API_KEY] [--url URL] [--retry RETRY] [--raw] [--ignore-requirements]\n\n[Host] Run diagnostics on a hosted machine\n\npositional arguments:\n machine_id             Machine ID\n\noptions:\n -h, --help             show this help message and exit\n --debugging            Enable debugging output\n --explain              Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                  Output machine-readable JSON\n --url URL              Server REST API URL\n --retry RETRY          Retry limit\n --ignore-requirements  Ignore the minimum system requirements and run the self test regardless\n\nGlobal options (available for all commands):\n --full                 Print full results instead of paging with `less` for commands that support it\n --curl                 Show a curl equivalency to the call\n --api-key API_KEY      API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version              Show CLI version\n --no-color             Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nThis command tests if a machine meets specific requirements and\nruns a series of tests to ensure it's functioning correctly.\n\nExamples:\n vast self-test machine 12345\n vast self-test machine 12345 --debugging\n vast self-test machine 12345 --explain\n vast self-test machine 12345 --api_key &lt;YOUR_API_KEY&gt;\n</code></pre>"},{"location":"cli/commands/#set-defjob","title":"set defjob","text":"<p>Configure default background jobs for a machine</p> <pre><code>usage: vastai set defjob id [--api-key API_KEY] [--price_gpu PRICE_GPU] [--price_inetu PRICE_INETU] [--price_inetd PRICE_INETD] [--image IMAGE] [--args ...]\n\n[Host] Configure default background jobs for a machine\n\npositional arguments:\n id                         id of machine to launch default instance on\n\noptions:\n -h, --help                 show this help message and exit\n --price_gpu PRICE_GPU      per gpu rental price in $/hour\n --price_inetu PRICE_INETU  price for internet upload bandwidth in $/GB\n --price_inetd PRICE_INETD  price for internet download bandwidth in $/GB\n --image IMAGE              docker container image to launch\n --args ...                 list of arguments passed to container launch\n\nGlobal options (available for all commands):\n --url URL                  Server REST API URL\n --retry RETRY              Retry limit\n --explain                  Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                      Output machine-readable json\n --full                     Print full results instead of paging with `less` for commands that support it\n --curl                     Show a curl equivalency to the call\n --api-key API_KEY          API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                  Show CLI version\n --no-color                 Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nPerforms the same action as creating a background job at https://cloud.vast.ai/host/create.\n</code></pre>"},{"location":"cli/commands/#set-min-bid","title":"set min-bid","text":"<p>Set minimum price for interruptible/spot instance rentals</p> <pre><code>usage: vastai set min_bid id [--price PRICE]\n\n[Host] Set minimum price for interruptible/spot instance rentals\n\npositional arguments:\n id                 id of machine to set min bid price for\n\noptions:\n -h, --help         show this help message and exit\n --price PRICE      per gpu min bid price in $/hour\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nChange the current min bid price of machine id to PRICE.\n</code></pre>"},{"location":"cli/commands/#show-earnings","title":"show earnings","text":"<p>Show rental income history for your machines</p> <pre><code>usage: vastai show earnings [OPTIONS]\n\n[Host] Show rental income history for your machines\n\noptions:\n -h, --help                              show this help message and exit\n -q, --quiet                             only display numeric ids\n -s START_DATE, --start_date START_DATE  start date and time for report. Many formats accepted\n -e END_DATE, --end_date END_DATE        end date and time for report. Many formats accepted \n -m MACHINE_ID, --machine_id MACHINE_ID  Machine id (optional)\n\nGlobal options (available for all commands):\n --url URL                               Server REST API URL\n --retry RETRY                           Retry limit\n --explain                               Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw                                   Output machine-readable json\n --full                                  Print full results instead of paging with `less` for commands that support it\n --curl                                  Show a curl equivalency to the call\n --api-key API_KEY                       API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version                               Show CLI version\n --no-color                              Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-machine","title":"show machine","text":"<p>Show details for a specific hosted machine</p> <pre><code>usage: vastai show machine ID [OPTIONS]\n\n[Host] Show details for a specific hosted machine\n\npositional arguments:\n id                 id of machine to display\n\noptions:\n -h, --help         show this help message and exit\n -q, --quiet        only display numeric ids\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-machines","title":"show machines","text":"<p>List all your hosted machines</p> <pre><code>usage: vastai show machines [OPTIONS]\n\n[Host] List all your hosted machines\n\noptions:\n -h, --help         show this help message and exit\n -q, --quiet        only display numeric ids\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-maints","title":"show maints","text":"<p>List scheduled maintenance windows</p> <pre><code>usage: vastai show maints --ids MACHINE_IDS [OPTIONS]\n\n[Host] List scheduled maintenance windows\n\noptions:\n -h, --help         show this help message and exit\n -i IDS, --ids IDS  comma separated string of machine_ids for which to get maintenance information\n -q, --quiet        only display numeric ids of the machines in maintenance\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#show-network-disks","title":"show network-disks","text":"<p>[Beta] List network disks attached to your machines</p> <pre><code>usage: vastai show network-disks\n\n[Host] [Beta] List network disks attached to your machines\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n\nShow network disks associated with your account.\n</code></pre>"},{"location":"cli/commands/#unlist-machine","title":"unlist machine","text":"<p>Remove a machine from the rental marketplace</p> <pre><code>usage: vastai unlist machine &lt;id&gt;\n\n[Host] Remove a machine from the rental marketplace\n\npositional arguments:\n id                 id of machine to unlist\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#unlist-network-volume","title":"unlist network-volume","text":"<p>[Beta] Remove a network volume offer from the marketplace</p> <pre><code>usage: vastai unlist network volume OFFER_ID\n\n[Host] [Beta] Remove a network volume offer from the marketplace\n\npositional arguments:\n id                 id of network volume offer to unlist\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/commands/#unlist-volume","title":"unlist volume","text":"<p>Remove a volume offer from the marketplace</p> <pre><code>usage: vastai unlist volume ID\n\n[Host] Remove a volume offer from the marketplace\n\npositional arguments:\n id                 volume ID you want to unlist\n\noptions:\n -h, --help         show this help message and exit\n\nGlobal options (available for all commands):\n --url URL          Server REST API URL\n --retry RETRY      Retry limit\n --explain          Output verbose explanation of mapping of CLI calls to HTTPS API endpoints\n --raw              Output machine-readable json\n --full             Print full results instead of paging with `less` for commands that support it\n --curl             Show a curl equivalency to the call\n --api-key API_KEY  API Key to use. defaults to using the one stored in /home/runner/.config/vastai/vast_api_key\n --version          Show CLI version\n --no-color         Disable colored output for commands that support it (Note: the 'rich' python module is required for colored output)\n</code></pre>"},{"location":"cli/examples/","title":"CLI Examples","text":"<p>Common usage patterns and workflows for the Vast.ai CLI.</p>"},{"location":"cli/examples/#finding-gpu-instances","title":"Finding GPU Instances","text":""},{"location":"cli/examples/#basic-search","title":"Basic Search","text":"<pre><code># List available offers\nvastai search offers --limit 10\n\n# Sort by price (cheapest first)\nvastai search offers --order dph_total --limit 10\n</code></pre>"},{"location":"cli/examples/#filtered-search","title":"Filtered Search","text":"<pre><code># Find 4+ GPU machines\nvastai search offers 'num_gpus &gt;= 4'\n\n# Find RTX 4090s\nvastai search offers 'gpu_name = RTX_4090'\n\n# Find high-reliability machines\nvastai search offers 'reliability &gt; 0.99'\n\n# Combined filter: 4+ GPUs, 24GB+ VRAM, under $2/hr\nvastai search offers 'num_gpus &gt;= 4 gpu_ram &gt;= 24 dph_total &lt; 2.0'\n</code></pre>"},{"location":"cli/examples/#query-operators","title":"Query Operators","text":"Operator Example Description <code>=</code>, <code>==</code> <code>gpu_name = RTX_4090</code> Exact match <code>!=</code> <code>verified != False</code> Not equal <code>&gt;=</code> <code>num_gpus &gt;= 4</code> Greater or equal <code>&lt;=</code> <code>dph_total &lt;= 1.0</code> Less or equal <code>&gt;</code> <code>reliability &gt; 0.99</code> Greater than <code>&lt;</code> <code>gpu_ram &lt; 16</code> Less than <code>in</code> <code>gpu_name in [RTX_4090,RTX_3090]</code> Value in list <code>notin</code> <code>geolocation notin [CN,RU]</code> Value not in list"},{"location":"cli/examples/#creating-instances","title":"Creating Instances","text":""},{"location":"cli/examples/#basic-instance","title":"Basic Instance","text":"<pre><code># Get an offer ID\nOFFER_ID=$(vastai search offers --raw | jq '.[0].id')\n\n# Create instance with default image\nvastai create instance $OFFER_ID --image pytorch/pytorch:latest\n</code></pre>"},{"location":"cli/examples/#custom-configuration","title":"Custom Configuration","text":"<pre><code>vastai create instance $OFFER_ID \\\n    --image nvidia/cuda:12.0-devel-ubuntu22.04 \\\n    --disk 50 \\\n    --label \"training-job\" \\\n    --onstart-cmd \"pip install requirements.txt\"\n</code></pre>"},{"location":"cli/examples/#with-ssh-access","title":"With SSH Access","text":"<pre><code>vastai create instance $OFFER_ID \\\n    --image ubuntu:22.04 \\\n    --ssh \\\n    --direct\n</code></pre>"},{"location":"cli/examples/#managing-instances","title":"Managing Instances","text":""},{"location":"cli/examples/#list-instances","title":"List Instances","text":"<pre><code># Show all instances\nvastai show instances\n\n# JSON output for scripting\nvastai show instances --raw\n</code></pre>"},{"location":"cli/examples/#connect-via-ssh","title":"Connect via SSH","text":"<pre><code># Get SSH command\nvastai ssh-url $INSTANCE_ID\n\n# Direct SSH (if direct SSH enabled)\nssh -p PORT root@HOST\n</code></pre>"},{"location":"cli/examples/#copy-files","title":"Copy Files","text":"<pre><code># Upload file\nvastai copy local_file.txt $INSTANCE_ID:/root/\n\n# Download file\nvastai copy $INSTANCE_ID:/root/results.csv ./\n\n# Upload directory\nvastai copy ./data/ $INSTANCE_ID:/root/data/\n</code></pre>"},{"location":"cli/examples/#destroy-instance","title":"Destroy Instance","text":"<pre><code>vastai destroy instance $INSTANCE_ID\n</code></pre>"},{"location":"cli/examples/#scripting-with-raw","title":"Scripting with --raw","text":""},{"location":"cli/examples/#get-instance-ids","title":"Get Instance IDs","text":"<pre><code># Get all instance IDs\nvastai show instances --raw | jq '.[].id'\n\n# Get first instance ID\nID=$(vastai show instances --raw | jq '.[0].id')\n</code></pre>"},{"location":"cli/examples/#filter-offers","title":"Filter Offers","text":"<pre><code># Get cheapest offer with 4+ GPUs\nvastai search offers 'num_gpus &gt;= 4' --raw | \\\n    jq 'sort_by(.dph_total) | .[0]'\n</code></pre>"},{"location":"cli/examples/#automated-deployment","title":"Automated Deployment","text":"<pre><code>#!/bin/bash\n# deploy.sh - Find cheapest 4-GPU machine and deploy\n\n# Find offer\nOFFER=$(vastai search offers 'num_gpus &gt;= 4' --raw | jq 'sort_by(.dph_total) | .[0]')\nOFFER_ID=$(echo $OFFER | jq '.id')\n\necho \"Found offer: $OFFER_ID at $(echo $OFFER | jq '.dph_total')/hr\"\n\n# Create instance\nRESULT=$(vastai create instance $OFFER_ID \\\n    --image pytorch/pytorch:latest \\\n    --disk 50 \\\n    --raw)\n\nINSTANCE_ID=$(echo $RESULT | jq '.new_contract')\necho \"Created instance: $INSTANCE_ID\"\n\n# Wait for ready\nsleep 60\n\n# Get SSH info\nvastai ssh-url $INSTANCE_ID\n</code></pre>"},{"location":"cli/examples/#account-management","title":"Account Management","text":""},{"location":"cli/examples/#check-balance","title":"Check Balance","text":"<pre><code>vastai show user\n</code></pre>"},{"location":"cli/examples/#view-invoices","title":"View Invoices","text":"<pre><code>vastai show invoices\n</code></pre>"},{"location":"cli/examples/#transfer-credits","title":"Transfer Credits","text":"<pre><code># Recommended: named flags (clearer, order doesn't matter)\nvastai transfer credit --recipient user@example.com --amount 10.00\n\n# Short flags\nvastai transfer credit -r user@example.com -a 10.00\n\n# Legacy positional syntax (still supported)\nvastai transfer credit user@example.com 10.00\n</code></pre>"},{"location":"cli/examples/#host-commands","title":"Host Commands","text":""},{"location":"cli/examples/#list-your-machines","title":"List Your Machines","text":"<pre><code>vastai show machines\n</code></pre>"},{"location":"cli/examples/#set-minimum-bid","title":"Set Minimum Bid","text":"<pre><code>vastai set min-bid $MACHINE_ID --price 0.50\n</code></pre>"},{"location":"cli/examples/#test-a-machine","title":"Test a Machine","text":"<pre><code>vastai self-test machine $MACHINE_ID\n</code></pre>"},{"location":"cli/examples/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/examples/#check-api-connectivity","title":"Check API Connectivity","text":"<pre><code>vastai show user --explain\n</code></pre>"},{"location":"cli/examples/#debug-request","title":"Debug Request","text":"<pre><code>vastai search offers --curl\n# Shows equivalent curl command\n</code></pre>"},{"location":"cli/examples/#verbose-output","title":"Verbose Output","text":"<pre><code>LOGLEVEL=DEBUG vastai show instances\n</code></pre>"},{"location":"cli/client/","title":"Client Commands","text":"<p>Commands for renting and managing GPU instances on Vast.ai.</p>"},{"location":"cli/client/#command-categories","title":"Command Categories","text":""},{"location":"cli/client/#instance-management","title":"Instance Management","text":"Command Description <code>create instance</code> Create a new instance <code>destroy instance</code> Destroy an instance <code>start instance</code> Start a stopped instance <code>stop instance</code> Stop a running instance <code>reboot instance</code> Reboot an instance <code>label instance</code> Assign a label to an instance <code>show instances</code> List your instances <code>show instance</code> Show instance details <code>logs</code> Get instance logs <code>execute</code> Execute command on instance"},{"location":"cli/client/#search","title":"Search","text":"Command Description <code>search offers</code> Search available GPU offers <code>search templates</code> Search templates <code>search volumes</code> Search volume offers <code>search benchmarks</code> Search benchmark results"},{"location":"cli/client/#ssh-file-transfer","title":"SSH &amp; File Transfer","text":"Command Description <code>ssh-url</code> Get SSH connection URL <code>scp-url</code> Get SCP URL for file transfer <code>copy</code> Copy files to/from instances <code>attach ssh</code> Attach SSH key to instance <code>detach ssh</code> Detach SSH key from instance"},{"location":"cli/client/#billing-account","title":"Billing &amp; Account","text":"Command Description <code>show invoices-v1</code> List invoices and charges <code>show user</code> Get account info <code>transfer credit</code> Transfer credits <code>add credit</code> Add credit to account"},{"location":"cli/client/#volumes","title":"Volumes","text":"Command Description <code>create volume</code> Create a new volume <code>delete volume</code> Delete a volume <code>show volumes</code> List your volumes <code>clone volume</code> Clone an existing volume"},{"location":"cli/client/#teams","title":"Teams","text":"Command Description <code>create team</code> Create a new team <code>destroy team</code> Delete a team <code>invite member</code> Invite team member <code>remove member</code> Remove team member <code>show members</code> List team members"},{"location":"cli/client/#autoscaling-worker-groups","title":"Autoscaling / Worker Groups","text":"Command Description <code>create workergroup</code> Create worker group <code>delete workergroup</code> Delete worker group <code>update workergroup</code> Update worker group <code>show workergroups</code> List worker groups"},{"location":"cli/client/#api-ssh-keys","title":"API &amp; SSH Keys","text":"Command Description <code>set api-key</code> Set your API key <code>show api-keys</code> List API keys <code>create api-key</code> Create restricted API key <code>create ssh-key</code> Add SSH key <code>show ssh-keys</code> List SSH keys"},{"location":"cli/client/#quick-reference","title":"Quick Reference","text":"<pre><code># Find a GPU and launch an instance\nvastai search offers --query \"num_gpus &gt;= 1 gpu_ram &gt;= 16\" --order dph_total\nvastai create instance 12345 --image pytorch/pytorch:latest --disk 20\n\n# Manage instances\nvastai show instances\nvastai logs 67890\nvastai stop instance 67890\nvastai destroy instance 67890\n\n# File transfer\nvastai copy /local/file.txt 67890:/remote/path/\nvastai copy 67890:/remote/results/ /local/path/\n</code></pre>"},{"location":"cli/client/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete command list with help text</li> <li>CLI Overview - Query syntax and global options</li> <li>Host Commands - Commands for GPU providers</li> </ul>"},{"location":"cli/client/autoscaling/","title":"Autoscaling Commands","text":"<p>Commands for managing autoscale/worker groups and serverless endpoints.</p>"},{"location":"cli/client/autoscaling/#create-workergroup","title":"create workergroup","text":"<p>Create an autoscaling worker group for serverless inference</p> <pre><code>vastai workergroup create [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>--template_hash TEMPLATE_HASH</code> template hash (required, but Note: if you use this field, you can skip search_params, as they are automatically inferred from the template) <code>--template_id TEMPLATE_ID</code> template id (optional) <code>-n, --no-default</code> Disable default search param query args <code>--launch_args LAUNCH_ARGS</code> launch args  string for create instance  ex: \"--onstart onstart_wget.sh  --env '-e ONSTART_PATH=https://s3.amazonaws.com/vast.ai/onstart_OOBA.sh' --image atinoda/text-generation-webui:default-nightly --disk 64\" <code>--endpoint_name ENDPOINT_NAME</code> deployment endpoint name (allows multiple workergroups to share same deployment endpoint) <code>--endpoint_id ENDPOINT_ID</code> deployment endpoint id (allows multiple workergroups to share same deployment endpoint) <code>--test_workers TEST_WORKERS</code> number of workers to create to get an performance estimate for while initializing workergroup (default 3) <code>--gpu_ram GPU_RAM</code> estimated GPU RAM req  (independent of search string) <code>--search_params SEARCH_PARAMS</code> search param string for search offers    ex: \"gpu_ram&gt;=23 num_gpus=2 gpu_name=RTX_4090 inet_down&gt;200 direct_port_count&gt;2 disk_space&gt;=64\" <code>--min_load MIN_LOAD</code> [NOTE: this field isn't currently used at the workergroup level] minimum floor load in perf units/s  (token/s for LLms) <code>--target_util TARGET_UTIL</code> [NOTE: this field isn't currently used at the workergroup level] target capacity utilization (fraction, max 1.0, default 0.9) <code>--cold_mult COLD_MULT</code> [NOTE: this field isn't currently used at the workergroup level]cold/stopped instance capacity target as multiple of hot capacity target (default 2.0) <code>--cold_workers COLD_WORKERS</code> min number of workers to keep 'cold' for this workergroup <p>Notes:</p> <p>Create a new autoscaling group to manage a pool of worker instances.</p>"},{"location":"cli/client/autoscaling/#delete-workergroup","title":"delete workergroup","text":"<p>Delete an autoscaling worker group</p> <pre><code>vastai delete workergroup ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of group to delete <p>Notes:</p> <p>Note that deleting a workergroup doesn't automatically destroy all the instances that are associated with your workergroup.</p>"},{"location":"cli/client/autoscaling/#update-workergroup","title":"update workergroup","text":"<p>Update an existing autoscale group</p> <pre><code>vastai update workergroup WORKERGROUP_ID --endpoint_id ENDPOINT_ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of autoscale group to update <p>Options:</p> Option Description <code>--min_load MIN_LOAD</code> minimum floor load in perf units/s  (token/s for LLms) <code>--target_util TARGET_UTIL</code> target capacity utilization (fraction, max 1.0, default 0.9) <code>--cold_mult COLD_MULT</code> cold/stopped instance capacity target as multiple of hot capacity target (default 2.5) <code>--cold_workers COLD_WORKERS</code> min number of workers to keep 'cold' for this workergroup <code>--test_workers TEST_WORKERS</code> number of workers to create to get an performance estimate for while initializing workergroup (default 3) <code>--gpu_ram GPU_RAM</code> estimated GPU RAM req  (independent of search string) <code>--template_hash TEMPLATE_HASH</code> template hash (Note: if you use this field, you can skip search_params, as they are automatically inferred from the template) <code>--template_id TEMPLATE_ID</code> template id <code>--search_params SEARCH_PARAMS</code> search param string for search offers    ex: \"gpu_ram&gt;=23 num_gpus=2 gpu_name=RTX_4090 inet_down&gt;200 direct_port_count&gt;2 disk_space&gt;=64\" <code>-n, --no-default</code> Disable default search param query args <code>--launch_args LAUNCH_ARGS</code> launch args  string for create instance  ex: \"--onstart onstart_wget.sh  --env '-e ONSTART_PATH=https://s3.amazonaws.com/public.vast.ai/onstart_OOBA.sh' --image atinoda/text-generation-webui:default-nightly --disk 64\" <code>--endpoint_name ENDPOINT_NAME</code> deployment endpoint name (allows multiple workergroups to share same deployment endpoint) <code>--endpoint_id ENDPOINT_ID</code> deployment endpoint id (allows multiple workergroups to share same deployment endpoint)"},{"location":"cli/client/autoscaling/#show-workergroups","title":"show workergroups","text":"<p>List all your autoscaling worker groups</p> <pre><code>vastai show workergroups [--api-key API_KEY]\n</code></pre>"},{"location":"cli/client/autoscaling/#get-wrkgrp-logs","title":"get wrkgrp-logs","text":"<p>Get logs for an autoscaling worker group</p> <pre><code>vastai get wrkgrp-logs ID [--api-key API_KEY]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of endpoint group to fetch logs from <p>Options:</p> Option Description <code>--level LEVEL</code> log detail level (0 to 3)"},{"location":"cli/client/autoscaling/#create-endpoint","title":"create endpoint","text":"<p>Create a serverless inference endpoint</p> <pre><code>vastai create endpoint [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>--min_load MIN_LOAD</code> minimum floor load in perf units/s  (token/s for LLms) <code>--min_cold_load MIN_COLD_LOAD</code> minimum floor load in perf units/s (token/s for LLms), but allow handling with cold workers <code>--target_util TARGET_UTIL</code> target capacity utilization (fraction, max 1.0, default 0.9) <code>--cold_mult COLD_MULT</code> cold/stopped instance capacity target as multiple of hot capacity target (default 2.5) <code>--cold_workers COLD_WORKERS</code> min number of workers to keep 'cold' when you have no load (default 5) <code>--max_workers MAX_WORKERS</code> max number of workers your endpoint group can have (default 20) <code>--endpoint_name ENDPOINT_NAME</code> deployment endpoint name (allows multiple autoscale groups to share same deployment endpoint) <p>Notes:</p> <p>Create a new endpoint group to manage many autoscaling groups</p>"},{"location":"cli/client/autoscaling/#delete-endpoint","title":"delete endpoint","text":"<p>Delete a serverless inference endpoint</p> <pre><code>vastai delete endpoint ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of endpoint group to delete"},{"location":"cli/client/autoscaling/#update-endpoint","title":"update endpoint","text":"<p>Update an existing endpoint group</p> <pre><code>vastai update endpoint ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of endpoint group to update <p>Options:</p> Option Description <code>--min_load MIN_LOAD</code> minimum floor load in perf units/s  (token/s for LLms) <code>--min_cold_load MIN_COLD_LOAD</code> minimum floor load in perf units/s  (token/s for LLms), but allow handling with cold workers <code>--endpoint_state ENDPOINT_STATE</code> active, suspended, or stopped <code>--target_util TARGET_UTIL</code> target capacity utilization (fraction, max 1.0, default 0.9) <code>--cold_mult COLD_MULT</code> cold/stopped instance capacity target as multiple of hot capacity target (default 2.5) <code>--cold_workers COLD_WORKERS</code> min number of workers to keep 'cold' when you have no load (default 5) <code>--max_workers MAX_WORKERS</code> max number of workers your endpoint group can have (default 20) <code>--endpoint_name ENDPOINT_NAME</code> deployment endpoint name (allows multiple workergroups to share same deployment endpoint)"},{"location":"cli/client/autoscaling/#show-endpoints","title":"show endpoints","text":"<p>List all your serverless endpoints</p> <pre><code>vastai show endpoints [--api-key API_KEY]\n</code></pre>"},{"location":"cli/client/autoscaling/#get-endpt-logs","title":"get endpt-logs","text":"<p>Get logs for a serverless endpoint</p> <pre><code>vastai get endpt-logs ID [--api-key API_KEY]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of endpoint group to fetch logs from <p>Options:</p> Option Description <code>--level LEVEL</code> log detail level (0 to 3)"},{"location":"cli/client/autoscaling/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/billing/","title":"Billing &amp; Account Commands","text":"<p>Commands for managing billing, invoices, and account information.</p>"},{"location":"cli/client/billing/#show-user","title":"show user","text":"<p>Show your account information and balance</p> <pre><code>vastai show user [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-q, --quiet</code> display information about user <p>Notes:</p> <p>Displays account information for the authenticated user.</p> <p>Examples:</p> <pre><code>    vastai show user                           # Show user info in table format\n    vastai show user --raw                     # Output as JSON for scripting\n</code></pre> <p>Tip</p> <p>Information displayed: - Account balance and credit - Email address - Username - SSH public key (if configured) - Account settings Note: API key is NOT displayed for security reasons. Use 'vastai set api-key' to update your stored API key.</p>"},{"location":"cli/client/billing/#show-invoices","title":"show invoices","text":"<p>[Deprecated] Get billing history - use show invoices-v1 instead</p> <pre><code>(DEPRECATED) vastai show invoices [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-q, --quiet</code> only display numeric ids <code>-s, --start_date START_DATE</code> start date and time for report. Many formats accepted (optional) <code>-e, --end_date END_DATE</code> end date and time for report. Many formats accepted (optional) <code>-c, --only_charges</code> Show only charge items <code>-p, --only_credits</code> Show only credit items <code>--instance_label INSTANCE_LABEL</code> Filter charges on a particular instance label (useful for autoscaler groups)"},{"location":"cli/client/billing/#show-invoices-v1","title":"show invoices-v1","text":"<p>Get billing history with invoices and charges</p> <pre><code>vastai show invoices-v1 [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-i, --invoices</code> Show invoices instead of charges <code>-c, --charges</code> Show charges instead of invoices <code>-s, --start-date START_DATE</code> Start date (YYYY-MM-DD or timestamp) <code>-e, --end-date END_DATE</code> End date (YYYY-MM-DD or timestamp) <code>-l, --limit LIMIT</code> Number of results per page (default: 20, max: 100) <code>-t, --next-token NEXT_TOKEN</code> Pagination token for next page <code>-f, --format {table,tree}</code> Output format for charges (default: table) <code>-v, --verbose</code> Include full Instance Charge details and Invoice Metadata (tree view only) <code>--latest-first</code> Sort by latest first <p>Notes:</p> <p>This command supports colored output and rich formatting if the 'rich' python module is installed!</p> <p>Examples:</p> <pre><code>    # Show the first 20 invoices in the last week  (note: default window is a 7 day period ending today)\n    vastai show invoices-v1 --invoices\n\n    # Show the first 50 charges over a 7 day period starting from 2025-11-30 in tree format\n    vastai show invoices-v1 --charges -s 2025-11-30 -f tree -l 50\n\n    # Show the first 20 invoices of specific types for the month of November 2025\n    vastai show invoices-v1 -i -it stripe bitpay transfers --start-date 2025-11-01 --end-date 2025-11-30\n\n    # Show the first 20 charges for only volumes and serverless instances between two dates, including all details and metadata\n    vastai show invoices-v1 -c --charge-type v s -s 2025-11-01 -e 2025-11-05 --format tree --verbose\n\n    # Get the next page of paginated invoices, limit to 50 per page  (note: type/date filters MUST match previous request for pagination to work)\n    vastai show invoices-v1 --invoices --limit 50 --next-token eyJ2YWx1ZXMiOiB7ImlkIjogMjUwNzgyMzR9LCAib3NfcGFnZSI6IDB9\n\n    # Show the last 10 instance (only) charges over a 7 day period ending in 2025-12-25, sorted by latest charges first\n    vastai show invoices-v1 --charges -ct instance --end-date 2025-12-25 -l 10 --latest-first\n</code></pre>"},{"location":"cli/client/billing/#transfer-credit","title":"transfer credit","text":"<p>Transfer credits to another account</p> <pre><code>vastai transfer credit [--recipient EMAIL] [--amount DOLLARS] [RECIPIENT AMOUNT]\n</code></pre> <p>Options:</p> Option Description <code>--skip</code> skip confirmation <p>Warning</p> <p>Transfer credits to another account. This action is irreversible. Supports two syntax styles (named flags recommended):</p> <p>Examples:</p> <pre><code>  vastai transfer credit --recipient user@example.com --amount 10.00\n  vastai transfer credit user@example.com 10.00  (legacy positional)\n\n  vastai transfer credit --recipient user@example.com --amount 25.50\n  vastai transfer credit -r user@example.com -a 25.50\n  vastai transfer credit user@example.com 25.50\n</code></pre>"},{"location":"cli/client/billing/#show-deposit","title":"show deposit","text":"<p>Show prepaid deposit balance for a reserved instance</p> <pre><code>vastai show deposit ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to get info for"},{"location":"cli/client/billing/#show-audit-logs","title":"show audit-logs","text":"<p>Show account activity and audit logs</p> <pre><code>vastai show audit-logs [--api-key API_KEY] [--raw]\n</code></pre>"},{"location":"cli/client/billing/#show-ipaddrs","title":"show ipaddrs","text":"<p>Show history of IP addresses used by your instances</p> <pre><code>vastai show ipaddrs [--api-key API_KEY] [--raw]\n</code></pre>"},{"location":"cli/client/billing/#create-subaccount","title":"create subaccount","text":"<p>Create a subaccount for delegated access</p> <pre><code>vastai create subaccount --email EMAIL --username USERNAME --password PASSWORD --type TYPE\n</code></pre> <p>Options:</p> Option Description <code>--email EMAIL</code> email address to use for login <code>--username USERNAME</code> username to use for login <code>--password PASSWORD</code> password to use for login <code>--type TYPE</code> host/client <p>Notes:</p> <p>Creates a new account that is considered a child of your current account as defined via the API key.</p> <p>Examples:</p> <pre><code>vastai create subaccount --email bob@gmail.com --username bob --password password --type host\n\nvastai create subaccount --email vast@gmail.com --username vastai --password password --type host\n</code></pre>"},{"location":"cli/client/billing/#show-subaccounts","title":"show subaccounts","text":"<p>List all subaccounts under your account</p> <pre><code>vastai show subaccounts [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-q, --quiet</code> display subaccounts from current user"},{"location":"cli/client/billing/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/instances/","title":"Instance Commands","text":"<p>Commands for creating and managing GPU instances.</p>"},{"location":"cli/client/instances/#create-instance","title":"create instance","text":"<p>Create a new GPU instance from an offer</p> <pre><code>vastai create instance ID [OPTIONS] [--args ...]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance type to launch (returned from search offers) <p>Options:</p> Option Description <code>--template_hash TEMPLATE_HASH</code> Create instance from template info <code>--user USER</code> User to use with docker create. This breaks some images, so only use this if you are certain you need it. <code>--disk DISK</code> size of local disk partition in GB <code>--image IMAGE</code> docker container image to launch <code>--login LOGIN</code> docker login arguments for private repo authentication, surround with '' <code>--label LABEL</code> label to set on the instance <code>--onstart ONSTART</code> filename to use as onstart script <code>--onstart-cmd ONSTART_CMD</code> contents of onstart script as single argument <code>--entrypoint ENTRYPOINT</code> override entrypoint for args launch instance <code>--ssh</code> Launch as an ssh instance type <code>--jupyter</code> Launch as a jupyter instance instead of an ssh instance <code>--direct</code> Use (faster) direct connections for jupyter &amp; ssh <code>--jupyter-dir JUPYTER_DIR</code> For runtype 'jupyter', directory in instance to use to launch jupyter. Defaults to image's working directory <code>--jupyter-lab</code> For runtype 'jupyter', Launch instance with jupyter lab <code>--lang-utf8</code> Workaround for images with locale problems: install and generate locales before instance launch, and set locale to C.UTF-8 <code>--python-utf8</code> Workaround for images with locale problems: set python's locale to C.UTF-8 <code>--env ENV</code> env variables and port mapping options, surround with '' <code>--args ...</code> list of arguments passed to container ENTRYPOINT. Onstart is recommended for this purpose. (must be last argument) <code>--force</code> Skip sanity checks when creating from an existing instance <code>--cancel-unavail</code> Return error if scheduling fails (rather than creating a stopped instance) <code>--bid_price BID_PRICE</code> (OPTIONAL) create an INTERRUPTIBLE instance with per machine bid price in $/hour <code>--create-volume VOLUME_ASK_ID</code> Create a new local volume using an ID returned from the \"search volumes\" command and link it to the new instance <code>--link-volume EXISTING_VOLUME_ID</code> ID of an existing rented volume to link to the instance during creation. (returned from \"show volumes\" cmd) <code>--volume-size VOLUME_SIZE</code> Size of the volume to create in GB. Only usable with --create-volume (default 15GB) <code>--mount-path MOUNT_PATH</code> The path to the volume from within the new instance container. e.g. /root/volume <code>--volume-label VOLUME_LABEL</code> (optional) A name to give the new volume. Only usable with --create-volume <p>Notes:</p> <p>Performs the same action as pressing the \"RENT\" button on the website at https://console.vast.ai/create/ Creates an instance from an offer ID (which is returned from \"search offers\"). Each offer ID can only be used to create one instance. Besides the offer ID, you must pass in an '--image' argument as a minimum. If you use args/entrypoint launch mode, we create a container from your image as is, without attempting to inject ssh and or jupyter. If you use the args launch mode, you can override the entrypoint with --entrypoint, and pass arguments to the entrypoint with --args. If you use --args, that must be the last argument, as any following tokens are consumed into the args string. For ssh/jupyter launch types, use --onstart-cmd to pass in startup script, instead of --entrypoint and --args.</p> <p>Examples:</p> <pre><code># create an on-demand instance with the PyTorch (cuDNN Devel) template and 64GB of disk\nvastai create instance 384826 --template_hash 661d064bbda1f2a133816b6d55da07c3 --disk 64\n\n# create an on-demand instance with the pytorch/pytorch image, 40GB of disk, open 8081 udp, direct ssh, set hostname to billybob, and a small onstart script\nvastai create instance 6995713 --image pytorch/pytorch --disk 40 --env '-p 8081:8081/udp -h billybob' --ssh --direct --onstart-cmd \"env | grep _ &gt;&gt; /etc/environment; echo 'starting up'\";\n\n# create an on-demand instance with the bobsrepo/pytorch:latest image, 20GB of disk, open 22, 8080, jupyter ssh, and set some env variables\nvastai create instance 384827  --image bobsrepo/pytorch:latest --login '-u bob -p 9d8df!fd89ufZ docker.io' --jupyter --direct --env '-e TZ=PDT -e XNAME=XX4 -p 22:22 -p 8080:8080' --disk 20\n\n# create an on-demand instance with the pytorch/pytorch image, 40GB of disk, override the entrypoint to bash and pass bash a simple command to keep the instance running. (args launch without ssh/jupyter)\nvastai create instance 5801802 --image pytorch/pytorch --disk 40 --onstart-cmd 'bash' --args -c 'echo hello; sleep infinity;'\n\n# create an interruptible (spot) instance with the PyTorch (cuDNN Devel) template, 64GB of disk, and a bid price of $0.10/hr\nvastai create instance 384826 --template_hash 661d064bbda1f2a133816b6d55da07c3 --disk 64 --bid_price 0.1\n</code></pre> <p>Return Value:</p> <pre><code>Returns a json reporting the instance ID of the newly created instance:\n{'success': True, 'new_contract': 7835610}\n</code></pre>"},{"location":"cli/client/instances/#launch-instance","title":"launch instance","text":"<p>Launch a new instance using search parameters to auto-select the best offer</p> <pre><code>vastai launch instance [--help] [--api-key API_KEY] &lt;gpu_name&gt; &lt;num_gpus&gt; &lt;image&gt; [geolocation] [disk_space]\n</code></pre> <p>Options:</p> Option Description <code>-n, --num-gpus {1,2,4,8,12,14}</code> Number of GPUs required <code>-r, --region REGION</code> Geographical location of the instance <code>-i, --image IMAGE</code> Name of the image to use for instance <code>-d, --disk DISK</code> Disk space required in GB <code>-o, --order ORDER</code> Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'num_gpus,total_flops-'.  default='score-' <code>--login LOGIN</code> docker login arguments for private repo authentication, surround with '' <code>--label LABEL</code> label to set on the instance <code>--onstart ONSTART</code> filename to use as onstart script <code>--onstart-cmd ONSTART_CMD</code> contents of onstart script as single argument <code>--entrypoint ENTRYPOINT</code> override entrypoint for args launch instance <code>--ssh</code> Launch as an ssh instance type <code>--jupyter</code> Launch as a jupyter instance instead of an ssh instance <code>--direct</code> Use (faster) direct connections for jupyter &amp; ssh <code>--jupyter-dir JUPYTER_DIR</code> For runtype 'jupyter', directory in instance to use to launch jupyter. Defaults to image's working directory <code>--jupyter-lab</code> For runtype 'jupyter', Launch instance with jupyter lab <code>--lang-utf8</code> Workaround for images with locale problems: install and generate locales before instance launch, and set locale to C.UTF-8 <code>--python-utf8</code> Workaround for images with locale problems: set python's locale to C.UTF-8 <code>--env ENV</code> env variables and port mapping options, surround with '' <code>--args ...</code> list of arguments passed to container ENTRYPOINT. Onstart is recommended for this purpose. (must be last argument) <code>--force</code> Skip sanity checks when creating from an existing instance <code>--cancel-unavail</code> Return error if scheduling fails (rather than creating a stopped instance) <code>--template_hash TEMPLATE_HASH</code> template hash which contains all relevant information about an instance. This can be used as a replacement for other parameters describing the instance configuration <p>Notes:</p> <p>Launches an instance based on the given parameters. The instance will be created with the top offer from the search results. Besides the gpu_name and num_gpus, you must pass in an '--image' argument as a minimum. If you use args/entrypoint launch mode, we create a container from your image as is, without attempting to inject ssh and or jupyter. If you use the args launch mode, you can override the entrypoint with --entrypoint, and pass arguments to the entrypoint with --args. If you use --args, that must be the last argument, as any following tokens are consumed into the args string. For ssh/jupyter launch types, use --onstart-cmd to pass in startup script, instead of --entrypoint and --args.</p> <p>Examples:</p> <pre><code>    # launch a single RTX 3090 instance with the pytorch image and 16 GB of disk space located anywhere\n    # launch a 4x RTX 3090 instance with the pytorch image and 32 GB of disk space located in North America\n</code></pre> <p>Tip</p> <p>python vast.py launch instance -g RTX_3090 -n 1 -i pytorch/pytorch python vast.py launch instance -g RTX_3090 -n 4 -i pytorch/pytorch -d 32.0 -r North_America Available fields: Name                    Type      Description num_gpus:               int       # of GPUs gpu_name:               string    GPU model name region:                 string    Region of the instance image:                  string    Docker image name disk_space:             float     Disk space in GB ssh, jupyter, direct:   bool      Flags to specify the instance type and connection method. env:                    str       Environment variables and port mappings, encapsulated in single quotes. args:                   list      Arguments passed to the container's ENTRYPOINT, used only if '--args' is specified.</p>"},{"location":"cli/client/instances/#destroy-instance","title":"destroy instance","text":"<p>Destroy an instance (irreversible, deletes data)</p> <pre><code>vastai destroy instance id [-h] [--api-key API_KEY] [--raw]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to delete <p>Warning</p> <p>Performs the same action as pressing the \"DESTROY\" button on the website at https://console.vast.ai/instances/ WARNING: This action is IMMEDIATE and IRREVERSIBLE. All data on the instance will be permanently deleted unless you have saved it to a persistent volume or external storage.</p> <p>Examples:</p> <pre><code>    vastai destroy instance 12345              # Destroy instance with ID 12345\n</code></pre> <p>Tip</p> <p>Before destroying: - Save any important data using 'vastai copy' or by mounting a persistent volume - Check instance ID carefully with 'vastai show instances' - Consider using 'vastai stop instance' if you want to pause without data loss</p>"},{"location":"cli/client/instances/#destroy-instances","title":"destroy instances","text":"<p>Destroy a list of instances (irreversible, deletes data)</p> <pre><code>vastai destroy instances IDS [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>ids</code> ids of instances to destroy"},{"location":"cli/client/instances/#start-instance","title":"start instance","text":"<p>Start a stopped instance</p> <pre><code>vastai start instance ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> ID of instance to start/restart <p>Notes:</p> <p>This command attempts to bring an instance from the \"stopped\" state into the \"running\" state. This is subject to resource availability on the machine that the instance is located on. If your instance is stuck in the \"scheduling\" state for more than 30 seconds after running this, it likely means that the required resources on the machine to run your instance are currently unavailable.</p> <p>Examples:</p> <pre><code>    vastai start instances $(vastai show instances -q)\n    vastai start instance 329838\n</code></pre>"},{"location":"cli/client/instances/#start-instances","title":"start instances","text":"<p>Start multiple stopped instances</p> <pre><code>vastai start instances IDS [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>ids</code> ids of instances to start"},{"location":"cli/client/instances/#stop-instance","title":"stop instance","text":"<p>Stop a running instance</p> <pre><code>vastai stop instance ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to stop <p>Notes:</p> <p>This command brings an instance from the \"running\" state into the \"stopped\" state. When an instance is \"stopped\" all of your data on the instance is preserved, and you can resume use of your instance by starting it again. Once stopped, starting an instance is subject to resource availability on the machine that the instance is located on. There are ways to move data off of a stopped instance, which are described here: https://vast.ai/docs/gpu-instances/data-movement</p>"},{"location":"cli/client/instances/#stop-instances","title":"stop instances","text":"<p>Stop multiple running instances</p> <pre><code>vastai stop instances IDS [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>ids</code> ids of instances to stop <p>Examples:</p> <pre><code>    vastai stop instances $(vastai show instances -q)\n    vastai stop instances 329838 984849\n</code></pre>"},{"location":"cli/client/instances/#reboot-instance","title":"reboot instance","text":"<p>Reboot (stop/start) an instance</p> <pre><code>vastai reboot instance ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to reboot <p>Options:</p> Option Description <code>--schedule {HOURLY,DAILY,WEEKLY}</code> try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY <code>--start_date START_DATE</code> Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional) <code>--end_date END_DATE</code> End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is 7 days from now. (optional) <code>--day DAY</code> Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0 <code>--hour HOUR</code> Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16 <p>Notes:</p> <p>Stops and starts container without any risk of losing GPU priority.</p>"},{"location":"cli/client/instances/#recycle-instance","title":"recycle instance","text":"<p>Destroy and recreate an instance with the same configuration</p> <pre><code>vastai recycle instance ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to recycle <p>Notes:</p> <p>Destroys and recreates container in place (from newly pulled image) without any risk of losing GPU priority.</p>"},{"location":"cli/client/instances/#label-instance","title":"label instance","text":"<p>Assign a string label to an instance</p> <pre><code>vastai label instance &lt;id&gt; &lt;label&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to label <code>label</code> label to set"},{"location":"cli/client/instances/#update-instance","title":"update instance","text":"<p>Update an instance configuration or recreate from a template</p> <pre><code>vastai update instance ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to update <p>Options:</p> Option Description <code>--template_id TEMPLATE_ID</code> new template ID to associate with the instance <code>--template_hash_id TEMPLATE_HASH_ID</code> new template hash ID to associate with the instance <code>--image IMAGE</code> new image UUID for the instance <code>--args ARGS</code> new arguments for the instance <code>--env ENV</code> new environment variables for the instance <code>--onstart ONSTART</code> new onstart script for the instance"},{"location":"cli/client/instances/#prepay-instance","title":"prepay instance","text":"<p>Prepay credits for a reserved instance to prevent interruption</p> <pre><code>vastai prepay instance ID AMOUNT\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to prepay for <code>amount</code> amount of instance credit prepayment (default discount func of 0.2 for 1 month, 0.3 for 3 months)"},{"location":"cli/client/instances/#change-bid","title":"change bid","text":"<p>Change the bid price for a spot/interruptible instance</p> <pre><code>vastai change bid id [--price PRICE]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance type to change bid <p>Options:</p> Option Description <code>--price PRICE</code> per machine bid price in $/hour <code>--schedule {HOURLY,DAILY,WEEKLY}</code> try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY <code>--start_date START_DATE</code> Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional) <code>--end_date END_DATE</code> End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is 7 days from now. (optional) <code>--day DAY</code> Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0 <code>--hour HOUR</code> Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16 <p>Notes:</p> <p>Change the current bid price of instance id to PRICE. If PRICE is not specified, then a winning bid price is used as the default.</p>"},{"location":"cli/client/instances/#show-instance","title":"show instance","text":"<p>Show details for a specific instance</p> <pre><code>vastai show instance ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to show"},{"location":"cli/client/instances/#show-instances","title":"show instances","text":"<p>List all your running and stopped instances</p> <pre><code>vastai show instances [OPTIONS] [--api-key API_KEY] [--raw]\n</code></pre> <p>Options:</p> Option Description <code>-q, --quiet</code> only display numeric ids <p>Notes:</p> <p>Lists all instances owned by the authenticated user, including running, pending, and stopped instances.</p> <p>Examples:</p> <pre><code>    vastai show instances                      # List all instances in table format\n    vastai show instances --raw                # Output as JSON for scripting\n    vastai show instances --raw | jq '.[0]'   # Get first instance details\n    vastai show instances -q                   # List only instance IDs\n</code></pre> <p>Tip</p> <p>Output includes: instance ID, machine ID, status, GPU info, rental cost, duration, and connection details.</p>"},{"location":"cli/client/instances/#logs","title":"logs","text":"<p>Get the logs for an instance</p> <pre><code>vastai logs INSTANCE_ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>INSTANCE_ID</code> id of instance <p>Options:</p> Option Description <code>--tail TAIL</code> Number of lines to show from the end of the logs (default '1000') <code>--filter FILTER</code> Grep filter for log entries <code>--daemon-logs</code> Fetch daemon system logs instead of container logs"},{"location":"cli/client/instances/#execute","title":"execute","text":"<p>Execute a command on a running instance</p> <pre><code>vastai execute id COMMAND\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance to execute on <code>COMMAND</code> bash command surrounded by single quotes <p>Options:</p> Option Description <code>--schedule {HOURLY,DAILY,WEEKLY}</code> try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY <code>--start_date START_DATE</code> Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional) <code>--end_date END_DATE</code> End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is 7 days from now. (optional) <code>--day DAY</code> Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0 <code>--hour HOUR</code> Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16 <p>Examples:</p> <pre><code>  vastai execute 99999 'ls -l -o -r'\n  vastai execute 99999 'rm -r home/delete_this.txt'\n  vastai execute 99999 'du -d2 -h'\n</code></pre> <p>Tip</p> <p>available commands: ls                 List directory contents rm                 Remote files or directories du                 Summarize device usage for a set of files</p> <p>Return Value:</p> <pre><code>Returns the output of the command which was executed on the instance, if successful. May take a few seconds to retrieve the results.\n</code></pre>"},{"location":"cli/client/instances/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/keys/","title":"API &amp; SSH Key Commands","text":"<p>Commands for managing API keys, SSH keys, and environment variables.</p>"},{"location":"cli/client/keys/#set-api-key","title":"set api-key","text":"<p>Set the API key for CLI and SDK authentication</p> <pre><code>vastai set api-key API_KEY\n</code></pre> <p>Arguments:</p> Argument Description <code>api_key</code> API key to set as currently logged in user <p>Notes:</p> <p>Stores your Vast.ai API key locally for authentication with all CLI commands. Get your API key from the Vast.ai console: https://console.vast.ai/account/</p> <p>Examples:</p> <pre><code>    vastai set api-key abc123def456...         # Set your API key\n</code></pre> <p>Tip</p> <p>Security notes: - API key is stored in ~/.config/vastai/vast_api_key - Permissions are set to user-read-only (600) - Do NOT share your API key or commit it to version control - Regenerate your key at https://console.vast.ai/account/ if compromised - You can also use the VAST_API_KEY environment variable instead The legacy location ~/.vast_api_key is automatically removed when you set a new key.</p>"},{"location":"cli/client/keys/#show-api-key","title":"show api-key","text":"<p>Show details for a specific API key</p> <pre><code>vastai show api-key ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of API key to show"},{"location":"cli/client/keys/#show-api-keys","title":"show api-keys","text":"<p>List all API keys for your account</p> <pre><code>vastai show api-keys\n</code></pre>"},{"location":"cli/client/keys/#create-api-key","title":"create api-key","text":"<p>Create a new API key with custom permissions</p> <pre><code>vastai create api-key --name NAME --permission_file PERMISSIONS\n</code></pre> <p>Options:</p> Option Description <code>--name NAME</code> name of the api-key <code>--permission_file PERMISSION_FILE</code> file path for json encoded permissions, see https://vast.ai/docs/cli/roles-and-permissions for more information <code>--key_params KEY_PARAMS</code> optional wildcard key params for advanced keys <p>Notes:</p> <p>In order to create api keys you must understand how permissions must be sent via json format. You can find more information about permissions here: https://vast.ai/docs/cli/roles-and-permissions</p>"},{"location":"cli/client/keys/#delete-api-key","title":"delete api-key","text":"<p>Delete an API key</p> <pre><code>vastai delete api-key ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of apikey to remove"},{"location":"cli/client/keys/#reset-api-key","title":"reset api-key","text":"<p>Invalidate current API key and generate a new one</p> <pre><code>vastai reset api-key\n</code></pre>"},{"location":"cli/client/keys/#show-ssh-keys","title":"show ssh-keys","text":"<p>List all SSH keys registered to your account</p> <pre><code>vastai show ssh-keys\n</code></pre>"},{"location":"cli/client/keys/#create-ssh-key","title":"create ssh-key","text":"<p>Add an SSH public key to your account</p> <pre><code>vastai create ssh-key [ssh_public_key] [-y]\n</code></pre> <p>Arguments:</p> Argument Description <code>ssh_key</code> add your existing ssh public key to your account (from the .pub file). If no public key is provided, a new key pair will be generated. <p>Options:</p> Option Description <code>-y, --yes</code> automatically answer yes to prompts <p>Notes:</p> <p>You may use this command to add an existing public key, or create a new ssh key pair and add that public key, to your Vast account. If you provide an ssh_public_key.pub argument, that public key will be added to your Vast account. All ssh public keys should be in OpenSSH format.</p> <p>Tip</p> <p>If you don't provide an ssh_public_key.pub argument, a new Ed25519 key pair will be generated. The generated keys are saved as ~/.ssh/id_ed25519 (private) and ~/.ssh/id_ed25519.pub (public). Any existing id_ed25519 keys are backed up as .backup_. The public key will be added to your Vast account. All ssh public keys are stored in your Vast account and can be used to connect to instances they've been added to."},{"location":"cli/client/keys/#delete-ssh-key","title":"delete ssh-key","text":"<p>Remove an SSH key from your account</p> <pre><code>vastai delete ssh-key ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id ssh key to delete"},{"location":"cli/client/keys/#update-ssh-key","title":"update ssh-key","text":"<p>Update an SSH key's label or properties</p> <pre><code>vastai update ssh-key ID SSH_KEY\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of the ssh key to update <code>ssh_key</code> new public key value"},{"location":"cli/client/keys/#show-env-vars","title":"show env-vars","text":"<p>List environment variables set for your account</p> <pre><code>vastai show env-vars [-s]\n</code></pre> <p>Options:</p> Option Description <code>-s, --show-values</code> Show the values of environment variables"},{"location":"cli/client/keys/#create-env-var","title":"create env-var","text":"<p>Create a new account-level environment variable</p> <pre><code>vastai create env-var &lt;name&gt; &lt;value&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>name</code> Environment variable name <code>value</code> Environment variable value"},{"location":"cli/client/keys/#update-env-var","title":"update env-var","text":"<p>Update an existing user environment variable</p> <pre><code>vastai update env-var &lt;name&gt; &lt;value&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>name</code> Environment variable name to update <code>value</code> New environment variable value"},{"location":"cli/client/keys/#delete-env-var","title":"delete env-var","text":"<p>Delete a user environment variable</p> <pre><code>vastai delete env-var &lt;name&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>name</code> Environment variable name to delete"},{"location":"cli/client/keys/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/search/","title":"Search Commands","text":"<p>Commands for searching offers, templates, and other resources.</p>"},{"location":"cli/client/search/#query-syntax-for-string-values","title":"Query Syntax for String Values","text":"<p>When searching for values that contain spaces (like GPU names), you have two options:</p> <ol> <li> <p>Underscores (recommended) - most portable across shells:    <pre><code>vastai search offers \"gpu_name=RTX_4090\"\n</code></pre></p> </li> <li> <p>Escaped double quotes - wrap query in single quotes, escape inner double quotes:    <pre><code>vastai search offers 'gpu_name=\\\"RTX 4090\\\"'\n</code></pre></p> </li> </ol> <p>Warning</p> <p>Single quotes around values do NOT work: <code>gpu_name='RTX 4090'</code> will fail.</p>"},{"location":"cli/client/search/#search-offers","title":"search offers","text":"<p>Search available GPU offers with filters</p> <pre><code>vastai search offers [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>query</code> Query to search for. default: 'external=false rentable=true verified=true', pass -n to ignore default <p>Options:</p> Option Description <code>-t, --type TYPE</code> Show 'on-demand', 'reserved', or 'bid'(interruptible) pricing. default: on-demand <code>-i, --interruptible</code> Alias for --type=bid <code>-b, --bid</code> Alias for --type=bid <code>-r, --reserved</code> Alias for --type=reserved <code>-d, --on-demand</code> Alias for --type=on-demand <code>-n, --no-default</code> Disable default query <code>--new</code> New search exp <code>--disable-bundling</code> Deprecated <code>--storage STORAGE</code> Amount of storage to use for pricing, in GiB. default=5.0GiB <code>-o, --order ORDER</code> Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'num_gpus,total_flops-'.  default='score-' <p>Notes:</p> <p>Query syntax: query = comparison comparison... comparison = field op value field =  op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin value =  | 'any' | [value0, value1, ...] bool: True, False note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_' <p>Examples:</p> <pre><code>    # search for somewhat reliable single RTX 3090 instances, filter out any duplicates or offers that conflict with our existing stopped instances\n    vastai search offers 'reliability &gt; 0.98 num_gpus=1 gpu_name=RTX_3090 rented=False'\n\n    # search for datacenter gpus with minimal compute_cap and total_flops\n    vastai search offers 'compute_cap &gt; 610 total_flops &gt; 5 datacenter=True'\n\n    # search for reliable 4 gpu offers in Taiwan or Sweden\n    vastai search offers 'reliability&gt;0.99 num_gpus=4 geolocation in [TW,SE]'\n\n    # search for reliable RTX 3090 or 4090 gpus NOT in China or Vietnam\n    vastai search offers 'reliability&gt;0.99 gpu_name in [\"RTX 4090\", \"RTX 3090\"] geolocation notin [CN,VN]'\n\n    # search for machines with nvidia drivers 535.86.05 or greater (and various other options)\n    vastai search offers 'disk_space&gt;146 duration&gt;24 gpu_ram&gt;10 cuda_vers&gt;=12.1 direct_port_count&gt;=2 driver_version &gt;= 535.86.05'\n\n    # search for reliable machines with at least 4 gpus, unverified, order by num_gpus, allow conflicts\n    vastai search offers 'reliability &gt; 0.99  num_gpus&gt;=4 verified=False rented=any' -o 'num_gpus-'\n\n    # search for arm64 cpu architecture\n    vastai search offers 'cpu_arch=arm64'\n</code></pre> <p>Tip</p> <p>Available fields: Name                  Type       Description bw_nvlink               float     bandwidth NVLink compute_cap:            int       cuda compute capability*100  (ie:  650 for 6.5, 700 for 7.0) cpu_arch                string    host machine cpu architecture (e.g. amd64, arm64) cpu_cores:              int       # virtual cpus cpu_ghz:                Float     # cpu clock speed GHZ cpu_cores_effective:    float     # virtual cpus you get cpu_ram:                float     system RAM in gigabytes cuda_vers:              float     machine max supported cuda version (based on driver version) datacenter:             bool      show only datacenter offers direct_port_count       int       open ports on host's router disk_bw:                float     disk read bandwidth, in MB/s disk_space:             float     disk storage space, in GB dlperf:                 float     DL-perf score  (see FAQ for explanation) dlperf_usd:             float     DL-perf/$ dph:                    float     $/hour rental cost driver_version:         string    machine's nvidia/amd driver version as 3 digit string ex. \"535.86.05,\" duration:               float     max rental duration in days external:               bool      show external offers in addition to datacenter offers flops_usd:              float     TFLOPs/$ geolocation:            string    Two letter country code. Works with operators =, !=, in, notin (e.g. geolocation not in ['XV','XZ']) gpu_arch                string    host machine gpu architecture (e.g. nvidia, amd) gpu_max_power           float     GPU power limit (watts) gpu_max_temp            float     GPU temp limit (C) gpu_mem_bw:             float     GPU memory bandwidth in GB/s gpu_name:               string    GPU model name (no quotes, replace spaces with underscores, ie: RTX_3090 rather than 'RTX 3090') gpu_ram:                float     per GPU RAM in GB gpu_total_ram:          float     total GPU RAM in GB gpu_frac:               float     Ratio of GPUs in the offer to gpus in the system gpu_display_active:     bool      True if the GPU has a display attached has_avx:                bool      CPU supports AVX instruction set. id:                     int       instance unique ID inet_down:              float     internet download speed in Mb/s inet_down_cost:         float     internet download bandwidth cost in $/GB inet_up:                float     internet upload speed in Mb/s inet_up_cost:           float     internet upload bandwidth cost in $/GB machine_id              int       machine id of instance min_bid:                float     current minimum bid price in $/hr for interruptible num_gpus:               int       # of GPUs pci_gen:                float     PCIE generation pcie_bw:                float     PCIE bandwidth (CPU to GPU) reliability:            float     machine reliability score (see FAQ for explanation) rentable:               bool      is the instance currently rentable rented:                 bool      allow/disallow duplicates and potential conflicts with existing stopped instances storage_cost:           float     storage cost in $/GB/month static_ip:              bool      is the IP addr static/stable total_flops:            float     total TFLOPs from all GPUs ubuntu_version          string    host machine ubuntu OS version verified:               bool      is the machine verified vms_enabled:            bool      is the machine a VM instance</p>"},{"location":"cli/client/search/#search-templates","title":"search templates","text":"<p>Search available templates with filters</p> <pre><code>vastai search templates [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>query</code> Search query in simple query syntax (see below) <p>Notes:</p> <p>Query syntax: query = comparison comparison... comparison = field op value field =  op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin value =  | 'any' | [value0, value1, ...] bool: True, False note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_' <p>Examples:</p> <pre><code>        # search for somewhat reliable single RTX 3090 instances, filter out any duplicates or offers that conflict with our existing stopped instances\n        vastai search templates 'count_created &gt; 100  creator_id in [38382,48982]'\n</code></pre> <p>Tip</p> <p>Available fields: Name                  Type       Description creator_id              int        ID of creator created_at              float      time of initial template creation (UTC epoch timestamp) count_created           int        #instances created (popularity) default_tag             string     image default tag docker_login_repo       string     image docker repository id                      int        template unique ID image                   string     image used for template jup_direct              bool       supports jupyter direct hash_id                 string     unique hash ID of template name                    string     displayable name recent_create_date      float      last time of instance creation (UTC epoch timestamp) recommended_disk_space  float      min disk space required recommended             bool       is templated on our recommended list ssh_direct              bool       supports ssh direct tag                     string     image tag use_ssh                 bool       supports ssh (direct or proxy)</p>"},{"location":"cli/client/search/#search-volumes","title":"search volumes","text":"<p>Search available volume offers with filters</p> <pre><code>vastai search volumes [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>query</code> Query to search for. default: 'external=false verified=true disk_space&gt;=1', pass -n to ignore default <p>Options:</p> Option Description <code>-n, --no-default</code> Disable default query <code>--storage STORAGE</code> Amount of storage to use for pricing, in GiB. default=1.0GiB <code>-o, --order ORDER</code> Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'disk_space,inet_up-'.  default='score-' <p>Notes:</p> <p>Query syntax: query = comparison comparison... comparison = field op value field =  op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin value =  | 'any' | [value0, value1, ...] bool: True, False note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_' <p>Examples:</p> <pre><code>    # search for volumes with greater than 50GB of available storage and greater than 500 Mb/s upload and download speed\n    vastai search volumes \"disk_space&gt;50 inet_up&gt;500 inet_down&gt;500\"\n</code></pre> <p>Tip</p> <p>Available fields: Name                  Type       Description cpu_arch:               string    host machine cpu architecture (e.g. amd64, arm64) cuda_vers:              float     machine max supported cuda version (based on driver version) datacenter:             bool      show only datacenter offers disk_bw:                float     disk read bandwidth, in MB/s disk_space:             float     disk storage space, in GB driver_version:         string    machine's nvidia/amd driver version as 3 digit string ex. \"535.86.05\" duration:               float     max rental duration in days geolocation:            string    Two letter country code. Works with operators =, !=, in, notin (e.g. geolocation not in ['XV','XZ']) gpu_arch:               string    host machine gpu architecture (e.g. nvidia, amd) gpu_name:               string    GPU model name (no quotes, replace spaces with underscores, ie: RTX_3090 rather than 'RTX 3090') has_avx:                bool      CPU supports AVX instruction set. id:                     int       volume offer unique ID inet_down:              float     internet download speed in Mb/s inet_up:                float     internet upload speed in Mb/s machine_id:             int       machine id of volume offer pci_gen:                float     PCIE generation pcie_bw:                float     PCIE bandwidth (CPU to GPU) reliability:            float     machine reliability score (see FAQ for explanation) storage_cost:           float     storage cost in $/GB/month static_ip:              bool      is the IP addr static/stable total_flops:            float     total TFLOPs from all GPUs ubuntu_version:         string    host machine ubuntu OS version verified:               bool      is the machine verified</p>"},{"location":"cli/client/search/#search-network-volumes","title":"search network-volumes","text":"<p>[Host][Beta] Search available network volume offers with filters</p> <pre><code>vastai search network volumes [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>query</code> Query to search for. default: 'external=false verified=true disk_space&gt;=1', pass -n to ignore default <p>Options:</p> Option Description <code>-n, --no-default</code> Disable default query <code>--storage STORAGE</code> Amount of storage to use for pricing, in GiB. default=1.0GiB <code>-o, --order ORDER</code> Comma-separated list of fields to sort on. postfix field with - to sort desc. ex: -o 'disk_space,inet_up-'.  default='score-' <p>Notes:</p> <p>Query syntax: query = comparison comparison... comparison = field op value field =  op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin value =  | 'any' | [value0, value1, ...] bool: True, False note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_' <p>Examples:</p> <pre><code>    # search for volumes with greater than 50GB of available storage and greater than 500 Mb/s upload and download speed\n    vastai search volumes \"disk_space&gt;50 inet_up&gt;500 inet_down&gt;500\"\n</code></pre> <p>Tip</p> <p>Available fields: Name                  Type       Description duration:               float     max rental duration in days geolocation:            string    Two letter country code. Works with operators =, !=, in, notin (e.g. geolocation not in ['XV','XZ']) id:                     int       volume offer unique ID inet_down:              float     internet download speed in Mb/s inet_up:                float     internet upload speed in Mb/s reliability:            float     machine reliability score (see FAQ for explanation) storage_cost:           float     storage cost in $/GB/month verified:               bool      is the machine verified</p>"},{"location":"cli/client/search/#search-benchmarks","title":"search benchmarks","text":"<p>Search machine benchmark results with filters</p> <pre><code>vastai search benchmarks [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>query</code> Search query in simple query syntax (see below) <p>Notes:</p> <p>Query syntax: query = comparison comparison... comparison = field op value field =  op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin value =  | 'any' | [value0, value1, ...] bool: True, False note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_' <p>Examples:</p> <pre><code>    # search for benchmarks with score &gt; 100 for llama2_70B model on 2 specific machines\n    vastai search benchmarks 'score &gt; 100.0  model=llama2_70B  machine_id in [302,402]'\n</code></pre> <p>Tip</p> <p>Available fields: Name                  Type       Description contract_id             int        ID of instance/contract reporting benchmark id                      int        benchmark unique ID image                   string     image used for benchmark last_update             float      date of benchmark machine_id              int        id of machine benchmarked model                   string     name of model used in benchmark name                    string     name of benchmark num_gpus                int        number of gpus used in benchmark score                   float      benchmark score result</p>"},{"location":"cli/client/search/#search-invoices","title":"search invoices","text":"<p>Search billing invoices with filters</p> <pre><code>vastai search invoices [--help] [--api-key API_KEY] [--raw] &lt;query&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>query</code> Search query in simple query syntax (see below) <p>Notes:</p> <p>Query syntax: query = comparison comparison... comparison = field op value field =  op = one of: &lt;, &lt;=, ==, !=, &gt;=, &gt;, in, notin value =  | 'any' | [value0, value1, ...] bool: True, False note: to pass '&gt;' and '&lt;' on the command line, make sure to use quotes note: to encode a string query value (ie for gpu_name), replace any spaces ' ' with underscore '_' <p>Examples:</p> <pre><code>        # search for somewhat reliable single RTX 3090 instances, filter out any duplicates or offers that conflict with our existing stopped instances\n        vastai search invoices 'amount_cents&gt;3000  '\n</code></pre> <p>Tip</p> <p>Available fields: Name                  Type       Description id                  int, user_id             int, when                float,          utc epoch timestamp of initial invoice creation paid_on             float,          actual payment date (utc epoch timestamp ) payment_expected    float,          expected payment date (utc epoch timestamp ) amount_cents        int,            amount of payment in cents is_credit           bool,           is a credit purchase is_delayed          bool,           is not yet paid balance_before      float,          balance before balance_after       float,          balance after original_amount     int,            original amount of payment event_id            string, cut_amount          int, cut_percent         float, extra               json, service             string,         type of payment stripe_charge       json, stripe_refund       json, stripe_payout       json, error               json, paypal_email        string,         email for paypal/wise payments transfer_group      string, failed              bool, refunded            bool, is_check            bool,</p>"},{"location":"cli/client/search/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/ssh/","title":"SSH &amp; File Transfer Commands","text":"<p>Commands for connecting to instances and transferring files.</p>"},{"location":"cli/client/ssh/#ssh-url","title":"ssh-url","text":"<p>Generate SSH connection URL for an instance</p> <pre><code>vastai ssh-url ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of instance <p>Notes:</p> <p>Retrieves the SSH connection URL for an instance. Use this to get the host and port information needed to connect via SSH.</p> <p>Examples:</p> <pre><code>    vastai ssh-url 12345                       # Get SSH URL for instance 12345\n</code></pre> <p>Tip</p> <p>Output format: ssh://root@: Use with ssh command: ssh -p  root@ See also: 'vastai scp-url' for SCP file transfer URLs"},{"location":"cli/client/ssh/#scp-url","title":"scp-url","text":"<p>Generate SCP file transfer URL for an instance</p> <pre><code>vastai scp-url ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id <p>Notes:</p> <p>Retrieves the SCP connection URL for an instance. Use this to get the host and port information needed to transfer files via SCP.</p> <p>Examples:</p> <pre><code>    vastai scp-url 12345                       # Get SCP URL for instance 12345\n</code></pre> <p>Tip</p> <p>Output format: scp://root@: Use with scp command: scp -P  local_file root@:/remote/path scp -P  root@:/remote/file ./local_path See also: 'vastai ssh-url' for SSH connection URLs, 'vastai copy' for simplified file transfers"},{"location":"cli/client/ssh/#copy","title":"copy","text":"<p>Copy files/directories between instances or between local and instance</p> <pre><code>vastai copy SRC DST\n</code></pre> <p>Arguments:</p> Argument Description <code>src</code> Source location for copy operation (supports multiple formats) <code>dst</code> Target location for copy operation (supports multiple formats) <p>Options:</p> Option Description <code>-i, --identity IDENTITY</code> Location of ssh private key <p>Notes:</p> <p>Copies a directory from a source location to a target location. Each of source and destination directories can be either local or remote, subject to appropriate read and write permissions required to carry out the action. Supported location formats: - [instance_id:]path               (legacy format, still supported) - C.instance_id:path              (container copy format) - cloud_service:path              (cloud service format) - cloud_service.cloud_service_id:path  (cloud service with ID) - local:path                      (explicit local path) - V.volume_id:path                (volume copy, see restrictions) You should not copy to /root or / as a destination directory, as this can mess up the permissions on your instance ssh folder, breaking future copy operations (as they use ssh authentication) You can see more information about constraints here: https://vast.ai/docs/gpu-instances/data-movement#constraints Volume copy is currently only supported for copying to other volumes or instances, not cloud services or local.</p> <p>Examples:</p> <pre><code> vastai copy 6003036:/workspace/ 6003038:/workspace/\n vastai copy C.11824:/data/test local:data/test\n vastai copy local:data/test C.11824:/data/test\n vastai copy drive:/folder/file.txt C.6003036:/workspace/\n vastai copy s3.101:/data/ C.6003036:/workspace/\n vastai copy V.1234:/file C.5678:/workspace/\n</code></pre> <p>Tip</p> <p>The first example copy syncs all files from the absolute directory '/workspace' on instance 6003036 to the directory '/workspace' on instance 6003038. The second example copy syncs files from container 11824 to the local machine using structured syntax. The third example copy syncs files from local to container 11824 using structured syntax. The fourth example copy syncs files from Google Drive to an instance. The fifth example copy syncs files from S3 bucket with id 101 to an instance.</p>"},{"location":"cli/client/ssh/#cloud-copy","title":"cloud copy","text":"<p>Copy files between instances and cloud storage (S3, GCS, Azure)</p> <pre><code>vastai cloud copy --src SRC --dst DST --instance INSTANCE_ID -connection CONNECTION_ID --transfer TRANSFER_TYPE\n</code></pre> <p>Options:</p> Option Description <code>--src SRC</code> path to source of object to copy <code>--dst DST</code> path to target of copy operation <code>--instance INSTANCE</code> id of the instance <code>--connection CONNECTION</code> id of cloud connection on your account (get from calling 'vastai show connections') <code>--transfer TRANSFER</code> type of transfer, possible options include Instance To Cloud and Cloud To Instance <code>--dry-run</code> show what would have been transferred <code>--size-only</code> skip based on size only, not mod-time or checksum <code>--ignore-existing</code> skip all files that exist on destination <code>--update</code> skip files that are newer on the destination <code>--delete-excluded</code> delete files on dest excluded from transfer <code>--schedule {HOURLY,DAILY,WEEKLY}</code> try to schedule a command to run hourly, daily, or monthly. Valid values are HOURLY, DAILY, WEEKLY  For ex. --schedule DAILY <code>--start_date START_DATE</code> Start date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is now. (optional) <code>--end_date END_DATE</code> End date/time in format 'YYYY-MM-DD HH:MM:SS PM' (UTC). Default is contract's end. (optional) <code>--day DAY</code> Day of week you want scheduled job to run on (0-6, where 0=Sunday) or \"*\". Default will be 0. For ex. --day 0 <code>--hour HOUR</code> Hour of day you want scheduled job to run on (0-23) or \"*\" (UTC). Default will be 0. For ex. --hour 16 <p>Notes:</p> <p>Copies a directory from a source location to a target location. Each of source and destination directories can be either local or remote, subject to appropriate read and write permissions required to carry out the action. The format for both src and dst is [instance_id:]path. You can find more information about the cloud copy operation here: https://vast.ai/docs/gpu-instances/cloud-sync</p> <p>Examples:</p> <pre><code> vastai show connections\n vastai cloud copy --src /folder --dst /workspace --instance 6003036 --connection 1001 --transfer \"Instance To Cloud\"\n</code></pre> <p>Tip</p> <p>ID    NAME      Cloud Type 1001  test_dir  drive 1003  data_dir  drive The example copies all contents of /folder into /workspace on instance 6003036 from gdrive connection 'test_dir'.</p>"},{"location":"cli/client/ssh/#cancel-copy","title":"cancel copy","text":"<p>Cancel an in-progress file copy operation</p> <pre><code>vastai cancel copy DST\n</code></pre> <p>Arguments:</p> Argument Description <code>dst</code> instance_id:/path to target of copy operation <p>Notes:</p> <p>Use this command to cancel any/all current remote copy operations copying to a specific named instance, given by DST.</p> <p>Examples:</p> <pre><code> vastai cancel copy 12371\n</code></pre> <p>Tip</p> <p>The first example cancels all copy operations currently copying data into instance 12371</p>"},{"location":"cli/client/ssh/#cancel-sync","title":"cancel sync","text":"<p>Cancel an in-progress file sync operation</p> <pre><code>vastai cancel sync DST\n</code></pre> <p>Arguments:</p> Argument Description <code>dst</code> instance_id:/path to target of sync operation <p>Notes:</p> <p>Use this command to cancel any/all current remote cloud sync operations copying to a specific named instance, given by DST.</p> <p>Examples:</p> <pre><code> vastai cancel sync 12371\n</code></pre> <p>Tip</p> <p>The first example cancels all copy operations currently copying data into instance 12371</p>"},{"location":"cli/client/ssh/#attach-ssh","title":"attach ssh","text":"<p>Attach an SSH key to an instance for remote access</p> <pre><code>vastai attach ssh instance_id ssh_key\n</code></pre> <p>Arguments:</p> Argument Description <code>instance_id</code> id of instance to attach to <code>ssh_key</code> ssh key to attach to instance <p>Notes:</p> <p>Attach an ssh key to an instance. This will allow you to connect to the instance with the ssh key.</p> <p>Examples:</p> <pre><code> vastai attach ssh 12371 ssh-rsa AAAAB3NzaC1yc2EAAA...\n vastai attach ssh 12371 ssh-rsa $(cat ~/.ssh/id_rsa)\n</code></pre>"},{"location":"cli/client/ssh/#detach-ssh","title":"detach ssh","text":"<p>Remove an SSH key from an instance</p> <pre><code>vastai detach instance_id ssh_key_id\n</code></pre> <p>Arguments:</p> Argument Description <code>instance_id</code> id of the instance <code>ssh_key_id</code> id of the key to detach to the instance"},{"location":"cli/client/ssh/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/teams/","title":"Team Commands","text":"<p>Commands for managing teams and team members.</p>"},{"location":"cli/client/teams/#create-team","title":"create team","text":"<p>Create a new team</p> <pre><code>vastai create-team --team_name TEAM_NAME\n</code></pre> <p>Options:</p> Option Description <code>--team_name TEAM_NAME</code> name of the team <p>Notes:</p> <p>Creates a new team under your account. Unlike legacy teams, this command does NOT convert your personal account into a team. Each team is created as a separate account, and you can be a member of multiple teams. When you create a team: - You become the team owner. - The team starts as an independent account with its own billing, credits, and resources. - Default roles (owner, manager, member) are automatically created. - You can invite others, assign roles, and manage resources within the team. Notes: - You cannot create a team from within another team account. - To transfer credits to a team, use <code>vastai transfer credit &lt;team_email&gt; &lt;amount&gt;</code> after team creation. For more details, see: https://vast.ai/docs/teams-quickstart</p>"},{"location":"cli/client/teams/#destroy-team","title":"destroy team","text":"<p>Delete your team and remove all members</p> <pre><code>vastai destroy team\n</code></pre>"},{"location":"cli/client/teams/#invite-member","title":"invite member","text":"<p>Invite a user to join your team</p> <pre><code>vastai invite member --email EMAIL --role ROLE\n</code></pre> <p>Options:</p> Option Description <code>--email EMAIL</code> email of user to be invited <code>--role ROLE</code> role of user to be invited"},{"location":"cli/client/teams/#remove-member","title":"remove member","text":"<p>Remove a team member</p> <pre><code>vastai remove member ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of user to remove"},{"location":"cli/client/teams/#show-members","title":"show members","text":"<p>List all members in your team</p> <pre><code>vastai show members\n</code></pre>"},{"location":"cli/client/teams/#create-team-role","title":"create team-role","text":"<p>Create a custom role with specific permissions</p> <pre><code>vastai create team-role --name NAME --permissions PERMISSIONS\n</code></pre> <p>Options:</p> Option Description <code>--name NAME</code> name of the role <code>--permissions PERMISSIONS</code> file path for json encoded permissions, look in the docs for more information <p>Notes:</p> <p>Creating a new team role involves understanding how permissions must be sent via json format. You can find more information about permissions here: https://vast.ai/docs/cli/roles-and-permissions</p>"},{"location":"cli/client/teams/#show-team-roles","title":"show team-roles","text":"<p>List all roles defined for your team</p> <pre><code>vastai show team-roles\n</code></pre>"},{"location":"cli/client/teams/#show-team-role","title":"show team-role","text":"<p>Show details for a specific team role</p> <pre><code>vastai show team-role NAME\n</code></pre> <p>Arguments:</p> Argument Description <code>NAME</code> name of the role"},{"location":"cli/client/teams/#update-team-role","title":"update team-role","text":"<p>Update an existing team role</p> <pre><code>vastai update team-role ID --name NAME --permissions PERMISSIONS\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of the role <p>Options:</p> Option Description <code>--name NAME</code> name of the template <code>--permissions PERMISSIONS</code> file path for json encoded permissions, look in the docs for more information"},{"location":"cli/client/teams/#remove-team-role","title":"remove team-role","text":"<p>Delete a custom role from your team</p> <pre><code>vastai remove team-role NAME\n</code></pre> <p>Arguments:</p> Argument Description <code>NAME</code> name of the role"},{"location":"cli/client/teams/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/client/volumes/","title":"Volume Commands","text":"<p>Commands for managing persistent storage volumes.</p>"},{"location":"cli/client/volumes/#create-volume","title":"create volume","text":"<p>Create a new persistent storage volume</p> <pre><code>vastai create volume ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of volume offer <p>Options:</p> Option Description <code>-s, --size SIZE</code> size in GB of volume. Default 15 GB. <code>-n, --name NAME</code> Optional name of volume. <p>Notes:</p> <p>Creates a volume from an offer ID (which is returned from \"search volumes\"). Each offer ID can be used to create multiple volumes, provided the size of all volumes does not exceed the size of the offer.</p>"},{"location":"cli/client/volumes/#create-network-volume","title":"create network-volume","text":"<p>[Host][Beta] Create a new network-attached storage volume</p> <pre><code>vastai create network volume ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of network volume offer <p>Options:</p> Option Description <code>-s, --size SIZE</code> size in GB of network volume. Default 15 GB. <code>-n, --name NAME</code> Optional name of network volume. <p>Notes:</p> <p>Creates a network volume from an offer ID (which is returned from \"search network volumes\"). Each offer ID can be used to create multiple volumes, provided the size of all volumes does not exceed the size of the offer.</p>"},{"location":"cli/client/volumes/#delete-volume","title":"delete volume","text":"<p>Delete a persistent storage volume</p> <pre><code>vastai delete volume ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of volume contract <p>Notes:</p> <p>Deletes volume with the given ID. All instances using the volume must be destroyed before the volume can be deleted.</p>"},{"location":"cli/client/volumes/#clone-volume","title":"clone volume","text":"<p>Create a copy of an existing volume</p> <pre><code>vastai copy volume &lt;source_id&gt; &lt;dest_id&gt; [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>source</code> id of volume contract being cloned <code>dest</code> id of volume offer volume is being copied to <p>Options:</p> Option Description <code>-s, --size SIZE</code> Size of new volume contract, in GB. Must be greater than or equal to the source volume, and less than or equal to the destination offer. <code>-d, --disable_compression</code> Do not compress volume data before copying. <p>Notes:</p> <p>Create a new volume with the given offer, by copying the existing volume. Size defaults to the size of the existing volume, but can be increased if there is available space.</p>"},{"location":"cli/client/volumes/#show-volumes","title":"show volumes","text":"<p>List all your storage volumes and their status</p> <pre><code>vastai show volumes [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-t, --type TYPE</code> volume type to display. Default to all. Possible values are \"local\", \"all\", \"network\" <p>Notes:</p> <p>Show stats on owned volumes</p>"},{"location":"cli/client/volumes/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/host/","title":"Host Commands","text":"<p>Commands for GPU providers hosting machines on Vast.ai.</p> <p>For Hosts Only</p> <p>These commands are for users who are providing GPU compute on the Vast.ai marketplace. If you're renting GPUs, see Client Commands.</p>"},{"location":"cli/host/#command-categories","title":"Command Categories","text":""},{"location":"cli/host/#machine-management","title":"Machine Management","text":"Command Description <code>show machines</code> List your hosted machines <code>show machine</code> Show machine details <code>list machine</code> List a machine for rent <code>unlist machine</code> Remove machine from marketplace <code>delete machine</code> Delete a machine <code>self-test machine</code> Run self-test diagnostics"},{"location":"cli/host/#pricing","title":"Pricing","text":"Command Description <code>set min-bid</code> Set minimum rental price"},{"location":"cli/host/#volumes-host","title":"Volumes (Host)","text":"Command Description <code>list volume</code> List disk space for rent <code>list volumes</code> List volumes on multiple machines <code>unlist volume</code> Remove volume from marketplace <code>list network-volume</code> List network volume for rent <code>unlist network-volume</code> Remove network volume"},{"location":"cli/host/#maintenance","title":"Maintenance","text":"Command Description <code>schedule maint</code> Schedule maintenance window <code>cancel maint</code> Cancel maintenance window <code>show maints</code> Show maintenance info <code>cleanup machine</code> Remove expired storage <code>defrag machines</code> Defragment machines"},{"location":"cli/host/#reports-earnings","title":"Reports &amp; Earnings","text":"Command Description <code>show earnings</code> View earning history <code>reports</code> Get machine reports"},{"location":"cli/host/#default-jobs","title":"Default Jobs","text":"Command Description <code>set defjob</code> Create default jobs <code>remove defjob</code> Delete default jobs"},{"location":"cli/host/#clusters-beta","title":"Clusters (Beta)","text":"Command Description <code>add network-disk</code> Add network disk to cluster <code>show network-disks</code> Show network disks"},{"location":"cli/host/#quick-reference","title":"Quick Reference","text":"<pre><code># List your machines\nvastai show machines\n\n# Set pricing for a machine\nvastai set min-bid 12345 0.50\n\n# Run diagnostics\nvastai self-test machine 12345\n\n# Schedule maintenance\nvastai schedule maint 12345 --start \"2025-03-01 00:00\" --end \"2025-03-01 06:00\"\n\n# Check earnings\nvastai show earnings\n</code></pre>"},{"location":"cli/host/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete command list with help text</li> <li>CLI Overview - Query syntax and global options</li> <li>Client Commands - Commands for GPU renters</li> </ul>"},{"location":"cli/host/clusters/","title":"Cluster Commands (Host)","text":"<p>Commands for managing physical clusters and network disks.</p>"},{"location":"cli/host/clusters/#add-network-disk","title":"add network-disk","text":"<p>[Host][Beta] Attach a network disk to a machine cluster</p> <pre><code>vastai add network-disk MACHINES MOUNT_PATH [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>machines</code> ids of machines to add disk to, that is networked to be on the same LAN as machine <code>mount_point</code> mount path of disk to add <p>Options:</p> Option Description <code>-d, --disk_id [DISK_ID]</code> id of network disk to attach to machines in the cluster <p>Notes:</p> <p>This variant can be used to add a network disk to a physical cluster. When you add a network disk for the first time, you just need to specify the machine(s) and mount_path. When you add a network disk for the second time, you need to specify the disk_id.</p> <p>Examples:</p> <pre><code>vastai add network-disk 1 /mnt/disk1\nvastai add network-disk 1 /mnt/disk1 -d 12345\n</code></pre>"},{"location":"cli/host/clusters/#show-network-disks","title":"show network-disks","text":"<p>[Host][Beta] List network disks attached to your machines</p> <pre><code>vastai show network-disks\n</code></pre> <p>Notes:</p> <p>Show network disks associated with your account.</p>"},{"location":"cli/host/clusters/#create-cluster","title":"create cluster","text":"<p>[Beta] Create a new machine cluster</p> <pre><code>vastai create cluster SUBNET MANAGER_ID\n</code></pre> <p>Arguments:</p> Argument Description <code>subnet</code> local subnet for cluster, ex: '0.0.0.0/24' <code>manager_id</code> Machine ID of manager node in cluster. Must exist already. <p>Notes:</p> <p>Create Vast Cluster by defining a local subnet and manager id.</p>"},{"location":"cli/host/clusters/#delete-cluster","title":"delete cluster","text":"<p>[Beta] Delete a machine cluster</p> <pre><code>vastai delete cluster CLUSTER_ID\n</code></pre> <p>Arguments:</p> Argument Description <code>cluster_id</code> ID of cluster to delete <p>Notes:</p> <p>Delete Vast Cluster</p>"},{"location":"cli/host/clusters/#join-cluster","title":"join cluster","text":"<p>[Beta] Add a machine to an existing cluster</p> <pre><code>vastai join cluster CLUSTER_ID MACHINE_IDS\n</code></pre> <p>Arguments:</p> Argument Description <code>cluster_id</code> ID of cluster to add machine to <code>machine_ids</code> machine id(s) to join cluster <p>Notes:</p> <p>Join's Machine to Vast Cluster</p>"},{"location":"cli/host/clusters/#show-clusters","title":"show clusters","text":"<p>[Beta] List all your machine clusters</p> <pre><code>vastai show clusters\n</code></pre> <p>Notes:</p> <p>Show clusters associated with your account.</p>"},{"location":"cli/host/clusters/#remove-machine-from-cluster","title":"remove-machine-from-cluster","text":"<p>[Host][Beta] Remove a machine from a cluster</p> <pre><code>vastai remove-machine-from-cluster CLUSTER_ID MACHINE_ID NEW_MANAGER_ID\n</code></pre> <p>Arguments:</p> Argument Description <code>cluster_id</code> ID of cluster you want to remove machine from. <code>machine_id</code> ID of machine to remove from cluster. <code>new_manager_id</code> ID of machine to promote to manager. Must already be in cluster <p>Notes:</p> <p>Removes machine from cluster and also reassigns manager ID, if we're removing the manager node</p>"},{"location":"cli/host/clusters/#create-overlay","title":"create overlay","text":"<p>[Beta] Create a virtual overlay network on a cluster</p> <pre><code>vastai create overlay CLUSTER_ID OVERLAY_NAME\n</code></pre> <p>Arguments:</p> Argument Description <code>cluster_id</code> ID of cluster to create overlay on top of <code>name</code> overlay network name <p>Notes:</p> <p>Creates an overlay network to allow local networking between instances on a physical cluster</p>"},{"location":"cli/host/clusters/#delete-overlay","title":"delete overlay","text":"<p>[Beta] Delete an overlay network and its instances</p> <pre><code>vastai delete overlay OVERLAY_IDENTIFIER\n</code></pre> <p>Arguments:</p> Argument Description <code>overlay_identifier</code> ID (int) or name (str) of overlay to delete"},{"location":"cli/host/clusters/#show-overlays","title":"show overlays","text":"<p>[Beta] List all your overlay networks</p> <pre><code>vastai show overlays\n</code></pre> <p>Notes:</p> <p>Show overlays associated with your account.</p>"},{"location":"cli/host/clusters/#join-overlay","title":"join overlay","text":"<p>[Beta] Connect an instance to an overlay network</p> <pre><code>vastai join overlay OVERLAY_NAME INSTANCE_ID\n</code></pre> <p>Arguments:</p> Argument Description <code>name</code> Overlay network name to join instance to. <code>instance_id</code> Instance ID to add to overlay. <p>Notes:</p> <p>Adds an instance to a compatible overlay network.</p>"},{"location":"cli/host/clusters/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/host/machines/","title":"Machine Commands","text":"<p>Commands for managing your hosted machines on Vast.ai.</p>"},{"location":"cli/host/machines/#show-machines","title":"show machines","text":"<p>[Host] List all your hosted machines</p> <pre><code>vastai show machines [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-q, --quiet</code> only display numeric ids"},{"location":"cli/host/machines/#show-machine","title":"show machine","text":"<p>[Host] Show details for a specific hosted machine</p> <pre><code>vastai show machine ID [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to display <p>Options:</p> Option Description <code>-q, --quiet</code> only display numeric ids"},{"location":"cli/host/machines/#list-machine","title":"list machine","text":"<p>[Host] List a single machine for rent on the marketplace</p> <pre><code>vastai list machine ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to list <p>Options:</p> Option Description <code>-g, --price_gpu PRICE_GPU</code> per gpu rental price in $/hour  (price for active instances) <code>-s, --price_disk PRICE_DISK</code> storage price in $/GB/month (price for inactive instances), default: $0.10/GB/month <code>-u, --price_inetu PRICE_INETU</code> price for internet upload bandwidth in $/GB <code>-d, --price_inetd PRICE_INETD</code> price for internet download bandwidth in $/GB <code>-b, --price_min_bid PRICE_MIN_BID</code> per gpu minimum bid price floor in $/hour <code>-r, --discount_rate DISCOUNT_RATE</code> Max long term prepay discount rate fraction, default: 0.4 <code>-m, --min_chunk MIN_CHUNK</code> minimum amount of gpus <code>-e, --end_date END_DATE</code> contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format) <code>-l, --duration DURATION</code> Updates end_date daily to be duration from current date. Cannot be combined with end_date. Format is: <code>n days</code>, <code>n weeks</code>, <code>n months</code>, <code>n years</code>, or total intended duration in seconds. <code>-v, --vol_size VOL_SIZE</code> Size for volume contract offer. Defaults to half of available disk. Set 0 to not create a volume contract offer. <code>-z, --vol_price VOL_PRICE</code> Price for disk on volume contract offer. Defaults to price_disk. Invalid if vol_size is 0. <p>Warning</p> <p>Performs the same action as pressing the \"LIST\" button on the site https://cloud.vast.ai/host/machines. On the end date the listing will expire and your machine will unlist. However any existing client jobs will still remain until ended by their owners. Once you list your machine and it is rented, it is extremely important that you don't interfere with the machine in any way. If your machine has an active client job and then goes offline, crashes, or has performance problems, this could permanently lower your reliability rating. We strongly recommend you test the machine first and only list when ready.</p>"},{"location":"cli/host/machines/#list-machines","title":"list machines","text":"<p>[Host] List multiple machines for rent on the marketplace</p> <pre><code>vastai list machines IDS [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>ids</code> ids of machines to list <p>Options:</p> Option Description <code>-g, --price_gpu PRICE_GPU</code> per gpu on-demand rental price in $/hour (base price for active instances) <code>-s, --price_disk PRICE_DISK</code> storage price in $/GB/month (price for inactive instances), default: $0.10/GB/month <code>-u, --price_inetu PRICE_INETU</code> price for internet upload bandwidth in $/GB <code>-d, --price_inetd PRICE_INETD</code> price for internet download bandwidth in $/GB <code>-b, --price_min_bid PRICE_MIN_BID</code> per gpu minimum bid price floor in $/hour <code>-r, --discount_rate DISCOUNT_RATE</code> Max long term prepay discount rate fraction, default: 0.4 <code>-m, --min_chunk MIN_CHUNK</code> minimum amount of gpus <code>-e, --end_date END_DATE</code> contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format) <code>-l, --duration DURATION</code> Updates end_date daily to be duration from current date. Cannot be combined with end_date. Format is: <code>n days</code>, <code>n weeks</code>, <code>n months</code>, <code>n years</code>, or total intended duration in seconds. <code>-v, --vol_size VOL_SIZE</code> Size for volume contract offer. Defaults to half of available disk. Set 0 to not create a volume contract offer. <code>-z, --vol_price VOL_PRICE</code> Price for disk on volume contract offer. Defaults to price_disk. Invalid if vol_size is 0. <p>Notes:</p> <p>This variant can be used to list or update the listings for multiple machines at once with the same args. You could extend the end dates of all your machines using a command combo like this: ./vast.py list machines $(./vast.py show machines -q) -e 12/31/2024 --retry 6</p>"},{"location":"cli/host/machines/#unlist-machine","title":"unlist machine","text":"<p>[Host] Remove a machine from the rental marketplace</p> <pre><code>vastai unlist machine &lt;id&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to unlist"},{"location":"cli/host/machines/#delete-machine","title":"delete machine","text":"<p>[Host] Remove a machine from your host account</p> <pre><code>vastai delete machine &lt;id&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to delete"},{"location":"cli/host/machines/#set-min-bid","title":"set min-bid","text":"<p>[Host] Set minimum price for interruptible/spot instance rentals</p> <pre><code>vastai set min_bid id [--price PRICE]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to set min bid price for <p>Options:</p> Option Description <code>--price PRICE</code> per gpu min bid price in $/hour <p>Notes:</p> <p>Change the current min bid price of machine id to PRICE.</p>"},{"location":"cli/host/machines/#self-test-machine","title":"self-test machine","text":"<p>[Host] Run diagnostics on a hosted machine</p> <pre><code>vastai self-test machine &lt;machine_id&gt; [--debugging] [--explain] [--api_key API_KEY] [--url URL] [--retry RETRY] [--raw] [--ignore-requirements]\n</code></pre> <p>Arguments:</p> Argument Description <code>machine_id</code> Machine ID <p>Options:</p> Option Description <code>--debugging</code> Enable debugging output <code>--explain</code> Output verbose explanation of mapping of CLI calls to HTTPS API endpoints <code>--raw</code> Output machine-readable JSON <code>--url URL</code> Server REST API URL <code>--retry RETRY</code> Retry limit <code>--ignore-requirements</code> Ignore the minimum system requirements and run the self test regardless <p>Notes:</p> <p>This command tests if a machine meets specific requirements and runs a series of tests to ensure it's functioning correctly.</p> <p>Examples:</p> <pre><code> vastai self-test machine 12345\n vastai self-test machine 12345 --debugging\n vastai self-test machine 12345 --explain\n vastai self-test machine 12345 --api_key &lt;YOUR_API_KEY&gt;\n</code></pre>"},{"location":"cli/host/machines/#list-volume","title":"list volume","text":"<p>[Host] List disk space as a rentable volume</p> <pre><code>vastai list volume ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to list <p>Options:</p> Option Description <code>-p, --price_disk PRICE_DISK</code> storage price in $/GB/month, default: $0.10/GB/month <code>-e, --end_date END_DATE</code> contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format), default 3 months <code>-s, --size SIZE</code> size of disk space allocated to offer in GB, default 15 GB <p>Notes:</p> <p>Allocates a section of disk on a machine to be used for volumes.</p>"},{"location":"cli/host/machines/#list-volumes","title":"list volumes","text":"<p>[Host] List disk space on multiple machines as rentable volumes</p> <pre><code>vastai list volumes IDS [OPTIONS]\n</code></pre> <p>Arguments:</p> Argument Description <code>ids</code> ids of machines to list volumes on <p>Options:</p> Option Description <code>-p, --price_disk PRICE_DISK</code> storage price in $/GB/month, default: $0.10/GB/month <code>-e, --end_date END_DATE</code> contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format), default 3 months <code>-s, --size SIZE</code> size of disk space allocated to offer in GB, default 15 GB <p>Notes:</p> <p>Allocates a section of disk on machines to be used for volumes.</p>"},{"location":"cli/host/machines/#unlist-volume","title":"unlist volume","text":"<p>[Host] Remove a volume offer from the marketplace</p> <pre><code>vastai unlist volume ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> volume ID you want to unlist"},{"location":"cli/host/machines/#list-network-volume","title":"list network-volume","text":"<p>[Host][Beta] List disk space as a rentable network volume</p> <pre><code>vastai list network volume DISK_ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>disk_id</code> id of network disk to list <p>Options:</p> Option Description <code>-p, --price_disk PRICE_DISK</code> storage price in $/GB/month, default: $0.15/GB/month <code>-e, --end_date END_DATE</code> contract offer expiration - the available until date (optional, in unix float timestamp or MM/DD/YYYY format), default 1 month <code>-s, --size SIZE</code> size of disk space allocated to offer in GB, default 15 GB"},{"location":"cli/host/machines/#unlist-network-volume","title":"unlist network-volume","text":"<p>[Host][Beta] Remove a network volume offer from the marketplace</p> <pre><code>vastai unlist network volume OFFER_ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of network volume offer to unlist"},{"location":"cli/host/machines/#set-defjob","title":"set defjob","text":"<p>[Host] Configure default background jobs for a machine</p> <pre><code>vastai set defjob id [--api-key API_KEY] [--price_gpu PRICE_GPU] [--price_inetu PRICE_INETU] [--price_inetd PRICE_INETD] [--image IMAGE] [--args ...]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to launch default instance on <p>Options:</p> Option Description <code>--price_gpu PRICE_GPU</code> per gpu rental price in $/hour <code>--price_inetu PRICE_INETU</code> price for internet upload bandwidth in $/GB <code>--price_inetd PRICE_INETD</code> price for internet download bandwidth in $/GB <code>--image IMAGE</code> docker container image to launch <code>--args ...</code> list of arguments passed to container launch <p>Notes:</p> <p>Performs the same action as creating a background job at https://cloud.vast.ai/host/create.</p>"},{"location":"cli/host/machines/#remove-defjob","title":"remove defjob","text":"<p>[Host] Remove default background jobs from a machine</p> <pre><code>vastai remove defjob id\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to remove default instance from"},{"location":"cli/host/machines/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/host/maintenance/","title":"Maintenance Commands","text":"<p>Commands for scheduling and managing machine maintenance.</p>"},{"location":"cli/host/maintenance/#schedule-maint","title":"schedule maint","text":"<p>[Host] Schedule a maintenance window for a machine</p> <pre><code>vastai schedule maintenance id [--sdate START_DATE --duration DURATION --maintenance_category MAINTENANCE_CATEGORY]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to schedule maintenance for <p>Options:</p> Option Description <code>--sdate SDATE</code> maintenance start date in unix epoch time (UTC seconds) <code>--duration DURATION</code> maintenance duration in hours <code>--maintenance_category MAINTENANCE_CATEGORY</code> (optional) can be one of [power, internet, disk, gpu, software, other] <p>Notes:</p> <p>The proper way to perform maintenance on your machine is to wait until all active contracts have expired or the machine is vacant. For unplanned or unscheduled maintenance, use this schedule maint command. That will notify the client that you have to take the machine down and that they should save their work. You can specify a date, duration, reason and category for the maintenance.</p>"},{"location":"cli/host/maintenance/#cancel-maint","title":"cancel maint","text":"<p>[Host] Cancel a scheduled maintenance window</p> <pre><code>vastai cancel maint id\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to cancel maintenance(s) for <p>Notes:</p> <p>For deleting a machine's scheduled maintenance window(s), use this cancel maint command.</p>"},{"location":"cli/host/maintenance/#show-maints","title":"show maints","text":"<p>[Host] List scheduled maintenance windows</p> <pre><code>vastai show maints --ids MACHINE_IDS [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-i, --ids IDS</code> comma separated string of machine_ids for which to get maintenance information <code>-q, --quiet</code> only display numeric ids of the machines in maintenance"},{"location":"cli/host/maintenance/#cleanup-machine","title":"cleanup machine","text":"<p>[Host] Clean up expired storage to free disk space</p> <pre><code>vastai cleanup machine ID [options]\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> id of machine to cleanup <p>Notes:</p> <p>Instances expire on their end date. Expired instances still pay storage fees, but can not start. Since hosts are still paid storage fees for expired instances, we do not auto delete them. Instead you can use this CLI/API function to delete all expired storage instances for a machine. This is useful if you are running low on storage, want to do maintenance, or are subsidizing storage, etc.</p>"},{"location":"cli/host/maintenance/#defrag-machines","title":"defrag machines","text":"<p>[Host] Rebuild larger GPU offers from orphaned single GPUs when possible</p> <pre><code>vastai defragment machines IDs\n</code></pre> <p>Arguments:</p> Argument Description <code>IDs</code> ids of machines <p>Notes:</p> <p>Defragment some of your machines. This will rearrange GPU assignments to try and make more multi-gpu offers available.</p>"},{"location":"cli/host/maintenance/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"cli/host/reports/","title":"Reports &amp; Earnings","text":"<p>Commands for viewing machine reports and earning history.</p>"},{"location":"cli/host/reports/#show-earnings","title":"show earnings","text":"<p>[Host] Show rental income history for your machines</p> <pre><code>vastai show earnings [OPTIONS]\n</code></pre> <p>Options:</p> Option Description <code>-q, --quiet</code> only display numeric ids <code>-s, --start_date START_DATE</code> start date and time for report. Many formats accepted <code>-e, --end_date END_DATE</code> end date and time for report. Many formats accepted <code>-m, --machine_id MACHINE_ID</code> Machine id (optional)"},{"location":"cli/host/reports/#reports","title":"reports","text":"<p>[Host] Get usage and performance reports for a machine</p> <pre><code>vastai reports ID\n</code></pre> <p>Arguments:</p> Argument Description <code>id</code> machine id"},{"location":"cli/host/reports/#see-also","title":"See Also","text":"<ul> <li>Full Command Reference - Complete help text for all commands</li> </ul>"},{"location":"guides/migration/","title":"Migration Guide","text":"<p>This guide helps users migrate from the old <code>vastai_sdk</code> package to the unified <code>vastai</code> package.</p>"},{"location":"guides/migration/#overview","title":"Overview","text":"<p>The Vast.ai CLI and SDK have been merged into a single package. The SDK now imports from the live CLI module instead of a frozen copy, ensuring feature parity and eliminating code drift.</p> <p>Key benefits of the merger:</p> <ul> <li>Single source of truth for all Vast.ai functionality</li> <li>Automatic feature parity between CLI and SDK</li> <li>Better error handling and retry logic</li> <li>Full type hints for IDE support</li> <li>Comprehensive docstrings</li> </ul>"},{"location":"guides/migration/#import-path-changes","title":"Import Path Changes","text":""},{"location":"guides/migration/#old-import-deprecated","title":"Old Import (Deprecated)","text":"<pre><code># Old way - still works but shows deprecation warning\nfrom vastai_sdk import VastAI\n</code></pre>"},{"location":"guides/migration/#new-import-recommended","title":"New Import (Recommended)","text":"<pre><code># New way - use this going forward\nfrom vastai import VastAI\n</code></pre> <p>The old import path (<code>vastai_sdk</code>) remains functional for backwards compatibility but will emit a <code>DeprecationWarning</code>. Update your imports when convenient.</p>"},{"location":"guides/migration/#breaking-changes","title":"Breaking Changes","text":""},{"location":"guides/migration/#none-for-v10","title":"None for v1.0","text":"<p>The merger was designed to be backwards compatible. Existing code should work without changes, though you may see deprecation warnings.</p>"},{"location":"guides/migration/#deprecated-patterns","title":"Deprecated Patterns","text":""},{"location":"guides/migration/#import-paths","title":"Import Paths","text":"Old New Status <code>from vastai_sdk import VastAI</code> <code>from vastai import VastAI</code> Deprecated, still works <code>from vastai_sdk import ...</code> <code>from vastai import ...</code> Deprecated, still works"},{"location":"guides/migration/#method-names","title":"Method Names","text":"Old Method New Method Status <code>client.autogroup_*()</code> <code>client.workergroup_*()</code> Aliased, both work <code>client.autoscaler_*()</code> <code>client.workergroup_*()</code> Aliased, both work <p>The old method names (<code>autogroup_*</code>, <code>autoscaler_*</code>) remain as aliases. New code should use <code>workergroup_*</code>.</p>"},{"location":"guides/migration/#new-features","title":"New Features","text":"<p>The unified package includes several improvements:</p>"},{"location":"guides/migration/#type-hints","title":"Type Hints","text":"<p>All SDK methods now have type annotations:</p> <pre><code>def search_offers(\n    self,\n    query: str | None = None,\n    limit: int | None = None,\n    order: str | None = None,\n    **kwargs\n) -&gt; list[dict[str, Any]]:\n    ...\n</code></pre>"},{"location":"guides/migration/#docstrings","title":"Docstrings","text":"<p>All methods have Google-style docstrings for IDE support:</p> <pre><code>from vastai import VastAI\nclient = VastAI(api_key=\"key\")\nhelp(client.search_offers)  # Shows full documentation\n</code></pre>"},{"location":"guides/migration/#better-error-handling","title":"Better Error Handling","text":"<ul> <li>Specific exception types instead of bare <code>except:</code></li> <li>Thread-safe stdout capture</li> <li><code>sys.exit()</code> calls converted to return values</li> <li>Proper exception chaining</li> </ul>"},{"location":"guides/migration/#retry-logic","title":"Retry Logic","text":"<p>Automatic retry with exponential backoff for:</p> <ul> <li>HTTP 429 (rate limit)</li> <li>HTTP 502, 503, 504 (server errors)</li> <li>Connection errors and timeouts</li> </ul> <p>Non-retryable errors (like 500) are raised immediately.</p>"},{"location":"guides/migration/#timeouts","title":"Timeouts","text":"<p>All HTTP requests have configurable timeouts:</p> <ul> <li>Default: 30 seconds</li> <li>File operations: 120 seconds</li> </ul>"},{"location":"guides/migration/#serverless-framework","title":"Serverless Framework","text":"<p>The serverless client/server framework is now part of the main package:</p> <pre><code># Old (separate package)\nfrom vast_serverless import Serverless, Worker\n\n# New (lazy import from main package)\nfrom vastai import Serverless, Worker\n</code></pre> <p>Install serverless dependencies:</p> <pre><code>pip install \"vastai[serverless]\"\n</code></pre> <p>The serverless classes are lazily imported, so users who don't need them won't have to install the extra dependencies.</p>"},{"location":"guides/migration/#configuration","title":"Configuration","text":""},{"location":"guides/migration/#api-key-storage","title":"API Key Storage","text":"<p>No changes - keys are still stored in:</p> <ul> <li><code>~/.config/vastai/vast_api_key</code> (XDG spec, preferred)</li> <li><code>~/.vast_api_key</code> (legacy, still supported)</li> </ul>"},{"location":"guides/migration/#environment-variables","title":"Environment Variables","text":"Variable Purpose <code>VAST_API_KEY</code> Override file-based API key <code>VAST_URL</code> Override server URL <code>LOGLEVEL</code> Set logging level"},{"location":"guides/migration/#constructor-parameters","title":"Constructor Parameters","text":"<p>The <code>VastAI</code> class accepts these parameters:</p> <pre><code>client = VastAI(\n    api_key=\"your-key\",         # API key (or from env/file)\n    raw=False,                   # Return raw JSON responses\n    retry=3,                     # Max retry attempts\n    server_url=None,             # Override API server URL\n    explain=False,               # Print API calls for debugging\n    quiet=False                  # Suppress non-essential output\n)\n</code></pre>"},{"location":"guides/migration/#testing-your-migration","title":"Testing Your Migration","text":""},{"location":"guides/migration/#step-1-update-imports","title":"Step 1: Update Imports","text":"<pre><code># Change this:\nfrom vastai_sdk import VastAI\n\n# To this:\nfrom vastai import VastAI\n</code></pre>"},{"location":"guides/migration/#step-2-suppress-warnings-optional","title":"Step 2: Suppress Warnings (Optional)","text":"<p>If you can't update imports immediately:</p> <pre><code>import warnings\nwarnings.filterwarnings(\"ignore\", category=DeprecationWarning, module=\"vastai_sdk\")\n</code></pre>"},{"location":"guides/migration/#step-3-verify-functionality","title":"Step 3: Verify Functionality","text":"<pre><code>from vastai import VastAI\n\nclient = VastAI(api_key=\"your-key\")\n\n# Test basic operations\noffers = client.search_offers(limit=1)\nprint(f\"Found {len(offers)} offers\")\n\ninstances = client.show_instances()\nprint(f\"You have {len(instances)} instances\")\n</code></pre>"},{"location":"guides/migration/#step-4-check-for-deprecation-warnings","title":"Step 4: Check for Deprecation Warnings","text":"<p>Run your code with warnings enabled:</p> <pre><code>python -W default your_script.py\n</code></pre> <p>This will show any deprecated method or import usage.</p>"},{"location":"guides/migration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/migration/#deprecationwarning-on-import","title":"DeprecationWarning on Import","text":"<p>Problem: You see warnings like <code>DeprecationWarning: vastai_sdk is deprecated</code></p> <p>Solution: Update your imports from <code>vastai_sdk</code> to <code>vastai</code>.</p>"},{"location":"guides/migration/#missing-serverless-classes","title":"Missing Serverless Classes","text":"<p>Problem: <code>ImportError: cannot import name 'Serverless'</code></p> <p>Solution: Install serverless extras:</p> <pre><code>pip install \"vastai[serverless]\"\n</code></pre>"},{"location":"guides/migration/#different-return-types","title":"Different Return Types","text":"<p>Problem: Code that worked before returns different data</p> <p>Solution: Some methods now return different types. If you were depending on specific return shapes, check the API Reference for current signatures.</p> <p>Most changes: - Methods return <code>dict</code> or <code>list[dict]</code> consistently - Error cases return error information instead of raising</p>"},{"location":"guides/migration/#method-not-found","title":"Method Not Found","text":"<p>Problem: A method worked before but is now missing</p> <p>Solution: Check:</p> <ol> <li>Spelling (some were renamed for consistency)</li> <li>Aliased names (<code>autogroup_*</code> -&gt; <code>workergroup_*</code>)</li> <li>API Reference for current methods</li> </ol>"},{"location":"guides/migration/#authentication-errors","title":"Authentication Errors","text":"<p>Problem: API key not being found</p> <p>Solution: Check these locations in order:</p> <ol> <li>Constructor parameter: <code>VastAI(api_key=\"...\")</code></li> <li>Environment variable: <code>VAST_API_KEY</code></li> <li>Config file: <code>~/.config/vastai/vast_api_key</code></li> <li>Legacy file: <code>~/.vast_api_key</code></li> </ol>"},{"location":"guides/migration/#common-migration-patterns","title":"Common Migration Patterns","text":""},{"location":"guides/migration/#from-sdk-only-to-unified","title":"From SDK-only to Unified","text":"<pre><code># Before\nfrom vastai_sdk import VastAI\nclient = VastAI()\nclient.search_offers()\n\n# After (identical API)\nfrom vastai import VastAI\nclient = VastAI()\nclient.search_offers()\n</code></pre>"},{"location":"guides/migration/#from-cli-scripts-to-sdk","title":"From CLI Scripts to SDK","text":"<pre><code># Before: subprocess calls\nimport subprocess\nresult = subprocess.run([\"vastai\", \"search\", \"offers\"], capture_output=True)\n\n# After: direct SDK usage\nfrom vastai import VastAI\nclient = VastAI()\noffers = client.search_offers()\n</code></pre>"},{"location":"guides/migration/#adding-type-checking","title":"Adding Type Checking","text":"<pre><code>from vastai import VastAI\nfrom typing import Any\n\nclient = VastAI(api_key=\"key\")\n\n# Now with proper types\noffers: list[dict[str, Any]] = client.search_offers(limit=10)\ninstance: dict[str, Any] = client.show_instance(id=12345)\n</code></pre>"},{"location":"guides/migration/#getting-help","title":"Getting Help","text":"<ul> <li>Changelog - Full list of changes</li> <li>GitHub Issues - Report bugs</li> <li>SDK Reference - Current API documentation</li> <li>Serverless Overview - Async client/server framework</li> </ul>"},{"location":"sdk/","title":"SDK Overview","text":"<p>The Vast.ai Python SDK provides programmatic access to all Vast.ai CLI functionality through a clean Python interface.</p>"},{"location":"sdk/#key-features","title":"Key Features","text":"<ul> <li>130+ Methods: Every CLI command available as a Python method</li> <li>Type Hints: Full type annotations for IDE support and static analysis</li> <li>Raw Mode by Default: SDK returns parsed JSON, not CLI output</li> <li>Automatic Retries: Built-in retry logic for transient failures</li> <li>Thread-Safe: Safe to use from multiple threads</li> </ul>"},{"location":"sdk/#quick-example","title":"Quick Example","text":"<pre><code>from vastai import VastAI\n\n# Initialize client\nclient = VastAI(api_key=\"your-api-key\")\n\n# Search for GPU offers\noffers = client.search_offers(limit=10)\n\n# Create an instance\nresult = client.create_instance(\n    id=offers[0][\"id\"],\n    image=\"pytorch/pytorch:latest\"\n)\n\n# Check your instances\ninstances = client.show_instances()\n</code></pre>"},{"location":"sdk/#architecture","title":"Architecture","text":"<p>The SDK consists of three layers:</p> <ol> <li>VastAI class (<code>vastai/sdk.py</code>): Main entry point with method dispatch</li> <li>VastAIBase class (<code>vastai/vastai_base.py</code>): Method signatures and type hints</li> <li>vast.py module: Actual command implementations</li> </ol> <p>When you call <code>client.search_offers()</code>, the SDK:</p> <ol> <li>Builds an argparse Namespace with your parameters</li> <li>Captures stdout (in raw mode, returns JSON directly)</li> <li>Calls the underlying CLI function</li> <li>Returns the parsed result</li> </ol>"},{"location":"sdk/#return-types","title":"Return Types","text":"<p>Methods follow a consistent return type pattern:</p> Method Pattern Return Type Example <code>search_*</code> <code>list[dict[str, Any]]</code> <code>search_offers()</code> <code>show_*s</code> (plural) <code>list[dict[str, Any]]</code> <code>show_instances()</code> <code>show_*</code> (singular) <code>dict[str, Any]</code> <code>show_instance(id=123)</code> <code>create_*</code> <code>dict[str, Any]</code> <code>create_instance(...)</code> <code>destroy_*</code> <code>dict[str, Any]</code> <code>destroy_instance(id=123)</code>"},{"location":"sdk/#error-handling","title":"Error Handling","text":"<pre><code>from vastai import VastAI\n\nclient = VastAI(api_key=\"your-api-key\")\n\ntry:\n    result = client.show_instance(id=99999)\nexcept Exception as e:\n    print(f\"Error: {e}\")\n</code></pre> <p>Check the API response</p> <p>Most methods return a dict with a <code>success</code> key. Always check this: <pre><code>result = client.create_instance(...)\nif result.get(\"success\"):\n    print(\"Instance created!\")\nelse:\n    print(f\"Error: {result.get('msg', 'Unknown error')}\")\n</code></pre></p>"},{"location":"sdk/#configuration-options","title":"Configuration Options","text":"<p>The <code>VastAI</code> constructor accepts several configuration options:</p> Parameter Type Default Description <code>api_key</code> <code>str</code> None API key (reads from file if not provided) <code>server_url</code> <code>str</code> <code>https://console.vast.ai</code> API base URL <code>retry</code> <code>int</code> 3 Number of retry attempts <code>raw</code> <code>bool</code> True Return JSON instead of printing <code>explain</code> <code>bool</code> False Print API endpoint info <code>quiet</code> <code>bool</code> False Suppress non-essential output <code>curl</code> <code>bool</code> False Print equivalent curl commands"},{"location":"sdk/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Detailed walkthrough</li> <li>API Reference - Full method documentation</li> </ul>"},{"location":"sdk/quickstart/","title":"SDK Quick Start","text":"<p>This guide walks through common SDK operations with working examples.</p>"},{"location":"sdk/quickstart/#installation","title":"Installation","text":"<pre><code>pip install vastai\n</code></pre> <p>Or for development:</p> <pre><code>pip install -e \".[dev]\"\n</code></pre>"},{"location":"sdk/quickstart/#authentication","title":"Authentication","text":"<pre><code>from vastai import VastAI\n\n# Option 1: Pass API key directly\nclient = VastAI(api_key=\"your-api-key\")\n\n# Option 2: Use environment variable\nimport os\nos.environ[\"VAST_API_KEY\"] = \"your-api-key\"\nclient = VastAI()\n\n# Option 3: Use stored key from CLI login\n# (Run `vastai set api-key YOUR_KEY` first)\nclient = VastAI()  # Reads from ~/.config/vastai/vast_api_key\n</code></pre>"},{"location":"sdk/quickstart/#searching-for-offers","title":"Searching for Offers","text":"<pre><code># Get all offers\noffers = client.search_offers()\nprint(f\"Found {len(offers)} offers\")\n\n# Limit results\noffers = client.search_offers(limit=10)\n\n# Filter by query\noffers = client.search_offers(query=\"num_gpus &gt;= 4 gpu_ram &gt;= 24\")\n\n# Sort by price\noffers = client.search_offers(order=\"dph_total\")\n</code></pre>"},{"location":"sdk/quickstart/#query-syntax","title":"Query Syntax","text":"<p>The query parameter supports various operators:</p> <pre><code># GPU requirements\noffers = client.search_offers(query=\"num_gpus &gt;= 2 gpu_name = RTX_4090\")\n\n# Memory requirements\noffers = client.search_offers(query=\"gpu_ram &gt;= 24 cpu_ram &gt;= 64\")\n\n# Reliability filter\noffers = client.search_offers(query=\"reliability &gt; 0.99\")\n\n# Combined filters\noffers = client.search_offers(\n    query=\"num_gpus &gt;= 4 gpu_ram &gt;= 24 dph_total &lt; 2.0\",\n    order=\"dph_total\"\n)\n</code></pre>"},{"location":"sdk/quickstart/#query-operators","title":"Query Operators","text":"Operator Description Example <code>=</code> Equals <code>gpu_name = RTX_4090</code> <code>!=</code> Not equals <code>gpu_name != GTX_1080</code> <code>&gt;</code> Greater than <code>gpu_ram &gt; 16</code> <code>&gt;=</code> Greater or equal <code>num_gpus &gt;= 2</code> <code>&lt;</code> Less than <code>dph_total &lt; 1.0</code> <code>&lt;=</code> Less or equal <code>reliability &lt;= 0.99</code> <code>in</code> In list <code>geolocation in [\"US\", \"CA\"]</code> <code>notin</code> Not in list <code>geolocation notin [\"CN\", \"RU\"]</code>"},{"location":"sdk/quickstart/#common-query-fields","title":"Common Query Fields","text":"Field Description <code>num_gpus</code> Number of GPUs <code>gpu_name</code> GPU model name <code>gpu_ram</code> GPU memory (GB) <code>cpu_cores</code> Number of CPU cores <code>cpu_ram</code> CPU memory (GB) <code>disk_space</code> Available disk (GB) <code>dph_total</code> Total price per hour <code>reliability</code> Host reliability (0-1) <code>geolocation</code> Country code"},{"location":"sdk/quickstart/#managing-instances","title":"Managing Instances","text":""},{"location":"sdk/quickstart/#create-an-instance","title":"Create an Instance","text":"<pre><code># Find an offer\noffers = client.search_offers(query=\"num_gpus = 1\", limit=1)\noffer_id = offers[0][\"id\"]\n\n# Create instance\nresult = client.create_instance(\n    id=offer_id,\n    image=\"pytorch/pytorch:latest\",\n    disk=20,  # GB\n    label=\"my-instance\"\n)\n\nif result.get(\"success\"):\n    instance_id = result[\"new_contract\"]\n    print(f\"Created instance: {instance_id}\")\n</code></pre>"},{"location":"sdk/quickstart/#list-instances","title":"List Instances","text":"<pre><code>instances = client.show_instances()\nfor inst in instances:\n    print(f\"ID: {inst['id']}, Status: {inst['actual_status']}\")\n</code></pre>"},{"location":"sdk/quickstart/#instance-status-values","title":"Instance Status Values","text":"Status Description <code>running</code> Instance is active and ready <code>loading</code> Instance is starting up <code>exited</code> Instance has stopped <code>offline</code> Host is offline"},{"location":"sdk/quickstart/#stop-and-start-instances","title":"Stop and Start Instances","text":"<pre><code># Stop an instance\nclient.stop_instance(id=instance_id)\n\n# Start it again\nclient.start_instance(id=instance_id)\n\n# Reboot\nclient.reboot_instance(id=instance_id)\n</code></pre>"},{"location":"sdk/quickstart/#destroy-an-instance","title":"Destroy an Instance","text":"<pre><code>result = client.destroy_instance(id=instance_id)\nif result.get(\"success\"):\n    print(\"Instance destroyed\")\n</code></pre>"},{"location":"sdk/quickstart/#ssh-access","title":"SSH Access","text":"<pre><code># Get SSH command for an instance\ninstances = client.show_instances()\nfor inst in instances:\n    ssh_host = inst.get(\"ssh_host\")\n    ssh_port = inst.get(\"ssh_port\")\n    if ssh_host and ssh_port:\n        print(f\"ssh -p {ssh_port} root@{ssh_host}\")\n</code></pre>"},{"location":"sdk/quickstart/#file-transfer","title":"File Transfer","text":"<pre><code># Copy files to instance\nclient.copy(\n    src=\"/local/path/file.txt\",\n    dst=f\"{instance_id}:/remote/path/\"\n)\n\n# Copy files from instance\nclient.copy(\n    src=f\"{instance_id}:/remote/path/results/\",\n    dst=\"/local/path/\"\n)\n</code></pre>"},{"location":"sdk/quickstart/#billing","title":"Billing","text":"<pre><code># Show current balance\nuser = client.show_user()\nprint(f\"Credit: ${user.get('credit', 0):.2f}\")\n\n# Show invoices\ninvoices = client.show_invoices()\nfor inv in invoices:\n    print(f\"Invoice {inv['id']}: ${inv.get('total', 0):.2f}\")\n</code></pre>"},{"location":"sdk/quickstart/#error-handling-best-practices","title":"Error Handling Best Practices","text":"<pre><code>from vastai import VastAI\n\nclient = VastAI(api_key=\"your-api-key\")\n\ndef create_instance_safely(offer_id: int, image: str) -&gt; dict | None:\n    \"\"\"Create an instance with proper error handling.\"\"\"\n    try:\n        result = client.create_instance(id=offer_id, image=image)\n\n        if not result.get(\"success\"):\n            print(f\"API error: {result.get('msg', 'Unknown error')}\")\n            return None\n\n        return result\n\n    except Exception as e:\n        print(f\"Exception: {e}\")\n        return None\n\n# Usage\nresult = create_instance_safely(12345, \"ubuntu:22.04\")\n</code></pre>"},{"location":"sdk/quickstart/#debug-mode","title":"Debug Mode","text":"<p>Enable debug output to see API calls:</p> <pre><code>client = VastAI(api_key=\"your-key\", explain=True, quiet=False)\nclient.search_offers(limit=1)\n# Prints: GET https://console.vast.ai/api/v0/bundles?...\n</code></pre>"},{"location":"sdk/quickstart/#working-with-teams","title":"Working with Teams","text":"<pre><code># Create a team\nresult = client.create_team(team_name=\"my-team\")\n\n# List team members\nmembers = client.show_members()\nfor member in members:\n    print(f\"Member: {member['email']} (ID: {member['id']})\")\n\n# Invite a member\nclient.invite_member(email=\"colleague@example.com\")\n\n# Remove a member\nclient.remove_member(id=member_id)\n</code></pre>"},{"location":"sdk/quickstart/#volumes-persistent-storage","title":"Volumes (Persistent Storage)","text":"<pre><code># Search volume offers\nvolume_offers = client.search_volumes()\n\n# List your volumes\nvolumes = client.show_volumes()\nfor vol in volumes:\n    print(f\"Volume: {vol['name']} ({vol['size']}GB)\")\n\n# Clone a volume\nresult = client.clone_volume(src_id=source_volume_id, dst_id=dest_offer_id)\n\n# Delete a volume\nclient.delete_volume(id=volume_id)\n</code></pre> <p>Note: Volumes are associated with instances at creation time, not attached/detached dynamically.</p>"},{"location":"sdk/quickstart/#templates","title":"Templates","text":"<pre><code># Search available templates\ntemplates = client.search_templates()\n\n# Create instance from template\nresult = client.create_instance(\n    id=offer_id,\n    template_id=template_id\n)\n</code></pre>"},{"location":"sdk/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference - Full method documentation</li> <li>CLI Commands - CLI reference</li> </ul>"},{"location":"sdk/reference/methods/","title":"SDK Method Reference","text":"<p>Complete mapping of SDK methods to CLI commands. Click CLI commands to see full documentation.</p>"},{"location":"sdk/reference/methods/#search-methods","title":"Search Methods","text":"SDK Method CLI Command Description <code>search_offers()</code> <code>search offers</code> Search available GPU offers <code>search_templates()</code> <code>search templates</code> Search templates <code>search_volumes()</code> <code>search volumes</code> Search volume offers <code>search_network_volumes()</code> <code>search network-volumes</code> Search network volumes <code>search_benchmarks()</code> <code>search benchmarks</code> Search benchmarks <code>search_invoices()</code> <code>search invoices</code> Search invoices"},{"location":"sdk/reference/methods/#instance-methods","title":"Instance Methods","text":"SDK Method CLI Command Description <code>show_instances()</code> <code>show instances</code> List all instances <code>show_instance(id)</code> <code>show instance</code> Get instance details <code>create_instance(id, image, ...)</code> <code>create instance</code> Create instance <code>launch_instance(...)</code> <code>launch instance</code> Search and launch in one <code>destroy_instance(id)</code> <code>destroy instance</code> Delete instance <code>destroy_instances(ids)</code> <code>destroy instances</code> Delete multiple <code>start_instance(id)</code> <code>start instance</code> Start stopped instance <code>start_instances(ids)</code> <code>start instances</code> Start multiple <code>stop_instance(id)</code> <code>stop instance</code> Stop running instance <code>stop_instances(ids)</code> <code>stop instances</code> Stop multiple <code>reboot_instance(id)</code> <code>reboot instance</code> Reboot instance <code>recycle_instance(id)</code> <code>recycle instance</code> Destroy and recreate <code>label_instance(id, label)</code> <code>label instance</code> Set instance label <code>update_instance(id, ...)</code> <code>update instance</code> Update from template <code>prepay_instance(id, amount)</code> <code>prepay instance</code> Add reserved credits <code>logs(id, ...)</code> <code>logs</code> Get instance logs <code>execute(id, command)</code> <code>execute</code> Run command on instance"},{"location":"sdk/reference/methods/#volume-methods","title":"Volume Methods","text":"SDK Method CLI Command Description <code>show_volumes()</code> <code>show volumes</code> List volumes <code>create_volume(...)</code> <code>create volume</code> Create volume <code>delete_volume(id)</code> <code>delete volume</code> Delete volume <code>clone_volume(id)</code> <code>clone volume</code> Clone volume <code>create_network_volume(...)</code> <code>create network-volume</code> Create network volume"},{"location":"sdk/reference/methods/#ssh-file-transfer-methods","title":"SSH &amp; File Transfer Methods","text":"SDK Method CLI Command Description <code>ssh_url(id)</code> <code>ssh-url</code> Get SSH URL <code>scp_url(id, path)</code> <code>scp-url</code> Get SCP URL <code>copy(src, dst)</code> <code>copy</code> Copy files <code>cloud_copy(src, dst)</code> <code>cloud copy</code> Cloud provider copy <code>cancel_copy(dst_id)</code> <code>cancel copy</code> Cancel copy <code>attach_ssh(instance_id, key_id)</code> <code>attach ssh</code> Attach SSH key <code>detach_ssh(instance_id, key_id)</code> <code>detach ssh</code> Detach SSH key"},{"location":"sdk/reference/methods/#billing-methods","title":"Billing Methods","text":"SDK Method CLI Command Description <code>show_user()</code> <code>show user</code> Get account info <code>show_invoices()</code> <code>show invoices</code> List invoices (deprecated) <code>show_invoices_v1(...)</code> <code>show invoices-v1</code> List invoices/charges <code>transfer_credit(amount, recipient)</code> <code>transfer credit</code> Transfer credits <code>show_deposit(id)</code> <code>show deposit</code> Show reserve deposit <code>show_audit_logs()</code> <code>show audit-logs</code> Show audit history <code>show_ipaddrs()</code> <code>show ipaddrs</code> Show IP history"},{"location":"sdk/reference/methods/#team-methods","title":"Team Methods","text":"SDK Method CLI Command Description <code>create_team(name)</code> <code>create team</code> Create team <code>destroy_team()</code> <code>destroy team</code> Delete team <code>invite_member(email)</code> <code>invite member</code> Invite member <code>remove_member(id)</code> <code>remove member</code> Remove member <code>show_members()</code> <code>show members</code> List members <code>create_team_role(name)</code> <code>create team-role</code> Create role <code>show_team_roles()</code> <code>show team-roles</code> List roles <code>show_team_role(id)</code> <code>show team-role</code> Show role <code>update_team_role(id, ...)</code> <code>update team-role</code> Update role <code>remove_team_role(id)</code> <code>remove team-role</code> Remove role"},{"location":"sdk/reference/methods/#autoscaling-worker-group-methods","title":"Autoscaling / Worker Group Methods","text":"SDK Method CLI Command Description <code>show_workergroups()</code> <code>show workergroups</code> List worker groups <code>create_workergroup(...)</code> <code>create workergroup</code> Create worker group <code>delete_workergroup(id)</code> <code>delete workergroup</code> Delete worker group <code>update_workergroup(id, ...)</code> <code>update workergroup</code> Update worker group <code>show_autoscalers()</code> <code>show workergroups</code> Alias for workergroups <code>create_autoscaler(...)</code> <code>create workergroup</code> Alias <code>delete_autoscaler(id)</code> <code>delete workergroup</code> Alias <code>update_autoscaler(id, ...)</code> <code>update workergroup</code> Alias <code>get_wrkgrp_logs(id)</code> <code>get wrkgrp-logs</code> Get worker group logs"},{"location":"sdk/reference/methods/#endpoint-methods-serverless","title":"Endpoint Methods (Serverless)","text":"SDK Method CLI Command Description <code>show_endpoints()</code> <code>show endpoints</code> List endpoints <code>create_endpoint(...)</code> <code>create endpoint</code> Create endpoint <code>delete_endpoint(id)</code> <code>delete endpoint</code> Delete endpoint <code>update_endpoint(id, ...)</code> <code>update endpoint</code> Update endpoint <code>get_endpt_logs(id)</code> <code>get endpt-logs</code> Get endpoint logs"},{"location":"sdk/reference/methods/#api-key-methods","title":"API Key Methods","text":"SDK Method CLI Command Description <code>show_api_keys()</code> <code>show api-keys</code> List API keys <code>show_api_key(id)</code> <code>show api-key</code> Show key details <code>create_api_key(name, ...)</code> <code>create api-key</code> Create API key <code>delete_api_key(id)</code> <code>delete api-key</code> Delete API key <code>reset_api_key()</code> <code>reset api-key</code> Reset primary key <code>set_api_key(key)</code> <code>set api-key</code> Store API key"},{"location":"sdk/reference/methods/#ssh-key-methods","title":"SSH Key Methods","text":"SDK Method CLI Command Description <code>show_ssh_keys()</code> <code>show ssh-keys</code> List SSH keys <code>create_ssh_key(name, key)</code> <code>create ssh-key</code> Add SSH key <code>delete_ssh_key(id)</code> <code>delete ssh-key</code> Delete SSH key <code>update_ssh_key(id, ...)</code> <code>update ssh-key</code> Update SSH key"},{"location":"sdk/reference/methods/#environment-variable-methods","title":"Environment Variable Methods","text":"SDK Method CLI Command Description <code>show_env_vars()</code> <code>show env-vars</code> List env vars <code>create_env_var(key, value)</code> <code>create env-var</code> Create env var <code>update_env_var(key, value)</code> <code>update env-var</code> Update env var <code>delete_env_var(key)</code> <code>delete env-var</code> Delete env var"},{"location":"sdk/reference/methods/#template-methods","title":"Template Methods","text":"SDK Method CLI Command Description <code>create_template(...)</code> <code>create template</code> Create template <code>delete_template(id)</code> <code>delete template</code> Delete template <code>update_template(id, ...)</code> <code>update template</code> Update template"},{"location":"sdk/reference/methods/#subaccount-methods","title":"Subaccount Methods","text":"SDK Method CLI Command Description <code>create_subaccount(...)</code> <code>create subaccount</code> Create subaccount <code>show_subaccounts()</code> <code>show subaccounts</code> List subaccounts"},{"location":"sdk/reference/methods/#scheduled-job-methods","title":"Scheduled Job Methods","text":"SDK Method CLI Command Description <code>show_scheduled_jobs()</code> <code>show scheduled-jobs</code> List scheduled jobs <code>delete_scheduled_job(id)</code> <code>delete scheduled-job</code> Delete scheduled job"},{"location":"sdk/reference/methods/#snapshot-methods","title":"Snapshot Methods","text":"SDK Method CLI Command Description <code>take_snapshot(...)</code> <code>take snapshot</code> Schedule container snapshot"},{"location":"sdk/reference/methods/#connection-methods","title":"Connection Methods","text":"SDK Method CLI Command Description <code>show_connections(id)</code> <code>show connections</code> Show peer connections"},{"location":"sdk/reference/methods/#two-factor-authentication-methods","title":"Two-Factor Authentication Methods","text":"SDK Method CLI Command Description <code>tfa_status()</code> <code>tfa status</code> Show 2FA status <code>tfa_totp_setup()</code> <code>tfa totp-setup</code> Set up TOTP authenticator <code>tfa_send_sms()</code> <code>tfa send-sms</code> Request SMS code <code>tfa_activate(...)</code> <code>tfa activate</code> Activate 2FA method <code>tfa_login(...)</code> <code>tfa login</code> Complete 2FA login <code>tfa_delete(...)</code> <code>tfa delete</code> Remove 2FA method <code>tfa_update(...)</code> <code>tfa update</code> Update 2FA settings <code>tfa_regen_codes(...)</code> <code>tfa regen-codes</code> Regenerate backup codes <code>tfa_resend_sms(...)</code> <code>tfa resend-sms</code> Resend SMS code"},{"location":"sdk/reference/methods/#host-methods","title":"Host Methods","text":"SDK Method CLI Command Description <code>show_machines()</code> <code>show machines</code> List hosted machines <code>show_machine(id)</code> <code>show machine</code> Show machine details <code>list_machine(id)</code> <code>list machine</code> List for rent <code>unlist_machine(id)</code> <code>unlist machine</code> Remove from market <code>delete_machine(id)</code> <code>delete machine</code> Delete machine <code>set_min_bid(id, price)</code> <code>set min-bid</code> Set min price <code>self_test_machine(id)</code> <code>self-test machine</code> Run diagnostics <code>show_earnings(...)</code> <code>show earnings</code> Show earnings <code>reports(id)</code> <code>reports</code> Get machine reports <code>schedule_maint(id, ...)</code> <code>schedule maint</code> Schedule maintenance <code>cancel_maint(id)</code> <code>cancel maint</code> Cancel maintenance <code>show_maints()</code> <code>show maints</code> Show maintenance <code>cleanup_machine(id)</code> <code>cleanup machine</code> Clean expired storage <code>defrag_machines()</code> <code>defrag machines</code> Defragment storage"},{"location":"sdk/reference/methods/#cluster-methods-beta","title":"Cluster Methods (Beta)","text":"SDK Method CLI Command Description <code>create_cluster(...)</code> <code>create cluster</code> Create cluster <code>delete_cluster(id)</code> <code>delete cluster</code> Delete cluster <code>join_cluster(id, machines)</code> <code>join cluster</code> Join machines <code>show_clusters()</code> <code>show clusters</code> List clusters <code>remove_machine_from_cluster(...)</code> <code>remove-machine-from-cluster</code> Remove from cluster <code>create_overlay(...)</code> <code>create overlay</code> Create overlay network <code>delete_overlay(id)</code> <code>delete overlay</code> Delete overlay <code>show_overlays()</code> <code>show overlays</code> List overlays <code>join_overlay(...)</code> <code>join overlay</code> Join overlay <code>add_network_disk(...)</code> <code>add network-disk</code> Add network disk <code>show_network_disks()</code> <code>show network-disks</code> List network disks"},{"location":"sdk/reference/methods/#see-also","title":"See Also","text":"<ul> <li>VastAI Class Reference - Constructor and patterns</li> <li>Quick Start Guide - Working examples</li> <li>CLI Command Reference - Full CLI documentation</li> </ul>"},{"location":"sdk/reference/vastai/","title":"VastAI API Reference","text":"<p>This page documents all public methods on the <code>VastAI</code> class.</p> <p>The VastAI class provides programmatic access to the Vast.ai GPU cloud platform. Each CLI command is available as a method on this class.</p>"},{"location":"sdk/reference/vastai/#class-overview","title":"Class Overview","text":"<pre><code>from vastai import VastAI\n\nclient = VastAI(\n    api_key: str | None = None,      # API key (reads from file if not provided)\n    server_url: str | None = None,   # Override API server URL\n    retry: int = 3,                  # Max retry attempts for transient failures\n    raw: bool = True,                # Return JSON instead of printing (SDK default)\n    explain: bool = False,           # Print API endpoint info for debugging\n    quiet: bool = False,             # Suppress non-essential output\n    curl: bool = False,              # Print equivalent curl commands\n)\n</code></pre> <p>The SDK provides 130+ methods corresponding to CLI commands. All methods return either:</p> <ul> <li><code>dict[str, Any]</code> - Single object responses</li> <li><code>list[dict[str, Any]]</code> - Collection responses</li> </ul> <p>Most responses include a <code>success</code> boolean and <code>msg</code> string for error details.</p>"},{"location":"sdk/reference/vastai/#common-patterns","title":"Common Patterns","text":""},{"location":"sdk/reference/vastai/#error-handling","title":"Error Handling","text":"<pre><code>from vastai import VastAI\n\nclient = VastAI(api_key=\"your-key\")\n\nresult = client.create_instance(id=12345, image=\"pytorch/pytorch\")\n\nif result.get(\"success\"):\n    instance_id = result[\"new_contract\"]\n    print(f\"Created instance: {instance_id}\")\nelse:\n    print(f\"Error: {result.get('msg', 'Unknown error')}\")\n</code></pre>"},{"location":"sdk/reference/vastai/#filtering-results","title":"Filtering Results","text":"<pre><code># Use query parameter for server-side filtering\noffers = client.search_offers(\n    query=\"num_gpus &gt;= 4 gpu_ram &gt;= 24 dph_total &lt; 2.0\",\n    order=\"dph_total\",\n    limit=10\n)\n</code></pre>"},{"location":"sdk/reference/vastai/#debug-mode","title":"Debug Mode","text":"<pre><code># See API calls being made\nclient = VastAI(api_key=\"key\", explain=True)\nclient.search_offers(limit=1)\n# Prints: GET https://console.vast.ai/api/v0/bundles?...\n</code></pre>"},{"location":"sdk/reference/vastai/#return-types","title":"Return Types","text":"<p>All methods return one of:</p> <ul> <li><code>dict[str, Any]</code> - Single object responses</li> <li><code>list[dict[str, Any]]</code> - Collection responses</li> </ul> <p>Most responses include a <code>success</code> boolean and <code>msg</code> string for error details.</p>"},{"location":"sdk/reference/vastai/#see-also","title":"See Also","text":"<ul> <li>Quick Start Guide - Working examples</li> <li>CLI Command Reference - Full CLI documentation</li> <li>Migration Guide - Upgrading from old SDK</li> </ul>"},{"location":"serverless/","title":"Serverless Framework","text":"<p>The Vast.ai serverless framework provides async client/server components for distributed GPU workloads.</p>"},{"location":"serverless/#overview","title":"Overview","text":"<p>The serverless framework consists of two main components:</p> <ul> <li>Client (<code>Serverless</code>): Sends requests to workers and handles responses</li> <li>Server (<code>Worker</code>): Runs on GPU instances, processes requests</li> </ul> <pre><code>+-------------+     HTTP/WebSocket     +-------------+\n|   Client    | ---------------------&gt; |   Worker    |\n| (Serverless)| &lt;--------------------- | (GPU Node)  |\n+-------------+                        +-------------+\n</code></pre>"},{"location":"serverless/#installation","title":"Installation","text":"<p>The serverless components require additional dependencies:</p> <pre><code>pip install \"vastai[serverless]\"\n</code></pre> <p>This installs:</p> <ul> <li><code>aiohttp</code> - Async HTTP client/server</li> <li><code>anyio</code> - Async runtime abstraction</li> <li><code>psutil</code> - System monitoring</li> <li><code>pycryptodome</code> - Encryption</li> </ul>"},{"location":"serverless/#quick-start","title":"Quick Start","text":""},{"location":"serverless/#client-side","title":"Client Side","text":"<pre><code>import asyncio\nfrom vastai import Serverless\n\nasync def main():\n    # Create client with async context manager\n    async with Serverless(\n        api_key=\"your-api-key\",\n        debug=False,\n        connection_limit=500,\n        default_request_timeout=600.0\n    ) as client:\n        # Send request to autoscaler endpoint\n        response = await client.request(\n            endpoint_id=\"your-endpoint-id\",\n            payload={\"prompt\": \"Hello, world!\", \"max_tokens\": 100}\n        )\n        print(response)\n\nasyncio.run(main())\n</code></pre>"},{"location":"serverless/#server-side-worker","title":"Server Side (Worker)","text":"<pre><code>from vastai import Worker, WorkerConfig, HandlerConfig\n\n# Define request handler\nconfig = WorkerConfig(\n    model_server_url=\"http://localhost:8000\",\n    model_server_port=8000,\n    handlers=[\n        HandlerConfig(\n            route=\"/generate\",\n            allow_parallel_requests=False,\n            max_queue_time=30.0\n        )\n    ]\n)\n\n# Start the worker\nworker = Worker(config)\nworker.run()\n</code></pre>"},{"location":"serverless/#key-classes","title":"Key Classes","text":""},{"location":"serverless/#serverless-client","title":"Serverless (Client)","text":"<p>The main client class for sending requests to workers via the Vast.ai autoscaler.</p> <pre><code>from vastai import Serverless\n\nclient = Serverless(\n    api_key=\"your-api-key\",     # Required: API key\n    debug=False,                 # Enable debug logging\n    instance=\"prod\",             # Instance: prod, alpha, or local\n    connection_limit=500,        # Max concurrent connections\n    default_request_timeout=600.0,  # Request timeout in seconds\n    max_poll_interval=15.0       # Max polling interval\n)\n</code></pre> <p>Parameters:</p> Parameter Type Default Description <code>api_key</code> <code>str</code> <code>VAST_API_KEY</code> env Your Vast.ai API key <code>debug</code> <code>bool</code> <code>False</code> Enable debug logging <code>instance</code> <code>str</code> <code>\"prod\"</code> Autoscaler instance (prod/alpha/local) <code>connection_limit</code> <code>int</code> <code>500</code> Max concurrent HTTP connections <code>default_request_timeout</code> <code>float</code> <code>600.0</code> Request timeout in seconds <code>max_poll_interval</code> <code>float</code> <code>15.0</code> Maximum polling interval"},{"location":"serverless/#worker-server","title":"Worker (Server)","text":"<p>The server component that runs on GPU instances.</p> <pre><code>from vastai import Worker, WorkerConfig\n\nconfig = WorkerConfig(\n    model_server_url=\"http://localhost:8000\",\n    handlers=[...]\n)\nworker = Worker(config)\nworker.run()\n</code></pre>"},{"location":"serverless/#configuration-classes","title":"Configuration Classes","text":"Class Purpose <code>WorkerConfig</code> Main worker configuration <code>HandlerConfig</code> Request handler settings <code>LogActionConfig</code> Logging configuration <code>BenchmarkConfig</code> Performance benchmarking <code>ServerlessRequest</code> Request future with status tracking"},{"location":"serverless/#workerconfig","title":"WorkerConfig","text":"<pre><code>from vastai import WorkerConfig\n\nconfig = WorkerConfig(\n    model_server_url=\"http://localhost:8000\",  # Backend model server URL\n    model_server_port=8000,                    # Backend port\n    model_log_file=\"/var/log/model.log\",       # Log file path\n    model_healthcheck_url=\"/health\",           # Health check endpoint\n    handlers=[...],                            # List of HandlerConfig\n    log_action_config=LogActionConfig()        # Logging configuration\n)\n</code></pre>"},{"location":"serverless/#handlerconfig","title":"HandlerConfig","text":"<pre><code>from vastai import HandlerConfig, BenchmarkConfig\n\nhandler = HandlerConfig(\n    route=\"/generate\",              # Route path\n    allow_parallel_requests=False,  # Allow parallel request processing\n    max_queue_time=30.0,            # Max time request can wait in queue\n    benchmark_config=BenchmarkConfig(),  # Optional benchmarking\n    handler_class=None,             # Custom handler class\n    payload_class=None,             # Custom payload class\n    request_parser=None,            # Custom request parser function\n    response_generator=None,        # Custom response generator function\n    workload_calculator=None        # Custom workload calculator\n)\n</code></pre>"},{"location":"serverless/#benchmarkconfig","title":"BenchmarkConfig","text":"<pre><code>from vastai import BenchmarkConfig\n\nbenchmark = BenchmarkConfig(\n    dataset=[{\"prompt\": \"test\"}],  # Test dataset\n    generator=None,                 # Optional sample factory function\n    runs=8,                         # Number of benchmark runs\n    concurrency=10                  # Concurrent requests during benchmark\n)\n</code></pre>"},{"location":"serverless/#lazy-loading","title":"Lazy Loading","text":"<p>The serverless classes are lazily imported to avoid requiring <code>aiohttp</code> for users who only need the basic SDK:</p> <pre><code># This works without aiohttp installed\nfrom vastai import VastAI\nclient = VastAI(api_key=\"key\")\n\n# This requires aiohttp (lazy import triggers here)\nfrom vastai import Serverless  # Imports aiohttp on first access\n</code></pre> <p>This design means users who only need CLI/SDK functionality don't need to install the heavier async dependencies.</p>"},{"location":"serverless/#use-cases","title":"Use Cases","text":""},{"location":"serverless/#inference-server","title":"Inference Server","text":"<p>Run a model inference server on a rented GPU:</p> <pre><code>from vastai import Worker, WorkerConfig, HandlerConfig\n\nconfig = WorkerConfig(\n    model_server_url=\"http://localhost:8000\",\n    handlers=[\n        HandlerConfig(\n            route=\"/v1/completions\",\n            allow_parallel_requests=True,\n            max_queue_time=60.0\n        )\n    ]\n)\n\nworker = Worker(config)\nworker.run()\n</code></pre>"},{"location":"serverless/#batch-processing","title":"Batch Processing","text":"<p>Process multiple requests in parallel:</p> <pre><code>from vastai import Serverless\nimport asyncio\n\nasync def batch_process(api_key: str, endpoint_id: str, requests: list):\n    async with Serverless(api_key=api_key) as client:\n        tasks = [\n            client.request(endpoint_id=endpoint_id, payload=req)\n            for req in requests\n        ]\n        results = await asyncio.gather(*tasks, return_exceptions=True)\n        return results\n</code></pre>"},{"location":"serverless/#custom-handler","title":"Custom Handler","text":"<p>Create a custom endpoint handler:</p> <pre><code>from vastai import WorkerConfig, HandlerConfig\n\ndef parse_request(data: dict) -&gt; dict:\n    \"\"\"Custom request parser.\"\"\"\n    return {\"processed\": data.get(\"input\", \"\")}\n\ndef calculate_workload(data: dict) -&gt; float:\n    \"\"\"Estimate workload for queue prioritization.\"\"\"\n    return len(data.get(\"input\", \"\")) / 1000.0\n\nconfig = WorkerConfig(\n    handlers=[\n        HandlerConfig(\n            route=\"/custom\",\n            request_parser=parse_request,\n            workload_calculator=calculate_workload\n        )\n    ]\n)\n</code></pre>"},{"location":"serverless/#error-handling","title":"Error Handling","text":"<pre><code>from vastai import Serverless\n\nasync def robust_request(api_key: str, endpoint_id: str, data: dict):\n    try:\n        async with Serverless(api_key=api_key) as client:\n            response = await client.request(\n                endpoint_id=endpoint_id,\n                payload=data\n            )\n            if response.get(\"success\"):\n                return response.get(\"result\")\n            else:\n                print(f\"Error: {response.get('error')}\")\n                return None\n    except Exception as e:\n        print(f\"Request failed: {e}\")\n        return None\n</code></pre>"},{"location":"serverless/#next-steps","title":"Next Steps","text":"<ul> <li>SDK Overview - Basic SDK usage</li> <li>CLI Reference - Command-line tools</li> <li>Installation - Full installation options</li> </ul>"}]}